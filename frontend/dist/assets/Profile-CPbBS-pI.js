import{c as i,b as n,d as e,_ as ke,N as he,u as Se,G as Ae,r as p,n as z,o as Ce,a as Pe,e as y,L as Ee,t as r,f as k,h as M,i as d,I as $,q as a,J as c,v as le,s as I,K as q,g as Ue,w as Ve,H as J,m as g}from"./index-D5lSLxc0.js";function De(O,V){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"})])}function Te(O,V){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function oe(O,V){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}const je={class:"max-w-4xl mx-auto space-y-6"},Be={class:"flex justify-between items-center"},Ne={class:"flex items-center space-x-2"},Le={class:"card"},Fe={class:"flex justify-between items-center mb-6"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ze={class:"flex space-x-4"},Me=["disabled"],$e={key:1,class:"space-y-4"},qe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Oe={class:"mt-1 text-gray-900"},Ge={class:"mt-1 text-gray-900"},Ie={class:"mt-1 text-gray-900"},Je={class:"mt-1 text-gray-900"},Re={key:0},He={class:"mt-1 text-gray-900"},Ye={class:"card"},Ze={class:"flex justify-between items-center mb-6"},Ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},We={class:"md:col-span-2"},Qe={class:"md:col-span-2"},Xe={class:"flex space-x-4"},et=["disabled"],tt={key:1,class:"space-y-2"},st={class:"font-medium"},lt={key:0,class:"text-gray-600"},ot={key:1},rt={key:2,class:"text-center py-8 text-gray-500"},at={class:"card"},nt={class:"space-y-4"},it={class:"flex items-center justify-between"},dt={class:"relative inline-flex items-center cursor-pointer"},ut={class:"flex items-center justify-between"},pt={class:"relative inline-flex items-center cursor-pointer"},ct={class:"flex items-center justify-between"},mt={class:"relative inline-flex items-center cursor-pointer"},ft={class:"flex items-center justify-between"},vt={class:"relative inline-flex items-center cursor-pointer"},bt={class:"pt-4"},yt=["disabled"],xt={class:"card"},gt={class:"space-y-6"},wt={class:"border-b pb-6"},kt={class:"flex justify-between items-center mb-4"},ht={class:"text-sm text-gray-600"},St={class:"space-y-3"},At={class:"flex items-center justify-between p-3 bg-gray-50 rounded"},Ct={class:"flex items-center space-x-3"},Pt={class:"text-xs text-gray-600"},Et={class:"card"},Ut={class:"space-y-4"},Vt={key:0,class:"flex justify-between items-center p-4 border border-green-200 rounded-lg"},Dt={key:1,class:"flex justify-between items-center p-4 border border-blue-200 rounded-lg"},Tt={class:"text-sm text-blue-600"},jt={class:"flex justify-between items-center p-4 border border-gray-200 rounded-lg"},Bt=["disabled"],Nt={class:"flex justify-between items-center p-4 border border-red-200 rounded-lg"},Lt={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ft={class:"bg-white rounded-lg p-6 w-full max-w-md"},_t={class:"flex justify-between items-center mb-4"},zt={class:"flex space-x-4"},Mt=["disabled"],$t={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},qt={class:"bg-white rounded-lg p-6 w-full max-w-md"},Ot={class:"flex justify-between items-center mb-4"},Gt={class:"space-y-4"},It={class:"flex space-x-4"},Jt=["disabled"],Rt={key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ht={class:"bg-white rounded-lg p-6 w-full max-w-md"},Yt={class:"flex justify-between items-center mb-4"},Zt={class:"space-y-4"},Kt={class:"flex space-x-4"},Wt=["disabled"],Qt={key:3,class:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50"},Xt={__name:"Profile",setup(O){const V=he(),o=Se(),m=Ae(),D=p(!1),T=p(!1),j=p(!1),B=p(!1),N=p(!1),L=p(!1),F=p(!1),S=p(!1),A=p(!1),C=p(!1),P=p(!1),E=p(!1),_=p(""),f=p({display_name:"",email:"",phone:"",timezone:"",bio:""}),u=p({name:"",company:"",street1:"",street2:"",city:"",state:"",zip:"",country:""}),x=p({order_updates:!0,price_alerts:!0,marketing:!1,security:!0}),v=p({current:"",new:"",confirm:""}),U=p(""),G=z(()=>{var l;return((l=o.profile)==null?void 0:l.shipping_address)&&Object.keys(o.profile.shipping_address).length>0}),b=z(()=>{var l;return((l=o.profile)==null?void 0:l.shipping_address)||{}}),re=z(()=>navigator.userAgent.includes("Chrome")?"Chrome Browser":navigator.userAgent.includes("Firefox")?"Firefox Browser":navigator.userAgent.includes("Safari")?"Safari Browser":"Unknown Browser"),ae=z(()=>"Vancouver, BC"),ne=()=>{var l,t;return((l=o.profile)==null?void 0:l.role)==="admin"?"bg-purple-100 text-purple-800":o.isSeller?"bg-green-100 text-green-800":((t=o.profile)==null?void 0:t.role)==="seller"?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"},ie=()=>{var l,t;return((l=o.profile)==null?void 0:l.role)==="admin"?"Administrator":o.isSeller?"Approved Seller":((t=o.profile)==null?void 0:t.role)==="seller"?"Seller (Pending)":"Buyer"},R=l=>l?new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Unknown",de=l=>({CA:"Canada",US:"United States",GB:"United Kingdom",AU:"Australia",DE:"Germany",FR:"France",JP:"Japan"})[l]||l,h=l=>{_.value=l,setTimeout(()=>{_.value=""},3e3)},H=()=>{var l;o.profile&&(f.value={display_name:o.profile.display_name||"",email:((l=o.user)==null?void 0:l.email)||"",phone:o.profile.phone||"",timezone:o.profile.timezone||"",bio:o.profile.bio||""})},Y=()=>{G.value&&(u.value={...b.value})},ue=()=>{var l;(l=o.profile)!=null&&l.email_preferences&&(x.value={...o.profile.email_preferences})},pe=async()=>{D.value=!0;try{await g.put("/users/profile",f.value),await o.fetchProfile(),S.value=!1,h("Profile updated successfully!")}catch(l){m.error("Failed to update profile"),console.error("Profile update error:",l)}finally{D.value=!1}},ce=()=>{S.value=!1,H()},me=async()=>{T.value=!0;try{await g.put("/users/profile",{shipping_address:u.value}),await o.fetchProfile(),A.value=!1,h("Shipping address updated successfully!")}catch(l){m.error("Failed to update shipping address"),console.error("Address update error:",l)}finally{T.value=!1}},fe=()=>{A.value=!1,Y()},ve=async()=>{j.value=!0;try{await g.put("/users/profile",{email_preferences:x.value}),await o.fetchProfile(),h("Email preferences updated successfully!")}catch(l){m.error("Failed to update email preferences"),console.error("Email preferences error:",l)}finally{j.value=!1}},be=async()=>{if(v.value.new!==v.value.confirm){m.error("New passwords do not match");return}if(v.value.new.length<6){m.error("Password must be at least 6 characters");return}B.value=!0;try{await g.post("/auth/change-password",{current_password:v.value.current,new_password:v.value.new}),C.value=!1,v.value={current:"",new:"",confirm:""},h("Password updated successfully!")}catch(l){m.error("Failed to update password. Please check your current password."),console.error("Password change error:",l)}finally{B.value=!1}},ye=async()=>{try{await g.post("/auth/sign-out-all"),await o.signOut(),m.success("Signed out from all devices")}catch(l){m.error("Failed to sign out from all devices"),console.error("Sign out error:",l)}},xe=async()=>{F.value=!0;try{await g.post("/auth/apply-seller",{user_id:o.user.id,business_info:{application_date:new Date().toISOString(),reason:"Profile page application"}}),await o.fetchProfile(),E.value=!1,h("Seller application submitted! We'll review it within 2-3 business days.")}catch(l){m.error("Failed to submit seller application"),console.error("Seller application error:",l)}finally{F.value=!1}},ge=async()=>{N.value=!0;try{const l=await g.get("/users/export-data",{responseType:"blob"}),t=window.URL.createObjectURL(new Blob([l.data])),w=document.createElement("a");w.href=t,w.setAttribute("download",`mtg-marketplace-data-${new Date().toISOString().split("T")[0]}.json`),document.body.appendChild(w),w.click(),w.remove(),h("Data export started! Check your downloads.")}catch(l){m.error("Failed to export data"),console.error("Data export error:",l)}finally{N.value=!1}},we=async()=>{if(U.value!=="DELETE"){m.error('Please type "DELETE" to confirm');return}L.value=!0;try{await g.delete("/users/account"),await o.signOut(),V.push("/"),m.success("Account deleted successfully")}catch(l){m.error("Failed to delete account"),console.error("Account deletion error:",l)}finally{L.value=!1,P.value=!1,U.value=""}};return Ce(()=>{H(),Y(),ue()}),(l,t)=>{var Z,K,W,Q,X,ee,te,se;const w=Pe("router-link");return n(),i("div",je,[e("div",Be,[t[32]||(t[32]=e("h1",{class:"text-3xl font-bold"},"Profile Settings",-1)),e("div",Ne,[e("span",{class:Ee([ne(),"px-3 py-1 rounded-full text-sm font-medium"])},r(ie()),3)])]),e("div",Le,[e("div",Fe,[t[34]||(t[34]=e("h2",{class:"text-xl font-bold"},"Personal Information",-1)),S.value?y("",!0):(n(),i("button",{key:0,onClick:t[0]||(t[0]=s=>S.value=!0),class:"btn-secondary"},[k(d(oe),{class:"h-4 w-4 mr-2"}),t[33]||(t[33]=M(" Edit ",-1))]))]),S.value?(n(),i("form",{key:0,onSubmit:$(pe,["prevent"]),class:"space-y-6"},[e("div",_e,[e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Display Name",-1)),a(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>f.value.display_name=s),type:"text",required:"",class:"input-field",placeholder:"Your display name"},null,512),[[c,f.value.display_name]])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>f.value.email=s),type:"email",disabled:"",class:"input-field bg-gray-100 cursor-not-allowed"},null,512),[[c,f.value.email]]),t[37]||(t[37]=e("p",{class:"text-xs text-gray-500 mt-1"},"Contact support to change your email",-1))]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>f.value.phone=s),type:"tel",class:"input-field",placeholder:"+1 (555) 123-4567"},null,512),[[c,f.value.phone]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Time Zone",-1)),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>f.value.timezone=s),class:"input-field"},[...t[39]||(t[39]=[I('<option value="" data-v-8be18200>Select timezone</option><option value="America/Vancouver" data-v-8be18200>Pacific Time (Vancouver)</option><option value="America/Toronto" data-v-8be18200>Eastern Time (Toronto)</option><option value="America/New_York" data-v-8be18200>Eastern Time (New York)</option><option value="Europe/London" data-v-8be18200>GMT (London)</option><option value="UTC" data-v-8be18200>UTC</option>',6)])],512),[[le,f.value.timezone]])])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Bio",-1)),a(e("textarea",{"onUpdate:modelValue":t[5]||(t[5]=s=>f.value.bio=s),rows:"3",class:"input-field",placeholder:"Tell us about yourself and your MTG interests..."},null,512),[[c,f.value.bio]])]),e("div",ze,[e("button",{type:"button",onClick:ce,class:"btn-secondary"}," Cancel "),e("button",{type:"submit",disabled:D.value,class:"btn-primary"},r(D.value?"Saving...":"Save Changes"),9,Me)])],32)):(n(),i("div",$e,[e("div",qe,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-gray-700"},"Display Name",-1)),e("p",Oe,r(((Z=d(o).profile)==null?void 0:Z.display_name)||"Not set"),1)]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700"},"Email Address",-1)),e("p",Ge,r((K=d(o).user)==null?void 0:K.email),1)]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700"},"Phone Number",-1)),e("p",Ie,r(((W=d(o).profile)==null?void 0:W.phone)||"Not set"),1)]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-gray-700"},"Member Since",-1)),e("p",Je,r(R((Q=d(o).profile)==null?void 0:Q.created_at)),1)])]),(X=d(o).profile)!=null&&X.bio?(n(),i("div",Re,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-gray-700"},"Bio",-1)),e("p",He,r(d(o).profile.bio),1)])):y("",!0)]))]),e("div",Ye,[e("div",Ze,[t[47]||(t[47]=e("h2",{class:"text-xl font-bold"},"Shipping Address",-1)),A.value?y("",!0):(n(),i("button",{key:0,onClick:t[6]||(t[6]=s=>A.value=!0),class:"btn-secondary"},[k(d(oe),{class:"h-4 w-4 mr-2"}),M(" "+r(G.value?"Edit":"Add Address"),1)]))]),A.value?(n(),i("form",{key:0,onSubmit:$(me,["prevent"]),class:"space-y-6"},[e("div",Ke,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>u.value.name=s),type:"text",required:"",class:"input-field",placeholder:"John Doe"},null,512),[[c,u.value.name]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Company (Optional)",-1)),a(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>u.value.company=s),type:"text",class:"input-field",placeholder:"Company Name"},null,512),[[c,u.value.company]])]),e("div",We,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Street Address",-1)),a(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>u.value.street1=s),type:"text",required:"",class:"input-field",placeholder:"123 Main Street"},null,512),[[c,u.value.street1]])]),e("div",Qe,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Apartment, Suite, etc. (Optional) ",-1)),a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>u.value.street2=s),type:"text",class:"input-field",placeholder:"Apt 4B"},null,512),[[c,u.value.street2]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"City",-1)),a(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>u.value.city=s),type:"text",required:"",class:"input-field",placeholder:"Vancouver"},null,512),[[c,u.value.city]])]),e("div",null,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"State/Province",-1)),a(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>u.value.state=s),type:"text",required:"",class:"input-field",placeholder:"BC"},null,512),[[c,u.value.state]])]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Postal Code",-1)),a(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>u.value.zip=s),type:"text",required:"",class:"input-field",placeholder:"V6B 1A1"},null,512),[[c,u.value.zip]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Country",-1)),a(e("select",{"onUpdate:modelValue":t[14]||(t[14]=s=>u.value.country=s),required:"",class:"input-field"},[...t[55]||(t[55]=[I('<option value="" data-v-8be18200>Select country</option><option value="CA" data-v-8be18200>Canada</option><option value="US" data-v-8be18200>United States</option><option value="GB" data-v-8be18200>United Kingdom</option><option value="AU" data-v-8be18200>Australia</option><option value="DE" data-v-8be18200>Germany</option><option value="FR" data-v-8be18200>France</option><option value="JP" data-v-8be18200>Japan</option>',8)])],512),[[le,u.value.country]])])]),e("div",Xe,[e("button",{type:"button",onClick:fe,class:"btn-secondary"}," Cancel "),e("button",{type:"submit",disabled:T.value,class:"btn-primary"},r(T.value?"Saving...":"Save Address"),9,et)])],32)):G.value?(n(),i("div",tt,[e("p",st,r(b.value.name),1),b.value.company?(n(),i("p",lt,r(b.value.company),1)):y("",!0),e("p",null,r(b.value.street1),1),b.value.street2?(n(),i("p",ot,r(b.value.street2),1)):y("",!0),e("p",null,r(b.value.city)+", "+r(b.value.state)+" "+r(b.value.zip),1),e("p",null,r(de(b.value.country)),1)])):(n(),i("div",rt,[k(d(Te),{class:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t[57]||(t[57]=e("p",null,"No shipping address set",-1)),t[58]||(t[58]=e("p",{class:"text-sm"},"Add an address to enable order shipping",-1))]))]),e("div",at,[t[67]||(t[67]=e("div",{class:"flex justify-between items-center mb-6"},[e("h2",{class:"text-xl font-bold"},"Email Preferences")],-1)),e("form",{onSubmit:$(ve,["prevent"]),class:"space-y-4"},[e("div",nt,[e("div",it,[t[60]||(t[60]=e("div",null,[e("h3",{class:"font-medium"},"Order Updates"),e("p",{class:"text-sm text-gray-600"},"Notifications about your orders and shipping")],-1)),e("label",dt,[a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>x.value.order_updates=s),type:"checkbox",class:"sr-only peer"},null,512),[[q,x.value.order_updates]]),t[59]||(t[59]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),e("div",ut,[t[62]||(t[62]=e("div",null,[e("h3",{class:"font-medium"},"Price Alerts"),e("p",{class:"text-sm text-gray-600"},"Get notified when wishlist cards drop in price")],-1)),e("label",pt,[a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>x.value.price_alerts=s),type:"checkbox",class:"sr-only peer"},null,512),[[q,x.value.price_alerts]]),t[61]||(t[61]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),e("div",ct,[t[64]||(t[64]=e("div",null,[e("h3",{class:"font-medium"},"Marketing Emails"),e("p",{class:"text-sm text-gray-600"},"News, promotions, and platform updates")],-1)),e("label",mt,[a(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>x.value.marketing=s),type:"checkbox",class:"sr-only peer"},null,512),[[q,x.value.marketing]]),t[63]||(t[63]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])]),e("div",ft,[t[66]||(t[66]=e("div",null,[e("h3",{class:"font-medium"},"Security Alerts"),e("p",{class:"text-sm text-gray-600"},"Important account security notifications (recommended)")],-1)),e("label",vt,[a(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>x.value.security=s),type:"checkbox",class:"sr-only peer"},null,512),[[q,x.value.security]]),t[65]||(t[65]=e("div",{class:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"},null,-1))])])]),e("div",bt,[e("button",{type:"submit",disabled:j.value,class:"btn-primary"},r(j.value?"Saving...":"Save Email Preferences"),9,yt)])],32)]),e("div",xt,[t[73]||(t[73]=e("h2",{class:"text-xl font-bold mb-6"},"Security",-1)),e("div",gt,[e("div",wt,[e("div",kt,[e("div",null,[t[68]||(t[68]=e("h3",{class:"font-medium"},"Password",-1)),e("p",ht,"Last updated "+r(R((ee=d(o).user)==null?void 0:ee.updated_at)),1)]),e("button",{onClick:t[19]||(t[19]=s=>C.value=!0),class:"btn-secondary"}," Change Password ")])]),t[72]||(t[72]=I('<div class="border-b pb-6" data-v-8be18200><div class="flex justify-between items-center mb-4" data-v-8be18200><div data-v-8be18200><h3 class="font-medium" data-v-8be18200>Two-Factor Authentication</h3><p class="text-sm text-gray-600" data-v-8be18200>Add an extra layer of security to your account</p></div><span class="px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm" data-v-8be18200> Coming Soon </span></div></div>',1)),e("div",null,[e("div",{class:"flex justify-between items-center mb-4"},[t[69]||(t[69]=e("div",null,[e("h3",{class:"font-medium"},"Active Sessions"),e("p",{class:"text-sm text-gray-600"},"Manage where you're signed in")],-1)),e("button",{onClick:ye,class:"text-red-600 hover:text-red-800 text-sm font-medium"}," Sign out everywhere ")]),e("div",St,[e("div",At,[e("div",Ct,[k(d(De),{class:"h-5 w-5 text-gray-400"}),e("div",null,[t[70]||(t[70]=e("p",{class:"font-medium text-sm"},"Current Session",-1)),e("p",Pt,r(re.value)+" • "+r(ae.value),1)])]),t[71]||(t[71]=e("span",{class:"px-2 py-1 bg-green-100 text-green-800 rounded text-xs"},"Active",-1))])])])])]),e("div",Et,[t[79]||(t[79]=e("h2",{class:"text-xl font-bold mb-6"},"Account Actions",-1)),e("div",Ut,[!d(o).isSeller&&((te=d(o).profile)==null?void 0:te.role)!=="seller"?(n(),i("div",Vt,[t[74]||(t[74]=e("div",null,[e("h3",{class:"font-medium text-green-800"},"Become a Seller"),e("p",{class:"text-sm text-green-600"},"Start selling your MTG cards on our marketplace")],-1)),e("button",{onClick:t[20]||(t[20]=s=>E.value=!0),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"}," Apply Now ")])):((se=d(o).profile)==null?void 0:se.role)==="seller"?(n(),i("div",Dt,[e("div",null,[t[75]||(t[75]=e("h3",{class:"font-medium text-blue-800"},"Seller Account",-1)),e("p",Tt," Status: "+r(d(o).profile.approved?"Approved":"Pending Approval"),1)]),d(o).isSeller?(n(),Ue(w,{key:0,to:"/seller",class:"btn-primary"},{default:Ve(()=>[...t[76]||(t[76]=[M(" Seller Dashboard ",-1)])]),_:1})):y("",!0)])):y("",!0),e("div",jt,[t[77]||(t[77]=e("div",null,[e("h3",{class:"font-medium"},"Export Your Data"),e("p",{class:"text-sm text-gray-600"},"Download a copy of your account data")],-1)),e("button",{onClick:ge,disabled:N.value,class:"btn-secondary"},r(N.value?"Preparing...":"Export Data"),9,Bt)]),e("div",Nt,[t[78]||(t[78]=e("div",null,[e("h3",{class:"font-medium text-red-800"},"Delete Account"),e("p",{class:"text-sm text-red-600"},"Permanently delete your account and all data")],-1)),e("button",{onClick:t[21]||(t[21]=s=>P.value=!0),class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"}," Delete Account ")])])]),C.value?(n(),i("div",Lt,[e("div",Ft,[e("div",_t,[t[80]||(t[80]=e("h3",{class:"text-lg font-semibold"},"Change Password",-1)),e("button",{onClick:t[22]||(t[22]=s=>C.value=!1),class:"text-gray-500 hover:text-gray-700"},[k(d(J),{class:"h-6 w-6"})])]),e("form",{onSubmit:$(be,["prevent"]),class:"space-y-4"},[e("div",null,[t[81]||(t[81]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Current Password",-1)),a(e("input",{"onUpdate:modelValue":t[23]||(t[23]=s=>v.value.current=s),type:"password",required:"",class:"input-field",placeholder:"Enter current password"},null,512),[[c,v.value.current]])]),e("div",null,[t[82]||(t[82]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"New Password",-1)),a(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>v.value.new=s),type:"password",required:"",class:"input-field",placeholder:"Enter new password",minlength:"6"},null,512),[[c,v.value.new]])]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm New Password",-1)),a(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>v.value.confirm=s),type:"password",required:"",class:"input-field",placeholder:"Confirm new password"},null,512),[[c,v.value.confirm]])]),e("div",zt,[e("button",{type:"button",onClick:t[26]||(t[26]=s=>C.value=!1),class:"flex-1 btn-secondary"}," Cancel "),e("button",{type:"submit",disabled:B.value,class:"flex-1 btn-primary"},r(B.value?"Updating...":"Update Password"),9,Mt)])],32)])])):y("",!0),E.value?(n(),i("div",$t,[e("div",qt,[e("div",Ot,[t[84]||(t[84]=e("h3",{class:"text-lg font-semibold"},"Apply to Become a Seller",-1)),e("button",{onClick:t[27]||(t[27]=s=>E.value=!1),class:"text-gray-500 hover:text-gray-700"},[k(d(J),{class:"h-6 w-6"})])]),e("div",Gt,[t[85]||(t[85]=e("p",{class:"text-gray-600"}," Ready to start selling your MTG cards? Our seller program allows you to list cards, manage inventory, and earn money from your collection. ",-1)),t[86]||(t[86]=e("div",{class:"bg-blue-50 border border-blue-200 rounded p-3"},[e("h4",{class:"font-medium text-blue-900 mb-2"},"Seller Benefits:"),e("ul",{class:"text-sm text-blue-800 space-y-1"},[e("li",null,"• List unlimited cards"),e("li",null,"• Set your own prices"),e("li",null,"• Bulk upload via CSV"),e("li",null,"• Weekly payouts"),e("li",null,"• 97.5% of sale price (2.5% platform fee)")])],-1)),e("div",It,[e("button",{onClick:t[28]||(t[28]=s=>E.value=!1),class:"flex-1 btn-secondary"}," Cancel "),e("button",{onClick:xe,disabled:F.value,class:"flex-1 btn-primary"},r(F.value?"Applying...":"Apply Now"),9,Jt)])])])])):y("",!0),P.value?(n(),i("div",Rt,[e("div",Ht,[e("div",Yt,[t[87]||(t[87]=e("h3",{class:"text-lg font-semibold text-red-800"},"Delete Account",-1)),e("button",{onClick:t[29]||(t[29]=s=>P.value=!1),class:"text-gray-500 hover:text-gray-700"},[k(d(J),{class:"h-6 w-6"})])]),e("div",Zt,[t[89]||(t[89]=e("p",{class:"text-gray-600"},[e("strong",null,"Warning:"),M(" This action cannot be undone. All your data including orders, wishlists, and account information will be permanently deleted. ")],-1)),e("div",null,[t[88]||(t[88]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},' Type "DELETE" to confirm ',-1)),a(e("input",{"onUpdate:modelValue":t[30]||(t[30]=s=>U.value=s),type:"text",class:"input-field",placeholder:"DELETE"},null,512),[[c,U.value]])]),e("div",Kt,[e("button",{onClick:t[31]||(t[31]=s=>P.value=!1),class:"flex-1 btn-secondary"}," Cancel "),e("button",{onClick:we,disabled:U.value!=="DELETE"||L.value,class:"flex-1 bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 disabled:opacity-50"},r(L.value?"Deleting...":"Delete Account"),9,Wt)])])])])):y("",!0),_.value?(n(),i("div",Qt,r(_.value),1)):y("",!0)])}}},ts=ke(Xt,[["__scopeId","data-v-8be18200"]]);export{ts as default};
