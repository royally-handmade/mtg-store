import{c as i,b as n,d as e,F as N,j as E,t as r,L as M,s as Q,_ as ie,r as P,p as ve,o as J,B as $e,u as fe,G as he,O as ge,e as w,q as k,V as q,J as V,K as ee,v as Z,h as F,I as te,n as re,f as A,i as j,m as L,H as we,M as Ce,g as Y,S as Se,W as Pe,U as _e,a as Ue,w as De}from"./index-D5lSLxc0.js";import{r as ne,l as Ae,a as Ve}from"./lodash-C4tK62Yr.js";import{C as ye,a as Oe,b as je,P as Le,c as Te,p as Be,d as Me,e as Ne,i as Ee}from"./chart-C6iHWF86.js";import{r as ke}from"./CurrencyDollarIcon-B4wsOogc.js";import{r as xe}from"./CheckCircleIcon-CPskrV3K.js";import{r as Re}from"./TruckIcon-Clij3_1w.js";import{P as be}from"./Pagination-B_Hi1a5H.js";import{r as qe}from"./PlusIcon-BDGik3-F.js";function Fe(c,v){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function He(c,v){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})])}function Ie(c,v){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function ze(c,v){return n(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})])}const We={class:"overflow-x-auto"},Ye={class:"min-w-full divide-y divide-gray-200"},Ze={class:"bg-white divide-y divide-gray-200"},Qe={class:"px-6 py-4 whitespace-nowrap"},Je={class:"flex items-center"},Ge=["src","alt"],Ke={class:"text-sm font-medium text-gray-900"},Xe={class:"text-sm text-gray-500"},et={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},tt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},st={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},at={class:"px-6 py-4 whitespace-nowrap"},ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},lt=["onClick"],rt=["onClick"],nt={__name:"ListingsTable",props:{listings:{type:Array,required:!0}},emits:["edit","delete"],setup(c){const v=y=>({active:"bg-green-100 text-green-800",sold:"bg-blue-100 text-blue-800",removed:"bg-red-100 text-red-800"})[y]||"bg-gray-100 text-gray-800";return(y,o)=>(n(),i("div",We,[e("table",Ye,[o[0]||(o[0]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Card "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Condition "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Quantity "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ze,[(n(!0),i(N,null,E(c.listings,p=>(n(),i("tr",{key:p.id,class:"hover:bg-gray-50"},[e("td",Qe,[e("div",Je,[e("img",{src:p.cards.image_url,alt:p.cards.name,class:"h-12 w-8 object-cover rounded mr-3"},null,8,Ge),e("div",null,[e("div",Ke,r(p.cards.name),1),e("div",Xe,r(p.cards.set_number),1)])])]),e("td",et," $"+r(p.price)+" CAD ",1),e("td",tt,r(p.condition.toUpperCase()),1),e("td",st,r(p.quantity),1),e("td",at,[e("span",{class:M([v(p.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},r(p.status.toUpperCase()),3)]),e("td",ot,[e("button",{onClick:d=>y.$emit("edit",p),class:"text-blue-600 hover:text-blue-900"}," Edit ",8,lt),e("button",{onClick:d=>y.$emit("delete",p.id),class:"text-red-600 hover:text-red-900"}," Delete ",8,rt)])]))),128))])])]))}},it={class:"overflow-x-auto"},dt={class:"min-w-full divide-y divide-gray-200"},ut={class:"bg-white divide-y divide-gray-200"},pt=["onClick"],ct={class:"px-6 py-4 whitespace-nowrap"},mt={class:"text-sm font-medium text-gray-900"},gt={class:"text-sm text-gray-500"},yt={class:"px-6 py-4 whitespace-nowrap"},xt={class:"text-sm font-medium text-gray-900"},bt={class:"text-sm text-gray-500"},vt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ht={class:"px-6 py-4 whitespace-nowrap"},wt={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},_t=["onChange","value"],kt={__name:"OrdersTable",props:{orders:{type:Array,required:!0}},emits:["update-status","view-details"],setup(c,{emit:v}){const y=v,o=b=>new Date(b).toLocaleDateString(),p=b=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[b]||"bg-gray-100 text-gray-800",d=(b,S)=>{y("update-status",b,S)},$=b=>{y("view-details",b)};return(b,S)=>(n(),i("div",it,[e("table",dt,[S[1]||(S[1]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Order "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Buyer "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Items "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ut,[(n(!0),i(N,null,E(c.orders,C=>{var f,t,u;return n(),i("tr",{key:C.id,onClick:O=>$(C),class:"hover:bg-gray-50"},[e("td",ct,[e("div",mt," #"+r(C.id.slice(0,8)),1),e("div",gt,r(o(C.created_at)),1)]),e("td",yt,[e("div",xt,r(((f=C.buyer)==null?void 0:f.display_name)||"Unknown"),1),e("div",bt,r((t=C.buyer)==null?void 0:t.email),1)]),e("td",vt,r(((u=C.order_items)==null?void 0:u.length)||0)+" items ",1),e("td",ft," $"+r(C.total_amount)+" CAD ",1),e("td",ht,[e("span",{class:M([p(C.status),"px-2 inline-flex text-xs leading-5 font-semibold rounded-full"])},r(C.status),3)]),e("td",wt,[e("select",{onChange:O=>d(C.id,O.target.value),value:C.status,class:"rounded border-gray-300 text-sm"},[...S[0]||(S[0]=[Q('<option value="pending">Pending</option><option value="processing">Processing</option><option value="shipped">Shipped</option><option value="delivered">Delivered</option><option value="cancelled">Cancelled</option>',5)])],40,_t)])],8,pt)}),128))])])]))}},$t={class:"w-full h-64"},Ct={__name:"SalesChart",props:{data:{type:Object,required:!0,default:()=>({})},type:{type:String,default:"sales",validator:c=>["sales","revenue","orders"].includes(c)},period:{type:String,default:"monthly",validator:c=>["daily","weekly","monthly"].includes(c)}},setup(c){ye.register(Oe,je,Le,Te,Be,Me,Ne,Ee);const v=c,y=P(null);let o=null;const p=()=>{const S=Object.keys(v.data).sort(),C=S.map(U=>v.data[U]||0),t=(U=>{const T={sales:{background:"rgba(59, 130, 246, 0.1)",border:"rgba(59, 130, 246, 1)",point:"rgba(59, 130, 246, 1)"},revenue:{background:"rgba(16, 185, 129, 0.1)",border:"rgba(16, 185, 129, 1)",point:"rgba(16, 185, 129, 1)"},orders:{background:"rgba(245, 158, 11, 0.1)",border:"rgba(245, 158, 11, 1)",point:"rgba(245, 158, 11, 1)"}};return T[U]||T.sales})(v.type),u=U=>{const T=new Date(U+"-01");switch(v.period){case"daily":return T.toLocaleDateString("en-US",{month:"short",day:"numeric"});case"weekly":return`Week ${U}`;case"monthly":return T.toLocaleDateString("en-US",{month:"short",year:"numeric"});default:return U}},O=U=>v.type==="revenue"?`$${U.toFixed(2)}`:U.toString();return{type:"line",data:{labels:S.map(u),datasets:[{label:d(),data:C,borderColor:t.border,backgroundColor:t.background,pointBackgroundColor:t.point,pointBorderColor:t.border,pointHoverBackgroundColor:"#fff",pointHoverBorderColor:t.border,tension:.4,fill:!0,pointRadius:4,pointHoverRadius:6,borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{display:!1},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#fff",bodyColor:"#fff",borderColor:t.border,borderWidth:1,cornerRadius:8,displayColors:!1,callbacks:{label:function(U){return O(U.parsed.y)}}}},scales:{x:{display:!0,grid:{color:"rgba(0, 0, 0, 0.1)",borderDash:[2,2]},ticks:{color:"#6B7280",font:{size:12}}},y:{display:!0,beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)",borderDash:[2,2]},ticks:{color:"#6B7280",font:{size:12},callback:function(U){return v.type==="revenue"?"$"+U.toLocaleString():U.toLocaleString()}}}},elements:{point:{hoverRadius:8}},animation:{duration:750,easing:"easeInOutQuart"}}}},d=()=>({sales:"Sales",revenue:"Revenue",orders:"Orders"})[v.type]||"Data",$=()=>{var C;o&&o.destroy();const S=(C=y.value)==null?void 0:C.getContext("2d");S&&(o=new ye(S,p()))},b=()=>{if(!o)return;const S=p();o.data=S.data,o.options=S.options,o.update("active")};return ve([()=>v.data,()=>v.type,()=>v.period],()=>{o?b():$()},{deep:!0}),J(()=>{setTimeout(()=>{$()},100)}),$e(()=>{o&&(o.destroy(),o=null)}),(S,C)=>(n(),i("div",$t,[e("canvas",{ref_key:"chartCanvas",ref:y},null,512)]))}},St=ie(Ct,[["__scopeId","data-v-15545afa"]]),Pt={class:"bg-white shadow rounded-lg"},Ut={class:"mt-4"},Dt={class:"space-y-4"},At={class:"flex items-center"},Vt={class:"flex items-center"},Ot={key:0,class:"space-y-4"},jt={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Lt={class:"mt-1 relative rounded-md shadow-sm"},Tt={class:"mt-1 relative rounded-md shadow-sm"},Bt={class:"mt-1 relative rounded-md shadow-sm"},Mt={class:"mt-1 relative rounded-md shadow-sm"},Nt={class:"space-y-4"},Et={class:"space-y-3"},Rt={class:"flex items-center"},qt={class:"flex items-center"},Ft={class:"flex items-center"},Ht={class:"space-y-2"},It={class:"flex items-center"},zt={class:"flex items-center"},Wt={class:"flex items-center"},Yt={class:"mt-1 relative rounded-md shadow-sm"},Zt={class:"flex justify-end pt-6 border-t border-gray-200"},Qt=["disabled"],Jt={key:0,class:"flex items-center"},Gt={key:1},Kt={key:0,class:"mx-6 mb-6"},Xt={class:"rounded-md bg-green-50 p-4"},es={class:"flex"},ts={class:"ml-3"},ss={class:"text-sm font-medium text-green-800"},as={key:1,class:"mx-6 mb-6"},os={class:"rounded-md bg-red-50 p-4"},ls={class:"flex"},rs={class:"ml-3"},ns={class:"text-sm font-medium text-red-800"},is={__name:"ShippingSettings",setup(c){const v=fe();he();const y=P(!1),o=P(""),p=P(""),d=ge({default_shipping_method:"dynamic",shipping_rates:{domestic:"",us:"",international:"",expedited:""},preferences:{tracking_required:!1,signature_confirmation:!1,insurance:!1},handling_time:"2",packaging:"bubble_mailer",free_shipping_threshold:""}),$=ge({}),b=async()=>{try{const f=await fetch("/api/seller/shipping-settings",{headers:{Authorization:`Bearer ${v.token}`}});if(f.ok){const t=await f.json();Object.assign(d,t),Object.assign($,t)}}catch(f){console.error("Error loading shipping settings:",f)}},S=async()=>{y.value=!0,o.value="",p.value="";try{const f=await fetch("/api/seller/shipping-settings",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.token}`},body:JSON.stringify(d)});if(f.ok)o.value="Shipping settings saved successfully!",Object.assign($,d),setTimeout(()=>{o.value=""},5e3);else{const t=await f.json();p.value=t.error||"Failed to save shipping settings"}}catch(f){console.error("Error saving shipping settings:",f),p.value="An error occurred while saving settings"}finally{y.value=!1}},C=()=>{Object.assign(d,$),o.value="",p.value=""};return J(()=>{b()}),(f,t)=>(n(),i("div",Pt,[t[51]||(t[51]=e("div",{class:"px-6 py-4 border-b border-gray-200"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Shipping Settings"),e("p",{class:"mt-1 text-sm text-gray-500"}," Configure your shipping preferences and rates ")],-1)),e("form",{onSubmit:te(S,["prevent"]),class:"space-y-6 px-6 py-6"},[e("div",null,[t[16]||(t[16]=e("label",{class:"text-base font-medium text-gray-900"},"Default Shipping Method",-1)),t[17]||(t[17]=e("p",{class:"text-sm leading-5 text-gray-500"},"Choose how shipping costs are calculated for your listings",-1)),e("fieldset",Ut,[e("div",Dt,[e("div",At,[k(e("input",{id:"dynamic-shipping","onUpdate:modelValue":t[0]||(t[0]=u=>d.default_shipping_method=u),name:"shipping-method",type:"radio",value:"dynamic",class:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[q,d.default_shipping_method]]),t[14]||(t[14]=e("label",{for:"dynamic-shipping",class:"ml-3"},[e("span",{class:"block text-sm font-medium text-gray-700"}," Dynamic Shipping (Recommended) "),e("span",{class:"block text-sm text-gray-500"}," Calculate real shipping rates using EasyPost based on buyer's location ")],-1))]),e("div",Vt,[k(e("input",{id:"static-shipping","onUpdate:modelValue":t[1]||(t[1]=u=>d.default_shipping_method=u),name:"shipping-method",type:"radio",value:"static",class:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[q,d.default_shipping_method]]),t[15]||(t[15]=e("label",{for:"static-shipping",class:"ml-3"},[e("span",{class:"block text-sm font-medium text-gray-700"}," Fixed Shipping Rates "),e("span",{class:"block text-sm text-gray-500"}," Set your own flat shipping rates (configure below) ")],-1))])])])]),d.default_shipping_method==="static"?(n(),i("div",Ot,[t[31]||(t[31]=e("h4",{class:"text-sm font-medium text-gray-900"},"Fixed Shipping Rates",-1)),e("div",jt,[e("div",null,[t[20]||(t[20]=e("label",{for:"domestic-rate",class:"block text-sm font-medium text-gray-700"}," Domestic (Canada) ",-1)),e("div",Lt,[t[18]||(t[18]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{id:"domestic-rate","onUpdate:modelValue":t[2]||(t[2]=u=>d.shipping_rates.domestic=u),type:"number",step:"0.01",min:"0",class:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"5.99"},null,512),[[V,d.shipping_rates.domestic]]),t[19]||(t[19]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))])]),e("div",null,[t[23]||(t[23]=e("label",{for:"us-rate",class:"block text-sm font-medium text-gray-700"}," United States ",-1)),e("div",Tt,[t[21]||(t[21]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{id:"us-rate","onUpdate:modelValue":t[3]||(t[3]=u=>d.shipping_rates.us=u),type:"number",step:"0.01",min:"0",class:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"12.99"},null,512),[[V,d.shipping_rates.us]]),t[22]||(t[22]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))])]),e("div",null,[t[26]||(t[26]=e("label",{for:"international-rate",class:"block text-sm font-medium text-gray-700"}," International ",-1)),e("div",Bt,[t[24]||(t[24]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{id:"international-rate","onUpdate:modelValue":t[4]||(t[4]=u=>d.shipping_rates.international=u),type:"number",step:"0.01",min:"0",class:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"19.99"},null,512),[[V,d.shipping_rates.international]]),t[25]||(t[25]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))])]),e("div",null,[t[29]||(t[29]=e("label",{for:"expedited-rate",class:"block text-sm font-medium text-gray-700"}," Expedited (Optional) ",-1)),e("div",Mt,[t[27]||(t[27]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{id:"expedited-rate","onUpdate:modelValue":t[5]||(t[5]=u=>d.shipping_rates.expedited=u),type:"number",step:"0.01",min:"0",class:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"24.99"},null,512),[[V,d.shipping_rates.expedited]]),t[28]||(t[28]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))]),t[30]||(t[30]=e("p",{class:"mt-1 text-xs text-gray-500"},"Leave blank if not offered",-1))])])])):w("",!0),e("div",Nt,[t[35]||(t[35]=e("h4",{class:"text-sm font-medium text-gray-900"},"Shipping Preferences",-1)),e("div",Et,[e("div",Rt,[k(e("input",{id:"tracking-required","onUpdate:modelValue":t[6]||(t[6]=u=>d.preferences.tracking_required=u),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,d.preferences.tracking_required]]),t[32]||(t[32]=e("label",{for:"tracking-required",class:"ml-3 block text-sm text-gray-700"}," Always include tracking ",-1))]),e("div",qt,[k(e("input",{id:"signature-confirmation","onUpdate:modelValue":t[7]||(t[7]=u=>d.preferences.signature_confirmation=u),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,d.preferences.signature_confirmation]]),t[33]||(t[33]=e("label",{for:"signature-confirmation",class:"ml-3 block text-sm text-gray-700"}," Require signature confirmation for orders over $100 ",-1))]),e("div",Ft,[k(e("input",{id:"insurance","onUpdate:modelValue":t[8]||(t[8]=u=>d.preferences.insurance=u),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,d.preferences.insurance]]),t[34]||(t[34]=e("label",{for:"insurance",class:"ml-3 block text-sm text-gray-700"}," Add insurance for orders over $50 ",-1))])])]),e("div",null,[t[37]||(t[37]=e("label",{for:"handling-time",class:"block text-sm font-medium text-gray-700"}," Handling Time ",-1)),k(e("select",{id:"handling-time","onUpdate:modelValue":t[9]||(t[9]=u=>d.handling_time=u),class:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md"},[...t[36]||(t[36]=[Q('<option value="1">1 business day</option><option value="2">2 business days</option><option value="3">3 business days</option><option value="5">5 business days</option><option value="7">1 week</option>',5)])],512),[[Z,d.handling_time]]),t[38]||(t[38]=e("p",{class:"mt-1 text-sm text-gray-500"}," How long it takes you to package and ship items after payment ",-1))]),e("div",null,[t[42]||(t[42]=e("label",{class:"text-sm font-medium text-gray-900"},"Packaging Materials",-1)),t[43]||(t[43]=e("p",{class:"text-sm text-gray-500 mb-3"},"What packaging do you typically use?",-1)),e("div",Ht,[e("div",It,[k(e("input",{id:"bubble-mailer","onUpdate:modelValue":t[10]||(t[10]=u=>d.packaging=u),type:"radio",value:"bubble_mailer",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,d.packaging]]),t[39]||(t[39]=e("label",{for:"bubble-mailer",class:"ml-3 block text-sm text-gray-700"}," Bubble mailer (recommended for cards) ",-1))]),e("div",zt,[k(e("input",{id:"cardboard-box","onUpdate:modelValue":t[11]||(t[11]=u=>d.packaging=u),type:"radio",value:"cardboard_box",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,d.packaging]]),t[40]||(t[40]=e("label",{for:"cardboard-box",class:"ml-3 block text-sm text-gray-700"}," Small cardboard box ",-1))]),e("div",Wt,[k(e("input",{id:"envelope","onUpdate:modelValue":t[12]||(t[12]=u=>d.packaging=u),type:"radio",value:"envelope",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,d.packaging]]),t[41]||(t[41]=e("label",{for:"envelope",class:"ml-3 block text-sm text-gray-700"}," Standard envelope (single cards only) ",-1))])])]),e("div",null,[t[46]||(t[46]=e("label",{for:"free-shipping-threshold",class:"block text-sm font-medium text-gray-700"}," Free Shipping Threshold (Optional) ",-1)),e("div",Yt,[t[44]||(t[44]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{id:"free-shipping-threshold","onUpdate:modelValue":t[13]||(t[13]=u=>d.free_shipping_threshold=u),type:"number",step:"0.01",min:"0",class:"focus:ring-blue-500 focus:border-blue-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"50.00"},null,512),[[V,d.free_shipping_threshold]]),t[45]||(t[45]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))]),t[47]||(t[47]=e("p",{class:"mt-1 text-sm text-gray-500"}," Offer free shipping when order total exceeds this amount (leave blank to disable) ",-1))]),e("div",Zt,[e("button",{type:"button",onClick:C,class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 mr-3"}," Reset "),e("button",{type:"submit",disabled:y.value,class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[y.value?(n(),i("span",Jt,[...t[48]||(t[48]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),F(" Saving... ",-1)])])):(n(),i("span",Gt,"Save Settings"))],8,Qt)])],32),o.value?(n(),i("div",Kt,[e("div",Xt,[e("div",es,[t[49]||(t[49]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})])],-1)),e("div",ts,[e("p",ss,r(o.value),1)])])])])):w("",!0),p.value?(n(),i("div",as,[e("div",os,[e("div",ls,[t[50]||(t[50]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),e("div",rs,[e("p",ns,r(p.value),1)])])])])):w("",!0)]))}},ds={class:"space-y-6"},us={class:"bg-white rounded-lg shadow p-6"},ps={class:"space-y-3"},cs={class:"flex items-center"},ms={class:"flex items-center"},gs={key:0,class:"space-y-4"},ys={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},xs={class:"bg-blue-50 border border-blue-200 rounded-md p-4"},bs={class:"flex"},vs={key:1,class:"space-y-4"},fs={class:"bg-yellow-50 border border-yellow-200 rounded-md p-4"},hs={class:"flex"},ws={class:"space-y-4"},_s={class:"relative"},ks={class:"flex items-center"},$s={key:2,class:"bg-gray-50 rounded-md p-4"},Cs={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},Ss={class:"ml-2 text-gray-600"},Ps={class:"ml-2 text-gray-600"},Us={class:"ml-2 text-gray-600"},Ds={key:0},As={class:"ml-2 text-gray-600"},Vs={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},Os=["disabled"],js={key:0},Ls={key:1},Ts={class:"bg-white rounded-lg shadow p-6"},Bs={key:0,class:"overflow-x-auto"},Ms={class:"min-w-full divide-y divide-gray-200"},Ns={class:"bg-white divide-y divide-gray-200"},Es={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Rs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},qs={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Fs={class:"px-6 py-4 whitespace-nowrap"},Hs={key:1,class:"text-center py-8"},Is={__name:"SellerSettings",emits:["updated"],setup(c,{emit:v}){const y=v,o=P({payout_method:"bank_transfer",payout_threshold:25,auto_payout:!1,bank_details:{accountHolder:"",bankName:"",accountNumber:"",routingNumber:"",accountType:"checking",phone:""},paypal_email:""}),p=P(null),d=P([]),$=P(!1),b=re(()=>{if(!o.value.payout_method)return!1;if(o.value.payout_method==="bank_transfer"){const x=o.value.bank_details;return x.accountHolder&&x.bankName&&x.accountNumber&&x.routingNumber}return o.value.payout_method==="paypal"?o.value.paypal_email&&S(o.value.paypal_email):!1}),S=x=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x),C=async()=>{try{const x=await L.get("/payment/seller-settings");x.data&&(p.value={...x.data},Object.assign(o.value,{payout_method:x.data.payout_method||"bank_transfer",payout_threshold:x.data.payout_threshold||25,auto_payout:x.data.auto_payout||!1,paypal_email:x.data.paypal_email||""}),x.data.bank_details&&Object.assign(o.value.bank_details,x.data.bank_details))}catch(x){console.error("Error loading settings:",x)}},f=async()=>{try{const x=await L.get("/payment/seller-payouts?limit=10");d.value=x.data.payouts||[]}catch(x){console.error("Error loading payout history:",x)}},t=async()=>{var x,s;$.value=!0;try{const m={payout_method:o.value.payout_method,payout_threshold:o.value.payout_threshold,auto_payout:o.value.auto_payout};o.value.payout_method==="bank_transfer"?m.bank_details=o.value.bank_details:o.value.payout_method==="paypal"&&(m.paypal_email=o.value.paypal_email),await L.patch("/payment/seller-settings",m),await C(),y("updated"),alert("Settings updated successfully!")}catch(m){console.error("Error updating settings:",m),alert("Error updating settings: "+(((s=(x=m.response)==null?void 0:x.data)==null?void 0:s.error)||m.message))}finally{$.value=!1}},u=()=>{p.value&&(Object.assign(o.value,{payout_method:p.value.payout_method||"bank_transfer",payout_threshold:p.value.payout_threshold||25,auto_payout:p.value.auto_payout||!1,paypal_email:p.value.paypal_email||""}),p.value.bank_details&&Object.assign(o.value.bank_details,p.value.bank_details))},O=x=>new Date(x).toLocaleDateString(),U=x=>({bank_transfer:"Bank Transfer",paypal:"PayPal"})[x]||x,T=x=>({pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",cancelled:"Cancelled"})[x]||x,R=x=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",failed:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[x]||"bg-gray-100 text-gray-800";return J(()=>{C(),f()}),(x,s)=>(n(),i("div",ds,[A(is),e("div",us,[s[38]||(s[38]=e("h3",{class:"text-lg font-medium text-gray-900 mb-6"},"Payout Settings",-1)),e("form",{onSubmit:te(t,["prevent"]),class:"space-y-6"},[e("div",null,[s[13]||(s[13]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Payout Method ",-1)),e("div",ps,[e("label",cs,[k(e("input",{type:"radio","onUpdate:modelValue":s[0]||(s[0]=m=>o.value.payout_method=m),value:"bank_transfer",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,o.value.payout_method]]),s[11]||(s[11]=e("span",{class:"ml-3 text-sm text-gray-900"},"Bank Transfer (ACH)",-1))]),e("label",ms,[k(e("input",{type:"radio","onUpdate:modelValue":s[1]||(s[1]=m=>o.value.payout_method=m),value:"paypal",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"},null,512),[[q,o.value.payout_method]]),s[12]||(s[12]=e("span",{class:"ml-3 text-sm text-gray-900"},"PayPal",-1))])])]),o.value.payout_method==="bank_transfer"?(n(),i("div",gs,[s[22]||(s[22]=e("h4",{class:"font-medium text-gray-900"},"Bank Account Details",-1)),e("div",ys,[e("div",null,[s[14]||(s[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Account Holder Name * ",-1)),k(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=m=>o.value.bank_details.accountHolder=m),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Full name on account"},null,512),[[V,o.value.bank_details.accountHolder]])]),e("div",null,[s[15]||(s[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Bank Name * ",-1)),k(e("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=m=>o.value.bank_details.bankName=m),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"TD Bank, RBC, etc."},null,512),[[V,o.value.bank_details.bankName]])]),e("div",null,[s[16]||(s[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Account Number * ",-1)),k(e("input",{type:"password","onUpdate:modelValue":s[4]||(s[4]=m=>o.value.bank_details.accountNumber=m),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Account number"},null,512),[[V,o.value.bank_details.accountNumber]])]),e("div",null,[s[17]||(s[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Routing Number * ",-1)),k(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=m=>o.value.bank_details.routingNumber=m),required:"",pattern:"[0-9]{5,9}",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Transit number"},null,512),[[V,o.value.bank_details.routingNumber]])]),e("div",null,[s[19]||(s[19]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Account Type ",-1)),k(e("select",{"onUpdate:modelValue":s[6]||(s[6]=m=>o.value.bank_details.accountType=m),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...s[18]||(s[18]=[e("option",{value:"checking"},"Checking",-1),e("option",{value:"savings"},"Savings",-1)])],512),[[Z,o.value.bank_details.accountType]])]),e("div",null,[s[20]||(s[20]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Phone Number ",-1)),k(e("input",{type:"tel","onUpdate:modelValue":s[7]||(s[7]=m=>o.value.bank_details.phone=m),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"(555) 123-4567"},null,512),[[V,o.value.bank_details.phone]])])]),e("div",xs,[e("div",bs,[A(j(ne),{class:"h-5 w-5 text-blue-400 mt-0.5"}),s[21]||(s[21]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"}," Bank Account Security "),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,"Your bank account information is encrypted and securely stored. We use this information only for processing your seller payouts.")])],-1))])])])):w("",!0),o.value.payout_method==="paypal"?(n(),i("div",vs,[s[25]||(s[25]=e("h4",{class:"font-medium text-gray-900"},"PayPal Details",-1)),e("div",null,[s[23]||(s[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," PayPal Email Address * ",-1)),k(e("input",{type:"email","onUpdate:modelValue":s[8]||(s[8]=m=>o.value.paypal_email=m),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"your-paypal@email.com"},null,512),[[V,o.value.paypal_email]])]),e("div",fs,[e("div",hs,[A(j(ne),{class:"h-5 w-5 text-yellow-400 mt-0.5"}),s[24]||(s[24]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-yellow-800"}," PayPal Payouts "),e("div",{class:"mt-2 text-sm text-yellow-700"},[e("p",null,"PayPal payouts typically arrive within 1-2 business days. Make sure the email address matches your PayPal account.")])],-1))])])])):w("",!0),e("div",ws,[s[31]||(s[31]=e("h4",{class:"font-medium text-gray-900"},"Payout Preferences",-1)),e("div",null,[s[28]||(s[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Minimum Payout Threshold ",-1)),e("div",_s,[s[26]||(s[26]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),k(e("input",{type:"number","onUpdate:modelValue":s[9]||(s[9]=m=>o.value.payout_threshold=m),min:"25",step:"5",class:"w-full pl-7 pr-12 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},null,512),[[V,o.value.payout_threshold,void 0,{number:!0}]]),s[27]||(s[27]=e("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"CAD")],-1))]),s[29]||(s[29]=e("p",{class:"mt-1 text-sm text-gray-500"}," Minimum $25 CAD. Higher thresholds reduce processing frequency. ",-1))]),e("div",ks,[k(e("input",{type:"checkbox","onUpdate:modelValue":s[10]||(s[10]=m=>o.value.auto_payout=m),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[ee,o.value.auto_payout]]),s[30]||(s[30]=e("label",{class:"ml-2 block text-sm text-gray-900"}," Enable automatic payouts ",-1))]),s[32]||(s[32]=e("p",{class:"text-sm text-gray-500 ml-6"}," Automatically process payouts when your earnings reach the threshold. Payouts are processed weekly on Mondays. ",-1))]),p.value?(n(),i("div",$s,[s[37]||(s[37]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Current Settings",-1)),e("div",Cs,[e("div",null,[s[33]||(s[33]=e("span",{class:"font-medium text-gray-700"},"Payout Method:",-1)),e("span",Ss,r(p.value.payout_method==="bank_transfer"?"Bank Transfer":"PayPal"),1)]),e("div",null,[s[34]||(s[34]=e("span",{class:"font-medium text-gray-700"},"Threshold:",-1)),e("span",Ps,"$"+r(p.value.payout_threshold)+" CAD",1)]),e("div",null,[s[35]||(s[35]=e("span",{class:"font-medium text-gray-700"},"Auto Payout:",-1)),e("span",Us,r(p.value.auto_payout?"Enabled":"Disabled"),1)]),p.value.payout_method==="bank_transfer"&&p.value.bank_details?(n(),i("div",Ds,[s[36]||(s[36]=e("span",{class:"font-medium text-gray-700"},"Bank:",-1)),e("span",As,r(p.value.bank_details.bankName),1)])):w("",!0)])])):w("",!0),e("div",Vs,[e("button",{type:"button",onClick:u,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"}," Reset "),e("button",{type:"submit",disabled:$.value||!b.value,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[$.value?(n(),i("span",js,"Saving...")):(n(),i("span",Ls,"Save Settings"))],8,Os)])],32)]),e("div",Ts,[e("div",{class:"flex justify-between items-center mb-4"},[s[39]||(s[39]=e("h3",{class:"text-lg font-medium text-gray-900"},"Recent Payouts",-1)),e("button",{onClick:f,class:"text-sm text-blue-600 hover:text-blue-500"}," View All ")]),d.value.length>0?(n(),i("div",Bs,[e("table",Ms,[s[40]||(s[40]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Amount "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Method "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status ")])],-1)),e("tbody",Ns,[(n(!0),i(N,null,E(d.value.slice(0,5),m=>(n(),i("tr",{key:m.id},[e("td",Es,r(O(m.created_at)),1),e("td",Rs," $"+r(m.amount.toFixed(2)),1),e("td",qs,r(U(m.payout_method)),1),e("td",Fs,[e("span",{class:M([R(m.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},r(T(m.status)),3)])]))),128))])])])):(n(),i("div",Hs,[A(j(ke),{class:"mx-auto h-12 w-12 text-gray-400"}),s[41]||(s[41]=e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"No payouts yet",-1)),s[42]||(s[42]=e("p",{class:"mt-1 text-sm text-gray-500"}," Your payouts will appear here once you start making sales. ",-1))]))])]))}},zs={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},Ws={class:"bg-white rounded-lg p-6 w-full max-w-lg"},Ys={class:"flex justify-between items-center mb-6"},Zs={class:"space-y-6"},Qs={class:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 transition-colors"},Js={class:"mt-2 text-sm text-gray-500"},Gs={key:0,class:"space-y-2"},Ks={class:"flex justify-between text-sm"},Xs={class:"w-full bg-gray-200 rounded-full h-2"},ea={key:1,class:"space-y-2"},ta={class:"text-sm"},sa={class:"text-green-600"},aa={key:0,class:"text-red-600"},oa={key:0,class:"max-h-32 overflow-y-auto"},la={class:"flex space-x-4"},ra=["disabled"],na={__name:"BulkUploadModal",emits:["close"],setup(c,{emit:v}){const y=v,o=he(),p=P(null),d=P(!1),$=P(0),b=P(null),S=f=>{p.value=f.target.files[0],b.value=null},C=async()=>{var f,t;if(p.value){d.value=!0,$.value=0,b.value=null;try{const u=new FormData;u.append("csv",p.value);const O=await L.post("/seller/bulk-upload",u,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:U=>{$.value=Math.round(U.loaded*100/U.total)}});b.value={success:O.data.success||0,errors:O.data.errors||[]},b.value.errors.length===0?(o.success("All listings uploaded successfully!"),setTimeout(()=>y("close"),2e3)):o.warning("Upload completed with some errors")}catch(u){o.error("Upload failed"),console.error("Upload error:",u),b.value={success:0,errors:[{row:"N/A",message:((t=(f=u.response)==null?void 0:f.data)==null?void 0:t.error)||"Upload failed"}]}}finally{d.value=!1}}};return(f,t)=>(n(),i("div",zs,[e("div",Ws,[e("div",Ys,[t[3]||(t[3]=e("h2",{class:"text-xl font-bold"},"Bulk Upload Listings",-1)),e("button",{onClick:t[0]||(t[0]=u=>f.$emit("close")),class:"text-gray-500 hover:text-gray-700"},[A(j(we),{class:"h-6 w-6"})])]),e("div",Zs,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Upload CSV File ",-1)),e("div",Qs,[e("input",{ref:"fileInput",type:"file",accept:".csv",onChange:S,class:"hidden"},null,544),e("button",{onClick:t[1]||(t[1]=u=>f.$refs.fileInput.click()),type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-blue-700 bg-blue-100 hover:bg-blue-200"},[A(j(Fe),{class:"h-5 w-5 mr-2"}),t[4]||(t[4]=F(" Choose CSV File ",-1))]),e("p",Js,r(p.value?p.value.name:"No file selected"),1)])]),t[7]||(t[7]=Q('<div class="bg-gray-50 rounded-lg p-4"><h3 class="font-medium text-gray-900 mb-2">CSV Format Required:</h3><div class="text-sm text-gray-600 space-y-1"><p><strong>Columns:</strong> card_id, price, condition, quantity</p><p><strong>Conditions:</strong> nm, lp, mp, hp, dmg</p><p><strong>Example:</strong></p><code class="block bg-white p-2 rounded text-xs mt-1"> card_id,price,condition,quantity<br> 550e8400-e29b-41d4-a716-446655440000,5.99,nm,3<br> 6ba7b810-9dad-11d1-80b4-00c04fd430c8,12.50,lp,1 </code></div></div>',1)),d.value?(n(),i("div",Gs,[e("div",Ks,[t[6]||(t[6]=e("span",null,"Uploading...",-1)),e("span",null,r($.value)+"%",1)]),e("div",Xs,[e("div",{class:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:Ce({width:$.value+"%"})},null,4)])])):w("",!0),b.value?(n(),i("div",ea,[e("div",ta,[e("div",sa,"✓ "+r(b.value.success)+" listings uploaded",1),b.value.errors.length>0?(n(),i("div",aa," ✗ "+r(b.value.errors.length)+" errors ",1)):w("",!0)]),b.value.errors.length>0?(n(),i("div",oa,[(n(!0),i(N,null,E(b.value.errors,u=>(n(),i("div",{key:u.row,class:"text-xs text-red-600 bg-red-50 p-2 rounded"}," Row "+r(u.row)+": "+r(u.message),1))),128))])):w("",!0)])):w("",!0),e("div",la,[e("button",{onClick:t[2]||(t[2]=u=>f.$emit("close")),type:"button",class:"flex-1 btn-secondary"}," Cancel "),e("button",{onClick:C,disabled:!p.value||d.value,class:"flex-1 btn-primary disabled:opacity-50"},r(d.value?"Uploading...":"Upload Listings"),9,ra)])])])]))}},ia={class:"flex justify-between items-center mb-6"},da={class:"text-lg font-medium text-gray-900"},ua={class:"space-y-6"},pa={class:"flex justify-between items-start"},ca={class:"text-sm text-gray-500 mt-1"},ma={class:"flex space-x-2"},ga={key:0,class:"bg-gray-50 rounded-lg p-4"},ya={key:0},xa={class:"flex justify-end space-x-2"},ba=["disabled"],va={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},fa={class:"space-y-2 text-sm"},ha={class:"ml-2 text-gray-600"},wa={class:"ml-2 text-gray-600"},_a={key:0},ka={class:"ml-2 text-gray-600"},$a={key:0},Ca={class:"space-y-2 text-sm"},Sa={class:"ml-2 text-gray-600"},Pa={key:0},Ua={class:"ml-2 text-gray-600"},Da={key:1},Aa={class:"ml-2 text-gray-600"},Va={class:"overflow-x-auto"},Oa={class:"min-w-full divide-y divide-gray-200"},ja={class:"bg-white divide-y divide-gray-200"},La={class:"px-4 py-4"},Ta={class:"flex items-center"},Ba=["src","alt"],Ma={class:"text-sm font-medium text-gray-900"},Na={class:"text-sm text-gray-500"},Ea={key:0,class:"ml-1 text-yellow-600"},Ra={key:1,class:"ml-1 text-purple-600"},qa={class:"px-4 py-4 text-sm text-gray-900"},Fa={class:"px-4 py-4 text-sm text-gray-900"},Ha={class:"px-4 py-4 text-sm text-gray-900"},Ia={class:"px-4 py-4 text-sm font-medium text-gray-900"},za={class:"bg-gray-50 rounded-lg p-4"},Wa={class:"space-y-2"},Ya={class:"flex justify-between text-sm"},Za={class:"text-gray-900"},Qa={class:"flex justify-between text-sm"},Ja={class:"text-gray-900"},Ga={class:"flex justify-between text-sm"},Ka={class:"text-gray-900"},Xa={class:"flex justify-between text-sm pt-2 border-t border-gray-200"},eo={class:"font-medium text-gray-900"},to={class:"flex justify-between text-sm"},so={class:"font-medium text-green-600"},ao={key:1},oo={class:"flow-root"},lo={class:"-mb-8"},ro={key:0,class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200"},no={class:"relative flex space-x-3"},io={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},uo={class:"text-sm text-gray-500"},po={key:0,class:"font-medium text-gray-900"},co={class:"text-right text-sm whitespace-nowrap text-gray-500"},mo={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},go={__name:"OrderDetailsModal",props:{order:{type:Object,required:!0}},emits:["close","updated"],setup(c,{emit:v}){const y=c,o=v,p=P(!1),d=P(!1),$=P({status:"",tracking_number:"",notes:""}),b=P([]),S=re(()=>["pending","processing","shipped"].includes(y.order.status)),C=re(()=>["delivered"].includes(y.order.status)&&y.order.payment_status==="completed"),f=()=>{o("close")},t=async()=>{var _,l;d.value=!0;try{await L.patch(`/seller/orders/${y.order.id}/status`,$.value),p.value=!1,o("updated"),await u(),alert("Order status updated successfully!")}catch(B){console.error("Error updating order status:",B),alert("Error updating order status: "+(((l=(_=B.response)==null?void 0:_.data)==null?void 0:l.error)||B.message))}finally{d.value=!1}},u=async()=>{try{const _=[];_.push({id:1,type:"created",description:"Order placed",timestamp:y.order.created_at}),y.order.paid_at&&_.push({id:2,type:"paid",description:"Payment received",timestamp:y.order.paid_at}),y.order.shipped_at&&_.push({id:3,type:"shipped",description:"Order shipped",details:y.order.tracking_number,timestamp:y.order.shipped_at}),y.order.delivered_at&&_.push({id:4,type:"delivered",description:"Order delivered",timestamp:y.order.delivered_at}),b.value=_.sort((l,B)=>new Date(l.timestamp)-new Date(B.timestamp))}catch(_){console.error("Error loading order timeline:",_)}},O=()=>{alert("Shipping label functionality would be implemented here")},U=()=>{var l;const _=(l=y.order.buyer)==null?void 0:l.email;_&&(window.location.href=`mailto:${_}?subject=Regarding Order #${y.order.id.substring(0,8)}`)},T=()=>{confirm("Are you sure you want to process a refund for this order?")&&alert("Refund processing functionality would be implemented here")},R=_=>new Date(_).toLocaleDateString(),x=_=>new Date(_).toLocaleString(),s=_=>({pending:"Pending",processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled"})[_]||_,m=_=>({pending:"Pending",processing:"Processing",completed:"Completed",failed:"Failed",refunded:"Refunded"})[_]||_,se=_=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[_]||"bg-gray-100 text-gray-800",ae=_=>({pending:"text-yellow-600",processing:"text-blue-600",completed:"text-green-600",failed:"text-red-600",refunded:"text-gray-600"})[_]||"text-gray-600",oe=_=>({created:"bg-blue-500",paid:"bg-green-500",shipped:"bg-purple-500",delivered:"bg-green-600",cancelled:"bg-red-500"})[_]||"bg-gray-500",le=_=>({created:Ie,paid:xe,shipped:Re,delivered:xe,cancelled:Pe})[_]||_e;return J(()=>{u(),$.value.status=y.order.status}),(_,l)=>{var B,G,K,X,I,g;return n(),i("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:f},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",onClick:l[5]||(l[5]=te(()=>{},["stop"]))},[e("div",ia,[e("h3",da," Order Details #"+r(c.order.id.substring(0,8)),1),e("button",{onClick:f,class:"text-gray-400 hover:text-gray-600"},[A(j(we),{class:"h-6 w-6"})])]),e("div",ua,[e("div",pa,[e("div",null,[e("span",{class:M([se(c.order.status),"inline-flex px-3 py-1 text-sm font-semibold rounded-full"])},r(s(c.order.status)),3),e("p",ca," Ordered on "+r(R(c.order.created_at)),1)]),e("div",ma,[S.value?(n(),i("button",{key:0,onClick:l[0]||(l[0]=a=>p.value=!p.value),class:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700"}," Update Status ")):w("",!0),e("button",{onClick:O,class:"bg-gray-600 text-white px-3 py-1 rounded text-sm hover:bg-gray-700"}," Print Label ")])]),p.value?(n(),i("div",ga,[l[10]||(l[10]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Update Order Status",-1)),e("form",{onSubmit:te(t,["prevent"]),class:"space-y-4"},[e("div",null,[l[7]||(l[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," New Status ",-1)),k(e("select",{"onUpdate:modelValue":l[1]||(l[1]=a=>$.value.status=a),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...l[6]||(l[6]=[Q('<option value="pending" data-v-c773c54b>Pending</option><option value="processing" data-v-c773c54b>Processing</option><option value="shipped" data-v-c773c54b>Shipped</option><option value="delivered" data-v-c773c54b>Delivered</option><option value="cancelled" data-v-c773c54b>Cancelled</option>',5)])],512),[[Z,$.value.status]])]),$.value.status==="shipped"?(n(),i("div",ya,[l[8]||(l[8]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Tracking Number ",-1)),k(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=a=>$.value.tracking_number=a),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Enter tracking number"},null,512),[[V,$.value.tracking_number]])])):w("",!0),e("div",null,[l[9]||(l[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Notes (Optional) ",-1)),k(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=a=>$.value.notes=a),rows:"2",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Add any notes about this status update"},null,512),[[V,$.value.notes]])]),e("div",xa,[e("button",{type:"button",onClick:l[4]||(l[4]=a=>p.value=!1),class:"px-3 py-2 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:d.value,class:"px-3 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 disabled:opacity-50"},r(d.value?"Updating...":"Update Status"),9,ba)])],32)])):w("",!0),e("div",va,[e("div",null,[l[14]||(l[14]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Customer Information",-1)),e("div",fa,[e("div",null,[l[11]||(l[11]=e("span",{class:"font-medium text-gray-700"},"Name:",-1)),e("span",ha,r(((B=c.order.buyer)==null?void 0:B.display_name)||"N/A"),1)]),e("div",null,[l[12]||(l[12]=e("span",{class:"font-medium text-gray-700"},"Email:",-1)),e("span",wa,r(((G=c.order.buyer)==null?void 0:G.email)||"N/A"),1)]),c.order.shipping_address?(n(),i("div",_a,[l[13]||(l[13]=e("span",{class:"font-medium text-gray-700"},"Shipping Address:",-1)),e("div",ka,[e("div",null,r(c.order.shipping_address.street1),1),c.order.shipping_address.street2?(n(),i("div",$a,r(c.order.shipping_address.street2),1)):w("",!0),e("div",null,r(c.order.shipping_address.city)+", "+r(c.order.shipping_address.province)+" "+r(c.order.shipping_address.postal_code),1),e("div",null,r(c.order.shipping_address.country),1)])])):w("",!0)])]),e("div",null,[l[19]||(l[19]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Order Information",-1)),e("div",Ca,[e("div",null,[l[15]||(l[15]=e("span",{class:"font-medium text-gray-700"},"Order Date:",-1)),e("span",Sa,r(R(c.order.created_at)),1)]),c.order.shipped_at?(n(),i("div",Pa,[l[16]||(l[16]=e("span",{class:"font-medium text-gray-700"},"Shipped Date:",-1)),e("span",Ua,r(R(c.order.shipped_at)),1)])):w("",!0),c.order.tracking_number?(n(),i("div",Da,[l[17]||(l[17]=e("span",{class:"font-medium text-gray-700"},"Tracking:",-1)),e("span",Aa,r(c.order.tracking_number),1)])):w("",!0),e("div",null,[l[18]||(l[18]=e("span",{class:"font-medium text-gray-700"},"Payment Status:",-1)),e("span",{class:M(["ml-2",ae(c.order.payment_status)])},r(m(c.order.payment_status)),3)])])])]),e("div",null,[l[21]||(l[21]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Items Ordered",-1)),e("div",Va,[e("table",Oa,[l[20]||(l[20]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Card "),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Condition "),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Quantity "),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Price "),e("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Total ")])],-1)),e("tbody",ja,[(n(!0),i(N,null,E(c.order.order_items,a=>{var D,h,H,z,W,de,ue,pe,ce,me;return n(),i("tr",{key:a.id},[e("td",La,[e("div",Ta,[(h=(D=a.listings)==null?void 0:D.cards)!=null&&h.image_url?(n(),i("img",{key:0,src:a.listings.cards.image_url,alt:a.listings.cards.name,class:"h-12 w-8 object-cover rounded mr-3"},null,8,Ba)):w("",!0),e("div",null,[e("div",Ma,r(((z=(H=a.listings)==null?void 0:H.cards)==null?void 0:z.name)||"Unknown Card"),1),e("div",Na,[F(r((de=(W=a.listings)==null?void 0:W.cards)==null?void 0:de.set_name)+" ",1),(ue=a.listings)!=null&&ue.foil?(n(),i("span",Ea,"(Foil)")):w("",!0),(pe=a.listings)!=null&&pe.signed?(n(),i("span",Ra,"(Signed)")):w("",!0)])])])]),e("td",qa,r(((ce=a.listings)==null?void 0:ce.condition)||"N/A"),1),e("td",Fa,r(a.quantity),1),e("td",Ha," $"+r((me=a.price)==null?void 0:me.toFixed(2)),1),e("td",Ia," $"+r((a.price*a.quantity).toFixed(2)),1)])}),128))])])])]),e("div",za,[l[27]||(l[27]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Order Summary",-1)),e("div",Wa,[e("div",Ya,[l[22]||(l[22]=e("span",{class:"text-gray-600"},"Subtotal:",-1)),e("span",Za,"$"+r((K=c.order.subtotal)==null?void 0:K.toFixed(2)),1)]),e("div",Qa,[l[23]||(l[23]=e("span",{class:"text-gray-600"},"Shipping:",-1)),e("span",Ja,"$"+r((X=c.order.shipping_cost)==null?void 0:X.toFixed(2)),1)]),e("div",Ga,[l[24]||(l[24]=e("span",{class:"text-gray-600"},"Tax:",-1)),e("span",Ka,"$"+r((I=c.order.tax_amount)==null?void 0:I.toFixed(2)),1)]),e("div",Xa,[l[25]||(l[25]=e("span",{class:"font-medium text-gray-900"},"Total:",-1)),e("span",eo,"$"+r((g=c.order.total_amount)==null?void 0:g.toFixed(2)),1)]),e("div",to,[l[26]||(l[26]=e("span",{class:"text-gray-600"},"Your Earnings (97.5%):",-1)),e("span",so," $"+r(((c.order.subtotal||0)*.975).toFixed(2)),1)])])]),b.value.length>0?(n(),i("div",ao,[l[28]||(l[28]=e("h4",{class:"font-medium text-gray-900 mb-3"},"Order Timeline",-1)),e("div",oo,[e("ul",lo,[(n(!0),i(N,null,E(b.value,(a,D)=>(n(),i("li",{key:a.id,class:"relative pb-8"},[D!==b.value.length-1?(n(),i("div",ro)):w("",!0),e("div",no,[e("div",null,[e("span",{class:M([oe(a.type),"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white"])},[(n(),Y(Se(le(a.type)),{class:"h-5 w-5 text-white"}))],2)]),e("div",io,[e("div",null,[e("p",uo,[F(r(a.description)+" ",1),a.details?(n(),i("span",po,r(a.details),1)):w("",!0)])]),e("div",co,r(x(a.timestamp)),1)])])]))),128))])])])):w("",!0),e("div",mo,[e("button",{onClick:U,class:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50"}," Contact Customer "),C.value?(n(),i("button",{key:0,onClick:T,class:"px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50"}," Process Refund ")):w("",!0),e("button",{onClick:f,class:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700"}," Close ")])])])])}}},yo=ie(go,[["__scopeId","data-v-c773c54b"]]),xo={class:"space-y-6"},bo={class:"flex justify-between items-center"},vo={class:"flex space-x-3"},fo={class:"flex items-center"},ho={class:"font-medium"},wo={class:"text-sm mt-1"},_o={key:0,class:"mt-2 text-sm"},ko={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},$o={class:"bg-white rounded-lg shadow p-6"},Co={class:"flex items-center"},So={class:"p-2 bg-blue-100 rounded-lg"},Po={class:"ml-4"},Uo={class:"text-2xl font-bold text-gray-900"},Do={class:"bg-white rounded-lg shadow p-6"},Ao={class:"flex items-center"},Vo={class:"p-2 bg-yellow-100 rounded-lg"},Oo={class:"ml-4"},jo={class:"text-2xl font-bold text-gray-900"},Lo={class:"bg-white rounded-lg shadow p-6"},To={class:"flex items-center"},Bo={class:"p-2 bg-green-100 rounded-lg"},Mo={class:"ml-4"},No={class:"text-2xl font-bold text-gray-900"},Eo={class:"bg-white rounded-lg shadow p-6"},Ro={class:"flex items-center"},qo={class:"p-2 bg-purple-100 rounded-lg"},Fo={class:"ml-4"},Ho={class:"text-2xl font-bold text-gray-900"},Io={class:"text-xs text-gray-500"},zo={class:"bg-white rounded-lg shadow"},Wo={class:"border-b border-gray-200"},Yo={class:"-mb-px flex space-x-8 px-6"},Zo=["onClick"],Qo={class:"p-6"},Jo={key:0},Go={class:"flex justify-between items-center mb-6"},Ko={class:"flex space-x-3"},Xo={key:1},el={class:"flex justify-between items-center mb-6"},tl={class:"flex space-x-3"},sl={key:2},al={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ol={class:"bg-gray-50 rounded-lg p-6"},ll={class:"bg-gray-50 rounded-lg p-6"},rl={class:"space-y-3"},nl={class:"flex items-center space-x-3"},il=["src","alt"],dl={class:"font-medium text-sm"},ul={class:"text-xs text-gray-500"},pl={class:"text-right"},cl={class:"font-medium text-sm"},ml={class:"text-xs text-gray-500"},gl={key:3},yl={__name:"SellerDashboard",setup(c){fe();const v=P("listings"),y=P(null),o=P({activeListings:0,pendingOrders:0,totalSales:"0.00",averageRating:"0.0",reviewCount:0,monthlySales:{}}),p=P([]),d=P([]),$=P([]),b=P(null),S=P(!1),C=P(!1),f=P(!1),t=P({status:"all",search:"",page:1}),u=P({status:"all",startDate:"",endDate:"",page:1}),O=P({page:1,totalPages:1,total:0}),U=P({page:1,totalPages:1,total:0}),T=[{id:"listings",name:"Listings"},{id:"orders",name:"Orders"},{id:"analytics",name:"Analytics"},{id:"settings",name:"Settings"}],R=async()=>{try{const g=await L.get("/seller/application-status");y.value=g.data}catch(g){console.error("Error loading application status:",g)}},x=async()=>{try{const g=await L.get("/seller/stats");o.value=g.data}catch(g){console.error("Error loading stats:",g)}},s=async(g=1)=>{S.value=!0;try{const a={...t.value,page:g},D=await L.get("/seller/listings",{params:a});p.value=D.data.listings,O.value=D.data.pagination}catch(a){console.error("Error loading listings:",a)}finally{S.value=!1}},m=async(g=1)=>{C.value=!0;try{const a={...u.value,page:g},D=await L.get("/seller/orders",{params:a});d.value=D.data.orders,U.value=D.data.pagination}catch(a){console.error("Error loading orders:",a)}finally{C.value=!1}},se=async()=>{try{const g=await L.get("/seller/analytics/top-cards");$.value=g.data}catch(g){console.error("Error loading top cards:",g)}},ae=g=>{window.location.href=`/seller/listings/${g.id}/edit`},oe=async g=>{var a,D;if(confirm(`Are you sure you want to delete the listing for "${g.cards.name}"?`))try{await L.delete(`/seller/listings/${g.id}`),await s(),await x(),console.log("Listing deleted successfully")}catch(h){console.error("Error deleting listing:",h),alert("Error deleting listing: "+((D=(a=h.response)==null?void 0:a.data)==null?void 0:D.error))}},le=async g=>{const a=g.status==="active"?"inactive":"active";try{await L.patch(`/seller/listings/${g.id}`,{status:a}),await s(),console.log(`Listing ${a==="active"?"activated":"deactivated"}`)}catch(D){console.error("Error updating listing status:",D)}},_=async(g,a,D="",h="")=>{var H,z;try{await L.patch(`/seller/orders/${g}/status`,{status:a,tracking_number:D,notes:h}),await m(),await x(),console.log("Order status updated successfully")}catch(W){console.error("Error updating order status:",W),alert("Error updating order status: "+((z=(H=W.response)==null?void 0:H.data)==null?void 0:z.error))}},l=g=>{b.value=g},B=async g=>{f.value=!1,await s(),await x(),g.errors.length>0?(alert(`Upload completed with ${g.errors.length} errors. Check the console for details.`),console.log("Upload errors:",g.errors)):alert(`Successfully uploaded ${g.inserted} listings!`)},G=g=>({pending:"bg-yellow-50 border border-yellow-200 text-yellow-800",info_requested:"bg-blue-50 border border-blue-200 text-blue-800",rejected:"bg-red-50 border border-red-200 text-red-800"})[g]||"bg-gray-50 border border-gray-200 text-gray-800",K=g=>({pending:"Application Under Review",info_requested:"Additional Information Required",rejected:"Application Not Approved"})[g]||"Application Status",X=g=>({pending:"Your seller application is currently being reviewed by our team. You will receive an email once a decision has been made.",info_requested:"We need additional information to process your application. Please review the requirements below and submit the requested documents.",rejected:"Your seller application was not approved at this time. You may reapply after addressing the concerns mentioned below."})[g]||"Please check your application status.",I=Ae.debounce(()=>{s(1)},500);return ve(v,g=>{g==="listings"&&p.value.length===0?s():g==="orders"&&d.value.length===0?m():g==="analytics"&&$.value.length===0&&se()}),J(()=>{R(),x(),s()}),(g,a)=>{const D=Ue("router-link");return n(),i("div",xo,[e("div",bo,[a[11]||(a[11]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Seller Dashboard",-1)),e("div",vo,[A(D,{to:"/seller/listings/new",class:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center"},{default:De(()=>[A(j(qe),{class:"h-5 w-5 mr-2"}),a[9]||(a[9]=F(" Add Listing ",-1))]),_:1}),e("button",{onClick:a[0]||(a[0]=h=>f.value=!0),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center"},[A(j(He),{class:"h-5 w-5 mr-2"}),a[10]||(a[10]=F(" Bulk Upload ",-1))])])]),y.value&&y.value.status!=="approved"?(n(),i("div",{key:0,class:M(["rounded-lg p-4",G(y.value.status)])},[e("div",fo,[A(j(ne),{class:"h-5 w-5 mr-3"}),e("div",null,[e("h3",ho,r(K(y.value.status)),1),e("p",wo,r(X(y.value.status)),1),y.value.admin_message?(n(),i("div",_o,[a[12]||(a[12]=e("strong",null,"Admin Message:",-1)),F(" "+r(y.value.admin_message),1)])):w("",!0)])])],2)):w("",!0),e("div",ko,[e("div",$o,[e("div",Co,[e("div",So,[A(j(Ve),{class:"h-6 w-6 text-blue-600"})]),e("div",Po,[a[13]||(a[13]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Listings",-1)),e("p",Uo,r(o.value.activeListings),1)])])]),e("div",Do,[e("div",Ao,[e("div",Vo,[A(j(_e),{class:"h-6 w-6 text-yellow-600"})]),e("div",Oo,[a[14]||(a[14]=e("p",{class:"text-sm font-medium text-gray-600"},"Pending Orders",-1)),e("p",jo,r(o.value.pendingOrders),1)])])]),e("div",Lo,[e("div",To,[e("div",Bo,[A(j(ke),{class:"h-6 w-6 text-green-600"})]),e("div",Mo,[a[15]||(a[15]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Sales",-1)),e("p",No,"$"+r(o.value.totalSales),1)])])]),e("div",Eo,[e("div",Ro,[e("div",qo,[A(j(ze),{class:"h-6 w-6 text-purple-600"})]),e("div",Fo,[a[16]||(a[16]=e("p",{class:"text-sm font-medium text-gray-600"},"Rating",-1)),e("p",Ho,r(o.value.averageRating)+"/5",1),e("p",Io,"("+r(o.value.reviewCount)+" reviews)",1)])])])]),e("div",zo,[e("div",Wo,[e("nav",Yo,[(n(),i(N,null,E(T,h=>e("button",{key:h.id,onClick:H=>v.value=h.id,class:M(["py-4 px-1 border-b-2 font-medium text-sm",v.value===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},r(h.name),11,Zo)),64))])]),e("div",Qo,[v.value==="listings"?(n(),i("div",Jo,[e("div",Go,[a[18]||(a[18]=e("h2",{class:"text-lg font-medium"},"My Listings",-1)),e("div",Ko,[k(e("select",{"onUpdate:modelValue":a[1]||(a[1]=h=>t.value.status=h),onChange:s,class:"rounded-md border-gray-300 text-sm"},[...a[17]||(a[17]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"active"},"Active",-1),e("option",{value:"sold"},"Sold",-1),e("option",{value:"inactive"},"Inactive",-1)])],544),[[Z,t.value.status]]),k(e("input",{"onUpdate:modelValue":a[2]||(a[2]=h=>t.value.search=h),onInput:a[3]||(a[3]=(...h)=>j(I)&&j(I)(...h)),placeholder:"Search listings...",class:"rounded-md border-gray-300 text-sm"},null,544),[[V,t.value.search]])])]),A(nt,{listings:p.value,loading:S.value,onEdit:ae,onDelete:oe,onToggleStatus:le},null,8,["listings","loading"]),O.value.totalPages>1?(n(),Y(be,{key:0,"current-page":O.value.page,"total-pages":O.value.totalPages,onPageChange:s},null,8,["current-page","total-pages"])):w("",!0)])):w("",!0),v.value==="orders"?(n(),i("div",Xo,[e("div",el,[a[20]||(a[20]=e("h2",{class:"text-lg font-medium"},"Orders",-1)),e("div",tl,[k(e("select",{"onUpdate:modelValue":a[4]||(a[4]=h=>u.value.status=h),onChange:m,class:"rounded-md border-gray-300 text-sm"},[...a[19]||(a[19]=[Q('<option value="all" data-v-05d1e26f>All Status</option><option value="pending" data-v-05d1e26f>Pending</option><option value="processing" data-v-05d1e26f>Processing</option><option value="shipped" data-v-05d1e26f>Shipped</option><option value="delivered" data-v-05d1e26f>Delivered</option>',5)])],544),[[Z,u.value.status]]),k(e("input",{type:"date","onUpdate:modelValue":a[5]||(a[5]=h=>u.value.startDate=h),onChange:m,class:"rounded-md border-gray-300 text-sm"},null,544),[[V,u.value.startDate]]),k(e("input",{type:"date","onUpdate:modelValue":a[6]||(a[6]=h=>u.value.endDate=h),onChange:m,class:"rounded-md border-gray-300 text-sm"},null,544),[[V,u.value.endDate]])])]),A(kt,{orders:d.value,loading:C.value,onUpdateStatus:_,onViewDetails:l},null,8,["orders","loading"]),U.value.totalPages>1?(n(),Y(be,{key:0,"current-page":U.value.page,"total-pages":U.value.totalPages,onPageChange:m},null,8,["current-page","total-pages"])):w("",!0)])):w("",!0),v.value==="analytics"?(n(),i("div",sl,[e("div",al,[e("div",ol,[a[21]||(a[21]=e("h3",{class:"text-lg font-medium mb-4"},"Monthly Sales",-1)),A(St,{data:o.value.monthlySales},null,8,["data"])]),e("div",ll,[a[22]||(a[22]=e("h3",{class:"text-lg font-medium mb-4"},"Top Selling Cards",-1)),e("div",rl,[(n(!0),i(N,null,E($.value,h=>(n(),i("div",{key:h.id,class:"flex justify-between items-center"},[e("div",nl,[e("img",{src:h.image_url,alt:h.name,class:"w-8 h-11 object-cover rounded"},null,8,il),e("div",null,[e("p",dl,r(h.name),1),e("p",ul,r(h.set_name),1)])]),e("div",pl,[e("p",cl,r(h.sales_count)+" sold",1),e("p",ml,"$"+r(h.total_revenue),1)])]))),128))])])])])):w("",!0),v.value==="settings"?(n(),i("div",gl,[A(Is,{onUpdated:x})])):w("",!0)])]),f.value?(n(),Y(na,{key:1,onClose:a[7]||(a[7]=h=>f.value=!1),onUploaded:B})):w("",!0),b.value?(n(),Y(yo,{key:2,order:b.value,onClose:a[8]||(a[8]=h=>b.value=null),onUpdated:m},null,8,["order"])):w("",!0)])}}},$l=ie(yl,[["__scopeId","data-v-05d1e26f"]]);export{$l as default};
