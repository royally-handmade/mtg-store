import{P as g,r as n,n as p,o as y,m as f,c as a,b as s,d as r,t as i,F as x,j as k,g as b}from"./index-D5lSLxc0.js";import{_ as B}from"./CardPreview-CpBhfHIW.js";import"./WishlistButton-X_yWC9gL.js";import"./TreatmentBadge-a7nld0Nr.js";const F={class:"space-y-6"},I={class:"text-center py-8"},S={class:"text-gray-600"},w={key:0,class:"flex justify-center items-center py-12"},P={key:1,class:"text-center py-12"},$={class:"text-red-600"},j={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},A={__name:"SharedWishlist",setup(C){const m=g(),u=n(!0),c=n(""),o=n([]),_=p(()=>o.value.length),v=p(()=>o.value.reduce((t,e)=>t+parseFloat(e.market_price||0),0).toFixed(2));return y(async()=>{try{const t=m.params.id,l=JSON.parse(atob(t)).map(d=>f.get(`/cards/${d}`)),h=await Promise.all(l);o.value=h.map(d=>d.data)}catch{c.value="Invalid or expired shared wishlist link"}finally{u.value=!1}}),(t,e)=>(s(),a("div",F,[r("div",I,[e[0]||(e[0]=r("h1",{class:"text-3xl font-bold mb-4"},"Shared Wishlist",-1)),r("p",S,i(_.value)+" cards â€¢ Total value: $"+i(v.value)+" CAD",1)]),u.value?(s(),a("div",w,[...e[1]||(e[1]=[r("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)])])):c.value?(s(),a("div",P,[r("p",$,i(c.value),1)])):(s(),a("div",j,[(s(!0),a(x,null,k(o.value,l=>(s(),b(B,{key:l.id,card:l},null,8,["card"]))),128))]))]))}};export{A as default};
