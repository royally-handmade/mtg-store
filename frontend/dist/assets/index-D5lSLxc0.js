const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-C9LfyXy1.js","assets/CardPreview-CpBhfHIW.js","assets/WishlistButton-X_yWC9gL.js","assets/TreatmentBadge-a7nld0Nr.js","assets/TreatmentBadge-DF9yuwAd.css","assets/TruckIcon-Clij3_1w.js","assets/Cards-ByMpxt0a.js","assets/Pagination-B_Hi1a5H.js","assets/Pagination-DhWnC59c.css","assets/CardDetail-Bf7cz8O_.js","assets/chart-C6iHWF86.js","assets/CardDetail-93xlhtbb.css","assets/Auth-0KiwMJ6O.js","assets/CheckCircleIcon-CPskrV3K.js","assets/ExclamationTriangleIcon-qqwZ6LDi.js","assets/ResetPassword-B2HfPj1g.js","assets/Dashboard-BFuEogei.js","assets/DocumentTextIcon-BaydoBVY.js","assets/CurrencyDollarIcon-B4wsOogc.js","assets/Wishlist-CcKjUOEz.js","assets/TrashIcon-Ok0xa92g.js","assets/SharedWishlist-DWsOCKQd.js","assets/SellerDashboard-DH99VaPq.js","assets/lodash-C4tK62Yr.js","assets/PlusIcon-BDGik3-F.js","assets/SellerDashboard-RARuCRIC.css","assets/AdminDashboard-nuS_MQCw.js","assets/AdminDashboard-3yT76DHQ.css","assets/DeckBuilder-PK7kSq3N.js","assets/Cart-Cm-Bs9-p.js","assets/Profile-CPbBS-pI.js","assets/Profile-Co7Tv97k.css","assets/Orders-B73mhK5q.js","assets/ScryfallAdmin-BbG04sex.js","assets/ScryfallAdmin-CeBk2bGF.css","assets/Checkout-c_ip0YCU.js","assets/Checkout-OzGCjSkH.css","assets/OrderConfirmation-kgKdi9Dy.js","assets/OrderConfirmation-Dh_ovplI.css"])))=>i.map(i=>d[i]);
function $f(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Go(e){const t=Object.create(null);for(const r of e.split(","))t[r]=1;return r=>r in t}const ye={},an=[],Wt=()=>{},Gc=()=>!1,oi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Jo=e=>e.startsWith("onUpdate:"),Le=Object.assign,Qo=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Df=Object.prototype.hasOwnProperty,pe=(e,t)=>Df.call(e,t),H=Array.isArray,ln=e=>ns(e)==="[object Map]",_n=e=>ns(e)==="[object Set]",qa=e=>ns(e)==="[object Date]",te=e=>typeof e=="function",Ae=e=>typeof e=="string",Pt=e=>typeof e=="symbol",ve=e=>e!==null&&typeof e=="object",Jc=e=>(ve(e)||te(e))&&te(e.then)&&te(e.catch),Qc=Object.prototype.toString,ns=e=>Qc.call(e),Lf=e=>ns(e).slice(8,-1),Yc=e=>ns(e)==="[object Object]",Yo=e=>Ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,jn=Go(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ai=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Uf=/-\w/g,Et=ai(e=>e.replace(Uf,t=>t.slice(1).toUpperCase())),Bf=/\B([A-Z])/g,Or=ai(e=>e.replace(Bf,"-$1").toLowerCase()),li=ai(e=>e.charAt(0).toUpperCase()+e.slice(1)),Is=ai(e=>e?`on${li(e)}`:""),yr=(e,t)=>!Object.is(e,t),js=(e,...t)=>{for(let r=0;r<e.length;r++)e[r](...t)},Xc=(e,t,r,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:r})},Fs=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Mf=e=>{const t=Ae(e)?Number(e):NaN;return isNaN(t)?e:t};let Ha;const ci=()=>Ha||(Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ss(e){if(H(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],s=Ae(n)?Hf(n):ss(n);if(s)for(const i in s)t[i]=s[i]}return t}else if(Ae(e)||ve(e))return e}const Ff=/;(?![^(]*\))/g,Vf=/:([^]+)/,qf=/\/\*[^]*?\*\//g;function Hf(e){const t={};return e.replace(qf,"").split(Ff).forEach(r=>{if(r){const n=r.split(Vf);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function zt(e){let t="";if(Ae(e))t=e;else if(H(e))for(let r=0;r<e.length;r++){const n=zt(e[r]);n&&(t+=n+" ")}else if(ve(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const Wf="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Kf=Go(Wf);function Zc(e){return!!e||e===""}function zf(e,t){if(e.length!==t.length)return!1;let r=!0;for(let n=0;r&&n<e.length;n++)r=qr(e[n],t[n]);return r}function qr(e,t){if(e===t)return!0;let r=qa(e),n=qa(t);if(r||n)return r&&n?e.getTime()===t.getTime():!1;if(r=Pt(e),n=Pt(t),r||n)return e===t;if(r=H(e),n=H(t),r||n)return r&&n?zf(e,t):!1;if(r=ve(e),n=ve(t),r||n){if(!r||!n)return!1;const s=Object.keys(e).length,i=Object.keys(t).length;if(s!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!qr(e[o],t[o]))return!1}}return String(e)===String(t)}function Xo(e,t){return e.findIndex(r=>qr(r,t))}const eu=e=>!!(e&&e.__v_isRef===!0),nt=e=>Ae(e)?e:e==null?"":H(e)||ve(e)&&(e.toString===Qc||!te(e.toString))?eu(e)?nt(e.value):JSON.stringify(e,tu,2):String(e),tu=(e,t)=>eu(t)?tu(e,t.value):ln(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,s],i)=>(r[ji(n,i)+" =>"]=s,r),{})}:_n(t)?{[`Set(${t.size})`]:[...t.values()].map(r=>ji(r))}:Pt(t)?ji(t):ve(t)&&!H(t)&&!Yc(t)?String(t):t,ji=(e,t="")=>{var r;return Pt(e)?`Symbol(${(r=e.description)!=null?r:t})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let He;class ru{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].pause();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,r;if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].resume();for(t=0,r=this.effects.length;t<r;t++)this.effects[t].resume()}}run(t){if(this._active){const r=He;try{return He=this,t()}finally{He=r}}}on(){++this._on===1&&(this.prevScope=He,He=this)}off(){this._on>0&&--this._on===0&&(He=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function nu(e){return new ru(e)}function su(){return He}function Gf(e,t=!1){He&&He.cleanups.push(e)}let be;const Ni=new WeakSet;class iu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,He&&He.active&&He.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ni.has(this)&&(Ni.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||au(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Wa(this),lu(this);const t=be,r=xt;be=this,xt=!0;try{return this.fn()}finally{cu(this),be=t,xt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ta(t);this.deps=this.depsTail=void 0,Wa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ni.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){lo(this)&&this.run()}get dirty(){return lo(this)}}let ou=0,Nn,$n;function au(e,t=!1){if(e.flags|=8,t){e.next=$n,$n=e;return}e.next=Nn,Nn=e}function Zo(){ou++}function ea(){if(--ou>0)return;if($n){let t=$n;for($n=void 0;t;){const r=t.next;t.next=void 0,t.flags&=-9,t=r}}let e;for(;Nn;){let t=Nn;for(Nn=void 0;t;){const r=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=r}}if(e)throw e}function lu(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cu(e){let t,r=e.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),ta(n),Jf(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}e.deps=t,e.depsTail=r}function lo(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(uu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function uu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Hn)||(e.globalVersion=Hn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!lo(e))))return;e.flags|=2;const t=e.dep,r=be,n=xt;be=e,xt=!0;try{lu(e);const s=e.fn(e._value);(t.version===0||yr(s,e._value))&&(e.flags|=128,e._value=s,t.version++)}catch(s){throw t.version++,s}finally{be=r,xt=n,cu(e),e.flags&=-3}}function ta(e,t=!1){const{dep:r,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),r.subs===e&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)ta(i,!0)}!t&&!--r.sc&&r.map&&r.map.delete(r.key)}function Jf(e){const{prevDep:t,nextDep:r}=e;t&&(t.nextDep=r,e.prevDep=void 0),r&&(r.prevDep=t,e.nextDep=void 0)}let xt=!0;const du=[];function sr(){du.push(xt),xt=!1}function ir(){const e=du.pop();xt=e===void 0?!0:e}function Wa(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const r=be;be=void 0;try{t()}finally{be=r}}}let Hn=0;class Qf{constructor(t,r){this.sub=t,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ra{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!be||!xt||be===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==be)r=this.activeLink=new Qf(be,this),be.deps?(r.prevDep=be.depsTail,be.depsTail.nextDep=r,be.depsTail=r):be.deps=be.depsTail=r,hu(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=be.depsTail,r.nextDep=void 0,be.depsTail.nextDep=r,be.depsTail=r,be.deps===r&&(be.deps=n)}return r}trigger(t){this.version++,Hn++,this.notify(t)}notify(t){Zo();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{ea()}}}function hu(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)hu(n)}const r=e.dep.subs;r!==e&&(e.prevSub=r,r&&(r.nextSub=e)),e.dep.subs=e}}const Vs=new WeakMap,Mr=Symbol(""),co=Symbol(""),Wn=Symbol("");function We(e,t,r){if(xt&&be){let n=Vs.get(e);n||Vs.set(e,n=new Map);let s=n.get(r);s||(n.set(r,s=new ra),s.map=n,s.key=r),s.track()}}function Zt(e,t,r,n,s,i){const o=Vs.get(e);if(!o){Hn++;return}const a=l=>{l&&l.trigger()};if(Zo(),t==="clear")o.forEach(a);else{const l=H(e),c=l&&Yo(r);if(l&&r==="length"){const u=Number(n);o.forEach((d,h)=>{(h==="length"||h===Wn||!Pt(h)&&h>=u)&&a(d)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Wn)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Mr)),ln(e)&&a(o.get(co)));break;case"delete":l||(a(o.get(Mr)),ln(e)&&a(o.get(co)));break;case"set":ln(e)&&a(o.get(Mr));break}}ea()}function Yf(e,t){const r=Vs.get(e);return r&&r.get(t)}function zr(e){const t=de(e);return t===e?t:(We(t,"iterate",Wn),wt(e)?t:t.map(Fe))}function ui(e){return We(e=de(e),"iterate",Wn),e}const Xf={__proto__:null,[Symbol.iterator](){return $i(this,Symbol.iterator,Fe)},concat(...e){return zr(this).concat(...e.map(t=>H(t)?zr(t):t))},entries(){return $i(this,"entries",e=>(e[1]=Fe(e[1]),e))},every(e,t){return Jt(this,"every",e,t,void 0,arguments)},filter(e,t){return Jt(this,"filter",e,t,r=>r.map(Fe),arguments)},find(e,t){return Jt(this,"find",e,t,Fe,arguments)},findIndex(e,t){return Jt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Jt(this,"findLast",e,t,Fe,arguments)},findLastIndex(e,t){return Jt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Jt(this,"forEach",e,t,void 0,arguments)},includes(...e){return Di(this,"includes",e)},indexOf(...e){return Di(this,"indexOf",e)},join(e){return zr(this).join(e)},lastIndexOf(...e){return Di(this,"lastIndexOf",e)},map(e,t){return Jt(this,"map",e,t,void 0,arguments)},pop(){return Rn(this,"pop")},push(...e){return Rn(this,"push",e)},reduce(e,...t){return Ka(this,"reduce",e,t)},reduceRight(e,...t){return Ka(this,"reduceRight",e,t)},shift(){return Rn(this,"shift")},some(e,t){return Jt(this,"some",e,t,void 0,arguments)},splice(...e){return Rn(this,"splice",e)},toReversed(){return zr(this).toReversed()},toSorted(e){return zr(this).toSorted(e)},toSpliced(...e){return zr(this).toSpliced(...e)},unshift(...e){return Rn(this,"unshift",e)},values(){return $i(this,"values",Fe)}};function $i(e,t,r){const n=ui(e),s=n[t]();return n!==e&&!wt(e)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.done||(i.value=r(i.value)),i}),s}const Zf=Array.prototype;function Jt(e,t,r,n,s,i){const o=ui(e),a=o!==e&&!wt(e),l=o[t];if(l!==Zf[t]){const d=l.apply(e,i);return a?Fe(d):d}let c=r;o!==e&&(a?c=function(d,h){return r.call(this,Fe(d),h,e)}:r.length>2&&(c=function(d,h){return r.call(this,d,h,e)}));const u=l.call(o,c,n);return a&&s?s(u):u}function Ka(e,t,r,n){const s=ui(e);let i=r;return s!==e&&(wt(e)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,e)}):i=function(o,a,l){return r.call(this,o,Fe(a),l,e)}),s[t](i,...n)}function Di(e,t,r){const n=de(e);We(n,"iterate",Wn);const s=n[t](...r);return(s===-1||s===!1)&&ia(r[0])?(r[0]=de(r[0]),n[t](...r)):s}function Rn(e,t,r=[]){sr(),Zo();const n=de(e)[t].apply(e,r);return ea(),ir(),n}const ep=Go("__proto__,__v_isRef,__isVue"),fu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Pt));function tp(e){Pt(e)||(e=String(e));const t=de(this);return We(t,"has",e),t.hasOwnProperty(e)}class pu{constructor(t=!1,r=!1){this._isReadonly=t,this._isShallow=r}get(t,r,n){if(r==="__v_skip")return t.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?dp:yu:i?vu:mu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=H(t);if(!s){let l;if(o&&(l=Xf[r]))return l;if(r==="hasOwnProperty")return tp}const a=Reflect.get(t,r,Pe(t)?t:n);if((Pt(r)?fu.has(r):ep(r))||(s||We(t,"get",r),i))return a;if(Pe(a)){const l=o&&Yo(r)?a:a.value;return s&&ve(l)?ho(l):l}return ve(a)?s?ho(a):is(a):a}}class gu extends pu{constructor(t=!1){super(!1,t)}set(t,r,n,s){let i=t[r];if(!this._isShallow){const l=br(i);if(!wt(n)&&!br(n)&&(i=de(i),n=de(n)),!H(t)&&Pe(i)&&!Pe(n))return l||(i.value=n),!0}const o=H(t)&&Yo(r)?Number(r)<t.length:pe(t,r),a=Reflect.set(t,r,n,Pe(t)?t:s);return t===de(s)&&(o?yr(n,i)&&Zt(t,"set",r,n):Zt(t,"add",r,n)),a}deleteProperty(t,r){const n=pe(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&Zt(t,"delete",r,void 0),s}has(t,r){const n=Reflect.has(t,r);return(!Pt(r)||!fu.has(r))&&We(t,"has",r),n}ownKeys(t){return We(t,"iterate",H(t)?"length":Mr),Reflect.ownKeys(t)}}class rp extends pu{constructor(t=!1){super(!0,t)}set(t,r){return!0}deleteProperty(t,r){return!0}}const np=new gu,sp=new rp,ip=new gu(!0);const uo=e=>e,vs=e=>Reflect.getPrototypeOf(e);function op(e,t,r){return function(...n){const s=this.__v_raw,i=de(s),o=ln(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...n),u=r?uo:t?qs:Fe;return!t&&We(i,"iterate",l?co:Mr),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function ys(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function ap(e,t){const r={get(s){const i=this.__v_raw,o=de(i),a=de(s);e||(yr(s,a)&&We(o,"get",s),We(o,"get",a));const{has:l}=vs(o),c=t?uo:e?qs:Fe;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!e&&We(de(s),"iterate",Mr),s.size},has(s){const i=this.__v_raw,o=de(i),a=de(s);return e||(yr(s,a)&&We(o,"has",s),We(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=de(a),c=t?uo:e?qs:Fe;return!e&&We(l,"iterate",Mr),a.forEach((u,d)=>s.call(i,c(u),c(d),o))}};return Le(r,e?{add:ys("add"),set:ys("set"),delete:ys("delete"),clear:ys("clear")}:{add(s){!t&&!wt(s)&&!br(s)&&(s=de(s));const i=de(this);return vs(i).has.call(i,s)||(i.add(s),Zt(i,"add",s,s)),this},set(s,i){!t&&!wt(i)&&!br(i)&&(i=de(i));const o=de(this),{has:a,get:l}=vs(o);let c=a.call(o,s);c||(s=de(s),c=a.call(o,s));const u=l.call(o,s);return o.set(s,i),c?yr(i,u)&&Zt(o,"set",s,i):Zt(o,"add",s,i),this},delete(s){const i=de(this),{has:o,get:a}=vs(i);let l=o.call(i,s);l||(s=de(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&Zt(i,"delete",s,void 0),c},clear(){const s=de(this),i=s.size!==0,o=s.clear();return i&&Zt(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=op(s,e,t)}),r}function na(e,t){const r=ap(e,t);return(n,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?n:Reflect.get(pe(r,s)&&s in n?r:n,s,i)}const lp={get:na(!1,!1)},cp={get:na(!1,!0)},up={get:na(!0,!1)};const mu=new WeakMap,vu=new WeakMap,yu=new WeakMap,dp=new WeakMap;function hp(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fp(e){return e.__v_skip||!Object.isExtensible(e)?0:hp(Lf(e))}function is(e){return br(e)?e:sa(e,!1,np,lp,mu)}function wu(e){return sa(e,!1,ip,cp,vu)}function ho(e){return sa(e,!0,sp,up,yu)}function sa(e,t,r,n,s){if(!ve(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=fp(e);if(i===0)return e;const o=s.get(e);if(o)return o;const a=new Proxy(e,i===2?n:r);return s.set(e,a),a}function wr(e){return br(e)?wr(e.__v_raw):!!(e&&e.__v_isReactive)}function br(e){return!!(e&&e.__v_isReadonly)}function wt(e){return!!(e&&e.__v_isShallow)}function ia(e){return e?!!e.__v_raw:!1}function de(e){const t=e&&e.__v_raw;return t?de(t):e}function oa(e){return!pe(e,"__v_skip")&&Object.isExtensible(e)&&Xc(e,"__v_skip",!0),e}const Fe=e=>ve(e)?is(e):e,qs=e=>ve(e)?ho(e):e;function Pe(e){return e?e.__v_isRef===!0:!1}function Ee(e){return _u(e,!1)}function pp(e){return _u(e,!0)}function _u(e,t){return Pe(e)?e:new gp(e,t)}class gp{constructor(t,r){this.dep=new ra,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?t:de(t),this._value=r?t:Fe(t),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(t){const r=this._rawValue,n=this.__v_isShallow||wt(t)||br(t);t=n?t:de(t),yr(t,r)&&(this._rawValue=t,this._value=n?t:Fe(t),this.dep.trigger())}}function ae(e){return Pe(e)?e.value:e}const mp={get:(e,t,r)=>t==="__v_raw"?e:ae(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const s=e[t];return Pe(s)&&!Pe(r)?(s.value=r,!0):Reflect.set(e,t,r,n)}};function bu(e){return wr(e)?e:new Proxy(e,mp)}function vp(e){const t=H(e)?new Array(e.length):{};for(const r in e)t[r]=wp(e,r);return t}class yp{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Yf(de(this._object),this._key)}}function wp(e,t,r){const n=e[t];return Pe(n)?n:new yp(e,t,r)}class _p{constructor(t,r,n){this.fn=t,this.setter=r,this._value=void 0,this.dep=new ra(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&be!==this)return au(this,!0),!0}get value(){const t=this.dep.track();return uu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function bp(e,t,r=!1){let n,s;return te(e)?n=e:(n=e.get,s=e.set),new _p(n,s,r)}const ws={},Hs=new WeakMap;let kr;function Ep(e,t=!1,r=kr){if(r){let n=Hs.get(r);n||Hs.set(r,n=[]),n.push(e)}}function Sp(e,t,r=ye){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=O=>s?O:wt(O)||s===!1||s===0?er(O,1):er(O);let u,d,h,f,p=!1,m=!1;if(Pe(e)?(d=()=>e.value,p=wt(e)):wr(e)?(d=()=>c(e),p=!0):H(e)?(m=!0,p=e.some(O=>wr(O)||wt(O)),d=()=>e.map(O=>{if(Pe(O))return O.value;if(wr(O))return c(O);if(te(O))return l?l(O,2):O()})):te(e)?t?d=l?()=>l(e,2):e:d=()=>{if(h){sr();try{h()}finally{ir()}}const O=kr;kr=u;try{return l?l(e,3,[f]):e(f)}finally{kr=O}}:d=Wt,t&&s){const O=d,P=s===!0?1/0:s;d=()=>er(O(),P)}const y=su(),b=()=>{u.stop(),y&&y.active&&Qo(y.effects,u)};if(i&&t){const O=t;t=(...P)=>{O(...P),b()}}let S=m?new Array(e.length).fill(ws):ws;const w=O=>{if(!(!(u.flags&1)||!u.dirty&&!O))if(t){const P=u.run();if(s||p||(m?P.some((x,U)=>yr(x,S[U])):yr(P,S))){h&&h();const x=kr;kr=u;try{const U=[P,S===ws?void 0:m&&S[0]===ws?[]:S,f];S=P,l?l(t,3,U):t(...U)}finally{kr=x}}}else u.run()};return a&&a(w),u=new iu(d),u.scheduler=o?()=>o(w,!1):w,f=O=>Ep(O,!1,u),h=u.onStop=()=>{const O=Hs.get(u);if(O){if(l)l(O,4);else for(const P of O)P();Hs.delete(u)}},t?n?w(!0):S=u.run():o?o(w.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function er(e,t=1/0,r){if(t<=0||!ve(e)||e.__v_skip||(r=r||new Map,(r.get(e)||0)>=t))return e;if(r.set(e,t),t--,Pe(e))er(e.value,t,r);else if(H(e))for(let n=0;n<e.length;n++)er(e[n],t,r);else if(_n(e)||ln(e))e.forEach(n=>{er(n,t,r)});else if(Yc(e)){for(const n in e)er(e[n],t,r);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&er(e[n],t,r)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function os(e,t,r,n){try{return n?e(...n):e()}catch(s){di(s,t,r)}}function kt(e,t,r,n){if(te(e)){const s=os(e,t,r,n);return s&&Jc(s)&&s.catch(i=>{di(i,t,r)}),s}if(H(e)){const s=[];for(let i=0;i<e.length;i++)s.push(kt(e[i],t,r,n));return s}}function di(e,t,r,n=!0){const s=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||ye;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(i){sr(),os(i,null,10,[e,l,c]),ir();return}}Op(e,r,s,n,o)}function Op(e,t,r,n=!0,s=!1){if(s)throw e;console.error(e)}const Ze=[];let qt=-1;const cn=[];let pr=null,tn=0;const Eu=Promise.resolve();let Ws=null;function _t(e){const t=Ws||Eu;return e?t.then(this?e.bind(this):e):t}function Tp(e){let t=qt+1,r=Ze.length;for(;t<r;){const n=t+r>>>1,s=Ze[n],i=Kn(s);i<e||i===e&&s.flags&2?t=n+1:r=n}return t}function aa(e){if(!(e.flags&1)){const t=Kn(e),r=Ze[Ze.length-1];!r||!(e.flags&2)&&t>=Kn(r)?Ze.push(e):Ze.splice(Tp(t),0,e),e.flags|=1,Su()}}function Su(){Ws||(Ws=Eu.then(Tu))}function Ap(e){H(e)?cn.push(...e):pr&&e.id===-1?pr.splice(tn+1,0,e):e.flags&1||(cn.push(e),e.flags|=1),Su()}function za(e,t,r=qt+1){for(;r<Ze.length;r++){const n=Ze[r];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;Ze.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ou(e){if(cn.length){const t=[...new Set(cn)].sort((r,n)=>Kn(r)-Kn(n));if(cn.length=0,pr){pr.push(...t);return}for(pr=t,tn=0;tn<pr.length;tn++){const r=pr[tn];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}pr=null,tn=0}}const Kn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Tu(e){try{for(qt=0;qt<Ze.length;qt++){const t=Ze[qt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),os(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;qt<Ze.length;qt++){const t=Ze[qt];t&&(t.flags&=-2)}qt=-1,Ze.length=0,Ou(),Ws=null,(Ze.length||cn.length)&&Tu()}}let qe=null,Au=null;function Ks(e){const t=qe;return qe=e,Au=e&&e.type.__scopeId||null,t}function he(e,t=qe,r){if(!t||e._n)return e;const n=(...s)=>{n._d&&Qs(-1);const i=Ks(t);let o;try{o=e(...s)}finally{Ks(i),n._d&&Qs(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ru(e,t){if(qe===null)return e;const r=mi(qe),n=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,o,a,l=ye]=t[s];i&&(te(i)&&(i={mounted:i,updated:i}),i.deep&&er(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ar(e,t,r,n){const s=e.dirs,i=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(sr(),kt(l,r,8,[e.el,a,e,t]),ir())}}const Rp=Symbol("_vte"),Cp=e=>e.__isTeleport,Ir=Symbol("_leaveCb"),_s=Symbol("_enterCb");function xp(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Wr(()=>{e.isMounted=!0}),ju(()=>{e.isUnmounting=!0}),e}const yt=[Function,Array],Pp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yt,onEnter:yt,onAfterEnter:yt,onEnterCancelled:yt,onBeforeLeave:yt,onLeave:yt,onAfterLeave:yt,onLeaveCancelled:yt,onBeforeAppear:yt,onAppear:yt,onAfterAppear:yt,onAppearCancelled:yt};function kp(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function fo(e,t,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:d,onBeforeLeave:h,onLeave:f,onAfterLeave:p,onLeaveCancelled:m,onBeforeAppear:y,onAppear:b,onAfterAppear:S,onAppearCancelled:w}=t,O=String(e.key),P=kp(r,e),x=(I,Y)=>{I&&kt(I,n,9,Y)},U=(I,Y)=>{const le=Y[1];x(I,Y),H(I)?I.every($=>$.length<=1)&&le():I.length<=1&&le()},V={mode:o,persisted:a,beforeEnter(I){let Y=l;if(!r.isMounted)if(i)Y=y||l;else return;I[Ir]&&I[Ir](!0);const le=P[O];le&&rn(e,le)&&le.el[Ir]&&le.el[Ir](),x(Y,[I])},enter(I){let Y=c,le=u,$=d;if(!r.isMounted)if(i)Y=b||c,le=S||u,$=w||d;else return;let ne=!1;const me=I[_s]=Ue=>{ne||(ne=!0,Ue?x($,[I]):x(le,[I]),V.delayedLeave&&V.delayedLeave(),I[_s]=void 0)};Y?U(Y,[I,me]):me()},leave(I,Y){const le=String(e.key);if(I[_s]&&I[_s](!0),r.isUnmounting)return Y();x(h,[I]);let $=!1;const ne=I[Ir]=me=>{$||($=!0,Y(),me?x(m,[I]):x(p,[I]),I[Ir]=void 0,P[le]===e&&delete P[le])};P[le]=e,f?U(f,[I,ne]):ne()},clone(I){return fo(I,t,r,n)}};return V}function zn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,zn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Cu(e,t=!1,r){let n=[],s=0;for(let i=0;i<e.length;i++){let o=e[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===je?(o.patchFlag&128&&s++,n=n.concat(Cu(o.children,t,a))):(t||o.type!==Gt)&&n.push(a!=null?Er(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}function gt(e,t){return te(e)?Le({name:e.name},t,{setup:e}):e}function Ip(){const e=ls();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function xu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const zs=new WeakMap;function Dn(e,t,r,n,s=!1){if(H(e)){e.forEach((p,m)=>Dn(p,t&&(H(t)?t[m]:t),r,n,s));return}if(un(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Dn(e,t,r,n.component.subTree);return}const i=n.shapeFlag&4?mi(n.component):n.el,o=s?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ye?a.refs={}:a.refs,d=a.setupState,h=de(d),f=d===ye?Gc:p=>pe(h,p);if(c!=null&&c!==l){if(Ga(t),Ae(c))u[c]=null,f(c)&&(d[c]=null);else if(Pe(c)){c.value=null;const p=t;p.k&&(u[p.k]=null)}}if(te(l))os(l,a,12,[o,u]);else{const p=Ae(l),m=Pe(l);if(p||m){const y=()=>{if(e.f){const b=p?f(l)?d[l]:u[l]:l.value;if(s)H(b)&&Qo(b,i);else if(H(b))b.includes(i)||b.push(i);else if(p)u[l]=[i],f(l)&&(d[l]=u[l]);else{const S=[i];l.value=S,e.k&&(u[e.k]=S)}}else p?(u[l]=o,f(l)&&(d[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};if(o){const b=()=>{y(),zs.delete(e)};b.id=-1,zs.set(e,b),at(b,r)}else Ga(e),y()}}}function Ga(e){const t=zs.get(e);t&&(t.flags|=8,zs.delete(e))}ci().requestIdleCallback;ci().cancelIdleCallback;const un=e=>!!e.type.__asyncLoader,Pu=e=>e.type.__isKeepAlive;function jp(e,t){ku(e,"a",t)}function Np(e,t){ku(e,"da",t)}function ku(e,t,r=ze){const n=e.__wdc||(e.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(hi(t,n,r),r){let s=r.parent;for(;s&&s.parent;)Pu(s.parent.vnode)&&$p(n,t,r,s),s=s.parent}}function $p(e,t,r,n){const s=hi(t,e,n,!0);la(()=>{Qo(n[t],s)},r)}function hi(e,t,r=ze,n=!1){if(r){const s=r[e]||(r[e]=[]),i=t.__weh||(t.__weh=(...o)=>{sr();const a=cs(r),l=kt(t,r,e,o);return a(),ir(),l});return n?s.unshift(i):s.push(i),i}}const or=e=>(t,r=ze)=>{(!Qn||e==="sp")&&hi(e,(...n)=>t(...n),r)},Dp=or("bm"),Wr=or("m"),Lp=or("bu"),Iu=or("u"),ju=or("bum"),la=or("um"),Up=or("sp"),Bp=or("rtg"),Mp=or("rtc");function Fp(e,t=ze){hi("ec",e,t)}const Nu="components";function rr(e,t){return Du(Nu,e,!0,t)||e}const $u=Symbol.for("v-ndc");function ca(e){return Ae(e)?Du(Nu,e,!1)||e:e||$u}function Du(e,t,r=!0,n=!1){const s=qe||ze;if(s){const i=s.type;{const a=Pg(i,!1);if(a&&(a===t||a===Et(t)||a===li(Et(t))))return i}const o=Ja(s[e]||i[e],t)||Ja(s.appContext[e],t);return!o&&n?i:o}}function Ja(e,t){return e&&(e[t]||e[Et(t)]||e[li(Et(t))])}function Gs(e,t,r,n){let s;const i=r,o=H(e);if(o||Ae(e)){const a=o&&wr(e);let l=!1,c=!1;a&&(l=!wt(e),c=br(e),e=ui(e)),s=new Array(e.length);for(let u=0,d=e.length;u<d;u++)s[u]=t(l?c?qs(Fe(e[u])):Fe(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){s=new Array(e);for(let a=0;a<e;a++)s[a]=t(a+1,a,void 0,i)}else if(ve(e))if(e[Symbol.iterator])s=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];s[l]=t(e[u],u,l,i)}}else s=[];return s}function Vp(e,t,r={},n,s){if(qe.ce||qe.parent&&un(qe.parent)&&qe.parent.ce){const c=Object.keys(r).length>0;return q(),Ke(je,null,[Q("slot",r,n)],c?-2:64)}let i=e[t];i&&i._c&&(i._d=!1),q();const o=i&&Lu(i(r)),a=r.key||o&&o.key,l=Ke(je,{key:(a&&!Pt(a)?a:`_${t}`)+(!o&&n?"_fb":"")},o||[],o&&e._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Lu(e){return e.some(t=>Jn(t)?!(t.type===Gt||t.type===je&&!Lu(t.children)):!0)?e:null}function qp(e,t){const r={};for(const n in e)r[Is(n)]=e[n];return r}const po=e=>e?rd(e)?mi(e):po(e.parent):null,Ln=Le(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>po(e.parent),$root:e=>po(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Bu(e),$forceUpdate:e=>e.f||(e.f=()=>{aa(e.update)}),$nextTick:e=>e.n||(e.n=_t.bind(e.proxy)),$watch:e=>dg.bind(e)}),Li=(e,t)=>e!==ye&&!e.__isScriptSetup&&pe(e,t),Hp={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return s[t];case 4:return r[t];case 3:return i[t]}else{if(Li(n,t))return o[t]=1,n[t];if(s!==ye&&pe(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&pe(c,t))return o[t]=3,i[t];if(r!==ye&&pe(r,t))return o[t]=4,r[t];go&&(o[t]=0)}}const u=Ln[t];let d,h;if(u)return t==="$attrs"&&We(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(r!==ye&&pe(r,t))return o[t]=4,r[t];if(h=l.config.globalProperties,pe(h,t))return h[t]},set({_:e},t,r){const{data:n,setupState:s,ctx:i}=e;return Li(s,t)?(s[t]=r,!0):n!==ye&&pe(n,t)?(n[t]=r,!0):pe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:s,propsOptions:i,type:o}},a){let l,c;return!!(r[a]||e!==ye&&a[0]!=="$"&&pe(e,a)||Li(t,a)||(l=i[0])&&pe(l,a)||pe(n,a)||pe(Ln,a)||pe(s.config.globalProperties,a)||(c=o.__cssModules)&&c[a])},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:pe(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};function Qa(e){return H(e)?e.reduce((t,r)=>(t[r]=null,t),{}):e}let go=!0;function Wp(e){const t=Bu(e),r=e.proxy,n=e.ctx;go=!1,t.beforeCreate&&Ya(t.beforeCreate,e,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:y,beforeDestroy:b,beforeUnmount:S,destroyed:w,unmounted:O,render:P,renderTracked:x,renderTriggered:U,errorCaptured:V,serverPrefetch:I,expose:Y,inheritAttrs:le,components:$,directives:ne,filters:me}=t;if(c&&Kp(c,n,null),o)for(const Z in o){const se=o[Z];te(se)&&(n[Z]=se.bind(r))}if(s){const Z=s.call(r,r);ve(Z)&&(e.data=is(Z))}if(go=!0,i)for(const Z in i){const se=i[Z],mt=te(se)?se.bind(r,r):te(se.get)?se.get.bind(r,r):Wt,Nt=!te(se)&&te(se.set)?se.set.bind(r):Wt,Ne=xe({get:mt,set:Nt});Object.defineProperty(n,Z,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:Re=>Ne.value=Re})}if(a)for(const Z in a)Uu(a[Z],n,r,Z);if(l){const Z=te(l)?l.call(r):l;Reflect.ownKeys(Z).forEach(se=>{dn(se,Z[se])})}u&&Ya(u,e,"c");function ie(Z,se){H(se)?se.forEach(mt=>Z(mt.bind(r))):se&&Z(se.bind(r))}if(ie(Dp,d),ie(Wr,h),ie(Lp,f),ie(Iu,p),ie(jp,m),ie(Np,y),ie(Fp,V),ie(Mp,x),ie(Bp,U),ie(ju,S),ie(la,O),ie(Up,I),H(Y))if(Y.length){const Z=e.exposed||(e.exposed={});Y.forEach(se=>{Object.defineProperty(Z,se,{get:()=>r[se],set:mt=>r[se]=mt,enumerable:!0})})}else e.exposed||(e.exposed={});P&&e.render===Wt&&(e.render=P),le!=null&&(e.inheritAttrs=le),$&&(e.components=$),ne&&(e.directives=ne),I&&xu(e)}function Kp(e,t,r=Wt){H(e)&&(e=mo(e));for(const n in e){const s=e[n];let i;ve(s)?"default"in s?i=Je(s.from||n,s.default,!0):i=Je(s.from||n):i=Je(s),Pe(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[n]=i}}function Ya(e,t,r){kt(H(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Uu(e,t,r,n){let s=n.includes(".")?Yu(r,n):()=>r[n];if(Ae(e)){const i=t[e];te(i)&&_r(s,i)}else if(te(e))_r(s,e.bind(r));else if(ve(e))if(H(e))e.forEach(i=>Uu(i,t,r,n));else{const i=te(e.handler)?e.handler.bind(r):t[e.handler];te(i)&&_r(s,i,e)}}function Bu(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!s.length&&!r&&!n?l=t:(l={},s.length&&s.forEach(c=>Js(l,c,o,!0)),Js(l,t,o)),ve(t)&&i.set(t,l),l}function Js(e,t,r,n=!1){const{mixins:s,extends:i}=t;i&&Js(e,i,r,!0),s&&s.forEach(o=>Js(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const a=zp[o]||r&&r[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const zp={data:Xa,props:Za,emits:Za,methods:kn,computed:kn,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:kn,directives:kn,watch:Jp,provide:Xa,inject:Gp};function Xa(e,t){return t?e?function(){return Le(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function Gp(e,t){return kn(mo(e),mo(t))}function mo(e){if(H(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Qe(e,t){return e?[...new Set([].concat(e,t))]:t}function kn(e,t){return e?Le(Object.create(null),e,t):t}function Za(e,t){return e?H(e)&&H(t)?[...new Set([...e,...t])]:Le(Object.create(null),Qa(e),Qa(t??{})):t}function Jp(e,t){if(!e)return t;if(!t)return e;const r=Le(Object.create(null),e);for(const n in t)r[n]=Qe(e[n],t[n]);return r}function Mu(){return{app:null,config:{isNativeTag:Gc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qp=0;function Yp(e,t){return function(n,s=null){te(n)||(n=Le({},n)),s!=null&&!ve(s)&&(s=null);const i=Mu(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Qp++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Ig,get config(){return i.config},set config(u){},use(u,...d){return o.has(u)||(u&&te(u.install)?(o.add(u),u.install(c,...d)):te(u)&&(o.add(u),u(c,...d))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,d){return d?(i.components[u]=d,c):i.components[u]},directive(u,d){return d?(i.directives[u]=d,c):i.directives[u]},mount(u,d,h){if(!l){const f=c._ceVNode||Q(n,s);return f.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),e(f,u,h),l=!0,c._container=u,u.__vue_app__=c,mi(f.component)}},onUnmount(u){a.push(u)},unmount(){l&&(kt(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return i.provides[u]=d,c},runWithContext(u){const d=Fr;Fr=c;try{return u()}finally{Fr=d}}};return c}}let Fr=null;function dn(e,t){if(ze){let r=ze.provides;const n=ze.parent&&ze.parent.provides;n===r&&(r=ze.provides=Object.create(n)),r[e]=t}}function Je(e,t,r=!1){const n=ls();if(n||Fr){let s=Fr?Fr._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return r&&te(t)?t.call(n&&n.proxy):t}}function Xp(){return!!(ls()||Fr)}const Fu={},Vu=()=>Object.create(Fu),qu=e=>Object.getPrototypeOf(e)===Fu;function Zp(e,t,r,n=!1){const s={},i=Vu();e.propsDefaults=Object.create(null),Hu(e,t,s,i);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);r?e.props=n?s:wu(s):e.type.props?e.props=s:e.props=i,e.attrs=i}function eg(e,t,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=e,a=de(s),[l]=e.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(fi(e.emitsOptions,h))continue;const f=t[h];if(l)if(pe(i,h))f!==i[h]&&(i[h]=f,c=!0);else{const p=Et(h);s[p]=vo(l,a,p,f,e,!1)}else f!==i[h]&&(i[h]=f,c=!0)}}}else{Hu(e,t,s,i)&&(c=!0);let u;for(const d in a)(!t||!pe(t,d)&&((u=Or(d))===d||!pe(t,u)))&&(l?r&&(r[d]!==void 0||r[u]!==void 0)&&(s[d]=vo(l,a,d,void 0,e,!0)):delete s[d]);if(i!==a)for(const d in i)(!t||!pe(t,d))&&(delete i[d],c=!0)}c&&Zt(e.attrs,"set","")}function Hu(e,t,r,n){const[s,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(jn(l))continue;const c=t[l];let u;s&&pe(s,u=Et(l))?!i||!i.includes(u)?r[u]=c:(a||(a={}))[u]=c:fi(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=de(r),c=a||ye;for(let u=0;u<i.length;u++){const d=i[u];r[d]=vo(s,l,d,c[d],e,!pe(c,d))}}return o}function vo(e,t,r,n,s,i){const o=e[r];if(o!=null){const a=pe(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&te(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const u=cs(s);n=c[r]=l.call(null,t),u()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Or(r))&&(n=!0))}return n}const tg=new WeakMap;function Wu(e,t,r=!1){const n=r?tg:t.propsCache,s=n.get(e);if(s)return s;const i=e.props,o={},a=[];let l=!1;if(!te(e)){const u=d=>{l=!0;const[h,f]=Wu(d,t,!0);Le(o,h),f&&a.push(...f)};!r&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ve(e)&&n.set(e,an),an;if(H(i))for(let u=0;u<i.length;u++){const d=Et(i[u]);el(d)&&(o[d]=ye)}else if(i)for(const u in i){const d=Et(u);if(el(d)){const h=i[u],f=o[d]=H(h)||te(h)?{type:h}:Le({},h),p=f.type;let m=!1,y=!0;if(H(p))for(let b=0;b<p.length;++b){const S=p[b],w=te(S)&&S.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(y=!1)}else m=te(p)&&p.name==="Boolean";f[0]=m,f[1]=y,(m||pe(f,"default"))&&a.push(d)}}const c=[o,a];return ve(e)&&n.set(e,c),c}function el(e){return e[0]!=="$"&&!jn(e)}const ua=e=>e==="_"||e==="_ctx"||e==="$stable",da=e=>H(e)?e.map(Ht):[Ht(e)],rg=(e,t,r)=>{if(t._n)return t;const n=he((...s)=>da(t(...s)),r);return n._c=!1,n},Ku=(e,t,r)=>{const n=e._ctx;for(const s in e){if(ua(s))continue;const i=e[s];if(te(i))t[s]=rg(s,i,n);else if(i!=null){const o=da(i);t[s]=()=>o}}},zu=(e,t)=>{const r=da(t);e.slots.default=()=>r},Gu=(e,t,r)=>{for(const n in t)(r||!ua(n))&&(e[n]=t[n])},ng=(e,t,r)=>{const n=e.slots=Vu();if(e.vnode.shapeFlag&32){const s=t._;s?(Gu(n,t,r),r&&Xc(n,"_",s,!0)):Ku(t,n)}else t&&zu(e,t)},sg=(e,t,r)=>{const{vnode:n,slots:s}=e;let i=!0,o=ye;if(n.shapeFlag&32){const a=t._;a?r&&a===1?i=!1:Gu(s,t,r):(i=!t.$stable,Ku(t,s)),o=t}else t&&(zu(e,t),o={default:1});if(i)for(const a in s)!ua(a)&&o[a]==null&&delete s[a]},at=wg;function ig(e){return og(e)}function og(e,t){const r=ci();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Wt,insertStaticContent:p}=e,m=(g,v,_,A=null,C=null,T=null,D=void 0,N=null,j=!!v.dynamicChildren)=>{if(g===v)return;g&&!rn(g,v)&&(A=R(g),Re(g,C,T,!0),g=null),v.patchFlag===-2&&(j=!1,v.dynamicChildren=null);const{type:k,ref:J,shapeFlag:B}=v;switch(k){case pi:y(g,v,_,A);break;case Gt:b(g,v,_,A);break;case Ns:g==null&&S(v,_,A,D);break;case je:$(g,v,_,A,C,T,D,N,j);break;default:B&1?P(g,v,_,A,C,T,D,N,j):B&6?ne(g,v,_,A,C,T,D,N,j):(B&64||B&128)&&k.process(g,v,_,A,C,T,D,N,j,W)}J!=null&&C?Dn(J,g&&g.ref,T,v||g,!v):J==null&&g&&g.ref!=null&&Dn(g.ref,null,T,g,!0)},y=(g,v,_,A)=>{if(g==null)n(v.el=a(v.children),_,A);else{const C=v.el=g.el;v.children!==g.children&&c(C,v.children)}},b=(g,v,_,A)=>{g==null?n(v.el=l(v.children||""),_,A):v.el=g.el},S=(g,v,_,A)=>{[g.el,g.anchor]=p(g.children,v,_,A,g.el,g.anchor)},w=({el:g,anchor:v},_,A)=>{let C;for(;g&&g!==v;)C=h(g),n(g,_,A),g=C;n(v,_,A)},O=({el:g,anchor:v})=>{let _;for(;g&&g!==v;)_=h(g),s(g),g=_;s(v)},P=(g,v,_,A,C,T,D,N,j)=>{v.type==="svg"?D="svg":v.type==="math"&&(D="mathml"),g==null?x(v,_,A,C,T,D,N,j):I(g,v,C,T,D,N,j)},x=(g,v,_,A,C,T,D,N)=>{let j,k;const{props:J,shapeFlag:B,transition:z,dirs:X}=g;if(j=g.el=o(g.type,T,J&&J.is,J),B&8?u(j,g.children):B&16&&V(g.children,j,null,A,C,Ui(g,T),D,N),X&&Ar(g,null,A,"created"),U(j,g,g.scopeId,D,A),J){for(const we in J)we!=="value"&&!jn(we)&&i(j,we,null,J[we],T,A);"value"in J&&i(j,"value",null,J.value,T),(k=J.onVnodeBeforeMount)&&Mt(k,A,g)}X&&Ar(g,null,A,"beforeMount");const ue=ag(C,z);ue&&z.beforeEnter(j),n(j,v,_),((k=J&&J.onVnodeMounted)||ue||X)&&at(()=>{k&&Mt(k,A,g),ue&&z.enter(j),X&&Ar(g,null,A,"mounted")},C)},U=(g,v,_,A,C)=>{if(_&&f(g,_),A)for(let T=0;T<A.length;T++)f(g,A[T]);if(C){let T=C.subTree;if(v===T||Zu(T.type)&&(T.ssContent===v||T.ssFallback===v)){const D=C.vnode;U(g,D,D.scopeId,D.slotScopeIds,C.parent)}}},V=(g,v,_,A,C,T,D,N,j=0)=>{for(let k=j;k<g.length;k++){const J=g[k]=N?gr(g[k]):Ht(g[k]);m(null,J,v,_,A,C,T,D,N)}},I=(g,v,_,A,C,T,D)=>{const N=v.el=g.el;let{patchFlag:j,dynamicChildren:k,dirs:J}=v;j|=g.patchFlag&16;const B=g.props||ye,z=v.props||ye;let X;if(_&&Rr(_,!1),(X=z.onVnodeBeforeUpdate)&&Mt(X,_,v,g),J&&Ar(v,g,_,"beforeUpdate"),_&&Rr(_,!0),(B.innerHTML&&z.innerHTML==null||B.textContent&&z.textContent==null)&&u(N,""),k?Y(g.dynamicChildren,k,N,_,A,Ui(v,C),T):D||se(g,v,N,null,_,A,Ui(v,C),T,!1),j>0){if(j&16)le(N,B,z,_,C);else if(j&2&&B.class!==z.class&&i(N,"class",null,z.class,C),j&4&&i(N,"style",B.style,z.style,C),j&8){const ue=v.dynamicProps;for(let we=0;we<ue.length;we++){const ge=ue[we],tt=B[ge],rt=z[ge];(rt!==tt||ge==="value")&&i(N,ge,tt,rt,C,_)}}j&1&&g.children!==v.children&&u(N,v.children)}else!D&&k==null&&le(N,B,z,_,C);((X=z.onVnodeUpdated)||J)&&at(()=>{X&&Mt(X,_,v,g),J&&Ar(v,g,_,"updated")},A)},Y=(g,v,_,A,C,T,D)=>{for(let N=0;N<v.length;N++){const j=g[N],k=v[N],J=j.el&&(j.type===je||!rn(j,k)||j.shapeFlag&198)?d(j.el):_;m(j,k,J,null,A,C,T,D,!0)}},le=(g,v,_,A,C)=>{if(v!==_){if(v!==ye)for(const T in v)!jn(T)&&!(T in _)&&i(g,T,v[T],null,C,A);for(const T in _){if(jn(T))continue;const D=_[T],N=v[T];D!==N&&T!=="value"&&i(g,T,N,D,C,A)}"value"in _&&i(g,"value",v.value,_.value,C)}},$=(g,v,_,A,C,T,D,N,j)=>{const k=v.el=g?g.el:a(""),J=v.anchor=g?g.anchor:a("");let{patchFlag:B,dynamicChildren:z,slotScopeIds:X}=v;X&&(N=N?N.concat(X):X),g==null?(n(k,_,A),n(J,_,A),V(v.children||[],_,J,C,T,D,N,j)):B>0&&B&64&&z&&g.dynamicChildren?(Y(g.dynamicChildren,z,_,C,T,D,N),(v.key!=null||C&&v===C.subTree)&&Ju(g,v,!0)):se(g,v,_,J,C,T,D,N,j)},ne=(g,v,_,A,C,T,D,N,j)=>{v.slotScopeIds=N,g==null?v.shapeFlag&512?C.ctx.activate(v,_,A,D,j):me(v,_,A,C,T,D,j):Ue(g,v,j)},me=(g,v,_,A,C,T,D)=>{const N=g.component=Tg(g,A,C);if(Pu(g)&&(N.ctx.renderer=W),Ag(N,!1,D),N.asyncDep){if(C&&C.registerDep(N,ie,D),!g.el){const j=N.subTree=Q(Gt);b(null,j,v,_),g.placeholder=j.el}}else ie(N,g,v,_,C,T,D)},Ue=(g,v,_)=>{const A=v.component=g.component;if(vg(g,v,_))if(A.asyncDep&&!A.asyncResolved){Z(A,v,_);return}else A.next=v,A.update();else v.el=g.el,A.vnode=v},ie=(g,v,_,A,C,T,D)=>{const N=()=>{if(g.isMounted){let{next:B,bu:z,u:X,parent:ue,vnode:we}=g;{const Ut=Qu(g);if(Ut){B&&(B.el=we.el,Z(g,B,D)),Ut.asyncDep.then(()=>{g.isUnmounted||N()});return}}let ge=B,tt;Rr(g,!1),B?(B.el=we.el,Z(g,B,D)):B=we,z&&js(z),(tt=B.props&&B.props.onVnodeBeforeUpdate)&&Mt(tt,ue,B,we),Rr(g,!0);const rt=rl(g),Lt=g.subTree;g.subTree=rt,m(Lt,rt,d(Lt.el),R(Lt),g,C,T),B.el=rt.el,ge===null&&yg(g,rt.el),X&&at(X,C),(tt=B.props&&B.props.onVnodeUpdated)&&at(()=>Mt(tt,ue,B,we),C)}else{let B;const{el:z,props:X}=v,{bm:ue,m:we,parent:ge,root:tt,type:rt}=g,Lt=un(v);Rr(g,!1),ue&&js(ue),!Lt&&(B=X&&X.onVnodeBeforeMount)&&Mt(B,ge,v),Rr(g,!0);{tt.ce&&tt.ce._def.shadowRoot!==!1&&tt.ce._injectChildStyle(rt);const Ut=g.subTree=rl(g);m(null,Ut,_,A,g,C,T),v.el=Ut.el}if(we&&at(we,C),!Lt&&(B=X&&X.onVnodeMounted)){const Ut=v;at(()=>Mt(B,ge,Ut),C)}(v.shapeFlag&256||ge&&un(ge.vnode)&&ge.vnode.shapeFlag&256)&&g.a&&at(g.a,C),g.isMounted=!0,v=_=A=null}};g.scope.on();const j=g.effect=new iu(N);g.scope.off();const k=g.update=j.run.bind(j),J=g.job=j.runIfDirty.bind(j);J.i=g,J.id=g.uid,j.scheduler=()=>aa(J),Rr(g,!0),k()},Z=(g,v,_)=>{v.component=g;const A=g.vnode.props;g.vnode=v,g.next=null,eg(g,v.props,A,_),sg(g,v.children,_),sr(),za(g),ir()},se=(g,v,_,A,C,T,D,N,j=!1)=>{const k=g&&g.children,J=g?g.shapeFlag:0,B=v.children,{patchFlag:z,shapeFlag:X}=v;if(z>0){if(z&128){Nt(k,B,_,A,C,T,D,N,j);return}else if(z&256){mt(k,B,_,A,C,T,D,N,j);return}}X&8?(J&16&&vt(k,C,T),B!==k&&u(_,B)):J&16?X&16?Nt(k,B,_,A,C,T,D,N,j):vt(k,C,T,!0):(J&8&&u(_,""),X&16&&V(B,_,A,C,T,D,N,j))},mt=(g,v,_,A,C,T,D,N,j)=>{g=g||an,v=v||an;const k=g.length,J=v.length,B=Math.min(k,J);let z;for(z=0;z<B;z++){const X=v[z]=j?gr(v[z]):Ht(v[z]);m(g[z],X,_,null,C,T,D,N,j)}k>J?vt(g,C,T,!0,!1,B):V(v,_,A,C,T,D,N,j,B)},Nt=(g,v,_,A,C,T,D,N,j)=>{let k=0;const J=v.length;let B=g.length-1,z=J-1;for(;k<=B&&k<=z;){const X=g[k],ue=v[k]=j?gr(v[k]):Ht(v[k]);if(rn(X,ue))m(X,ue,_,null,C,T,D,N,j);else break;k++}for(;k<=B&&k<=z;){const X=g[B],ue=v[z]=j?gr(v[z]):Ht(v[z]);if(rn(X,ue))m(X,ue,_,null,C,T,D,N,j);else break;B--,z--}if(k>B){if(k<=z){const X=z+1,ue=X<J?v[X].el:A;for(;k<=z;)m(null,v[k]=j?gr(v[k]):Ht(v[k]),_,ue,C,T,D,N,j),k++}}else if(k>z)for(;k<=B;)Re(g[k],C,T,!0),k++;else{const X=k,ue=k,we=new Map;for(k=ue;k<=z;k++){const ot=v[k]=j?gr(v[k]):Ht(v[k]);ot.key!=null&&we.set(ot.key,k)}let ge,tt=0;const rt=z-ue+1;let Lt=!1,Ut=0;const An=new Array(rt);for(k=0;k<rt;k++)An[k]=0;for(k=X;k<=B;k++){const ot=g[k];if(tt>=rt){Re(ot,C,T,!0);continue}let Bt;if(ot.key!=null)Bt=we.get(ot.key);else for(ge=ue;ge<=z;ge++)if(An[ge-ue]===0&&rn(ot,v[ge])){Bt=ge;break}Bt===void 0?Re(ot,C,T,!0):(An[Bt-ue]=k+1,Bt>=Ut?Ut=Bt:Lt=!0,m(ot,v[Bt],_,null,C,T,D,N,j),tt++)}const Ma=Lt?lg(An):an;for(ge=Ma.length-1,k=rt-1;k>=0;k--){const ot=ue+k,Bt=v[ot],Fa=v[ot+1],Va=ot+1<J?Fa.el||Fa.placeholder:A;An[k]===0?m(null,Bt,_,Va,C,T,D,N,j):Lt&&(ge<0||k!==Ma[ge]?Ne(Bt,_,Va,2):ge--)}}},Ne=(g,v,_,A,C=null)=>{const{el:T,type:D,transition:N,children:j,shapeFlag:k}=g;if(k&6){Ne(g.component.subTree,v,_,A);return}if(k&128){g.suspense.move(v,_,A);return}if(k&64){D.move(g,v,_,W);return}if(D===je){n(T,v,_);for(let B=0;B<j.length;B++)Ne(j[B],v,_,A);n(g.anchor,v,_);return}if(D===Ns){w(g,v,_);return}if(A!==2&&k&1&&N)if(A===0)N.beforeEnter(T),n(T,v,_),at(()=>N.enter(T),C);else{const{leave:B,delayLeave:z,afterLeave:X}=N,ue=()=>{g.ctx.isUnmounted?s(T):n(T,v,_)},we=()=>{T._isLeaving&&T[Ir](!0),B(T,()=>{ue(),X&&X()})};z?z(T,ue,we):we()}else n(T,v,_)},Re=(g,v,_,A=!1,C=!1)=>{const{type:T,props:D,ref:N,children:j,dynamicChildren:k,shapeFlag:J,patchFlag:B,dirs:z,cacheIndex:X}=g;if(B===-2&&(C=!1),N!=null&&(sr(),Dn(N,null,_,g,!0),ir()),X!=null&&(v.renderCache[X]=void 0),J&256){v.ctx.deactivate(g);return}const ue=J&1&&z,we=!un(g);let ge;if(we&&(ge=D&&D.onVnodeBeforeUnmount)&&Mt(ge,v,g),J&6)Dt(g.component,_,A);else{if(J&128){g.suspense.unmount(_,A);return}ue&&Ar(g,null,v,"beforeUnmount"),J&64?g.type.remove(g,v,_,W,A):k&&!k.hasOnce&&(T!==je||B>0&&B&64)?vt(k,v,_,!1,!0):(T===je&&B&384||!C&&J&16)&&vt(j,v,_),A&&$t(g)}(we&&(ge=D&&D.onVnodeUnmounted)||ue)&&at(()=>{ge&&Mt(ge,v,g),ue&&Ar(g,null,v,"unmounted")},_)},$t=g=>{const{type:v,el:_,anchor:A,transition:C}=g;if(v===je){St(_,A);return}if(v===Ns){O(g);return}const T=()=>{s(_),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(g.shapeFlag&1&&C&&!C.persisted){const{leave:D,delayLeave:N}=C,j=()=>D(_,T);N?N(g.el,T,j):j()}else T()},St=(g,v)=>{let _;for(;g!==v;)_=h(g),s(g),g=_;s(v)},Dt=(g,v,_)=>{const{bum:A,scope:C,job:T,subTree:D,um:N,m:j,a:k}=g;tl(j),tl(k),A&&js(A),C.stop(),T&&(T.flags|=8,Re(D,g,v,_)),N&&at(N,v),at(()=>{g.isUnmounted=!0},v)},vt=(g,v,_,A=!1,C=!1,T=0)=>{for(let D=T;D<g.length;D++)Re(g[D],v,_,A,C)},R=g=>{if(g.shapeFlag&6)return R(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const v=h(g.anchor||g.el),_=v&&v[Rp];return _?h(_):v};let M=!1;const L=(g,v,_)=>{g==null?v._vnode&&Re(v._vnode,null,null,!0):m(v._vnode||null,g,v,null,null,null,_),v._vnode=g,M||(M=!0,za(),Ou(),M=!1)},W={p:m,um:Re,m:Ne,r:$t,mt:me,mc:V,pc:se,pbc:Y,n:R,o:e};return{render:L,hydrate:void 0,createApp:Yp(L)}}function Ui({type:e,props:t},r){return r==="svg"&&e==="foreignObject"||r==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:r}function Rr({effect:e,job:t},r){r?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ag(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ju(e,t,r=!1){const n=e.children,s=t.children;if(H(n)&&H(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=gr(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Ju(o,a)),a.type===pi&&a.patchFlag!==-1&&(a.el=o.el),a.type===Gt&&!a.el&&(a.el=o.el)}}function lg(e){const t=e.slice(),r=[0];let n,s,i,o,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(s=r[r.length-1],e[s]<c){t[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,e[r[a]]<c?i=a+1:o=a;c<e[r[i]]&&(i>0&&(t[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=t[o];return r}function Qu(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Qu(t)}function tl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const cg=Symbol.for("v-scx"),ug=()=>Je(cg);function as(e,t){return ha(e,null,t)}function _r(e,t,r){return ha(e,t,r)}function ha(e,t,r=ye){const{immediate:n,deep:s,flush:i,once:o}=r,a=Le({},r),l=t&&n||!t&&i!=="post";let c;if(Qn){if(i==="sync"){const f=ug();c=f.__watcherHandles||(f.__watcherHandles=[])}else if(!l){const f=()=>{};return f.stop=Wt,f.resume=Wt,f.pause=Wt,f}}const u=ze;a.call=(f,p,m)=>kt(f,u,p,m);let d=!1;i==="post"?a.scheduler=f=>{at(f,u&&u.suspense)}:i!=="sync"&&(d=!0,a.scheduler=(f,p)=>{p?f():aa(f)}),a.augmentJob=f=>{t&&(f.flags|=4),d&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Sp(e,t,a);return Qn&&(c?c.push(h):l&&h()),h}function dg(e,t,r){const n=this.proxy,s=Ae(e)?e.includes(".")?Yu(n,e):()=>n[e]:e.bind(n,n);let i;te(t)?i=t:(i=t.handler,r=t);const o=cs(this),a=ha(s,i.bind(n),r);return o(),a}function Yu(e,t){const r=t.split(".");return()=>{let n=e;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const hg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Et(t)}Modifiers`]||e[`${Or(t)}Modifiers`];function fg(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||ye;let s=r;const i=t.startsWith("update:"),o=i&&hg(n,t.slice(7));o&&(o.trim&&(s=r.map(u=>Ae(u)?u.trim():u)),o.number&&(s=r.map(Fs)));let a,l=n[a=Is(t)]||n[a=Is(Et(t))];!l&&i&&(l=n[a=Is(Or(t))]),l&&kt(l,e,6,s);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,kt(c,e,6,s)}}const pg=new WeakMap;function Xu(e,t,r=!1){const n=r?pg:t.emitsCache,s=n.get(e);if(s!==void 0)return s;const i=e.emits;let o={},a=!1;if(!te(e)){const l=c=>{const u=Xu(c,t,!0);u&&(a=!0,Le(o,u))};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ve(e)&&n.set(e,null),null):(H(i)?i.forEach(l=>o[l]=null):Le(o,i),ve(e)&&n.set(e,o),o)}function fi(e,t){return!e||!oi(t)?!1:(t=t.slice(2).replace(/Once$/,""),pe(e,t[0].toLowerCase()+t.slice(1))||pe(e,Or(t))||pe(e,t))}function rl(e){const{type:t,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=e,y=Ks(e);let b,S;try{if(r.shapeFlag&4){const O=s||n,P=O;b=Ht(c.call(P,O,u,d,f,h,p)),S=a}else{const O=t;b=Ht(O.length>1?O(d,{attrs:a,slots:o,emit:l}):O(d,null)),S=t.props?a:gg(a)}}catch(O){Un.length=0,di(O,e,1),b=Q(Gt)}let w=b;if(S&&m!==!1){const O=Object.keys(S),{shapeFlag:P}=w;O.length&&P&7&&(i&&O.some(Jo)&&(S=mg(S,i)),w=Er(w,S,!1,!0))}return r.dirs&&(w=Er(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(r.dirs):r.dirs),r.transition&&zn(w,r.transition),b=w,Ks(y),b}const gg=e=>{let t;for(const r in e)(r==="class"||r==="style"||oi(r))&&((t||(t={}))[r]=e[r]);return t},mg=(e,t)=>{const r={};for(const n in e)(!Jo(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function vg(e,t,r){const{props:n,children:s,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?nl(n,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==n[h]&&!fi(c,h))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?nl(n,o,c):!0:!!o;return!1}function nl(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(t[i]!==e[i]&&!fi(r,i))return!0}return!1}function yg({vnode:e,parent:t},r){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=r,t=t.parent;else break}}const Zu=e=>e.__isSuspense;function wg(e,t){t&&t.pendingBranch?H(e)?t.effects.push(...e):t.effects.push(e):Ap(e)}const je=Symbol.for("v-fgt"),pi=Symbol.for("v-txt"),Gt=Symbol.for("v-cmt"),Ns=Symbol.for("v-stc"),Un=[];let ft=null;function q(e=!1){Un.push(ft=e?null:[])}function _g(){Un.pop(),ft=Un[Un.length-1]||null}let Gn=1;function Qs(e,t=!1){Gn+=e,e<0&&ft&&t&&(ft.hasOnce=!0)}function ed(e){return e.dynamicChildren=Gn>0?ft||an:null,_g(),Gn>0&&ft&&ft.push(e),e}function oe(e,t,r,n,s,i){return ed(K(e,t,r,n,s,i,!0))}function Ke(e,t,r,n,s){return ed(Q(e,t,r,n,s,!0))}function Jn(e){return e?e.__v_isVNode===!0:!1}function rn(e,t){return e.type===t.type&&e.key===t.key}const td=({key:e})=>e??null,$s=({ref:e,ref_key:t,ref_for:r})=>(typeof e=="number"&&(e=""+e),e!=null?Ae(e)||Pe(e)||te(e)?{i:qe,r:e,k:t,f:!!r}:e:null);function K(e,t=null,r=null,n=0,s=null,i=e===je?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&td(t),ref:t&&$s(t),scopeId:Au,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:qe};return a?(fa(l,r),i&128&&e.normalize(l)):r&&(l.shapeFlag|=Ae(r)?8:16),Gn>0&&!o&&ft&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&ft.push(l),l}const Q=bg;function bg(e,t=null,r=null,n=0,s=null,i=!1){if((!e||e===$u)&&(e=Gt),Jn(e)){const a=Er(e,t,!0);return r&&fa(a,r),Gn>0&&!i&&ft&&(a.shapeFlag&6?ft[ft.indexOf(e)]=a:ft.push(a)),a.patchFlag=-2,a}if(kg(e)&&(e=e.__vccOpts),t){t=Eg(t);let{class:a,style:l}=t;a&&!Ae(a)&&(t.class=zt(a)),ve(l)&&(ia(l)&&!H(l)&&(l=Le({},l)),t.style=ss(l))}const o=Ae(e)?1:Zu(e)?128:Cp(e)?64:ve(e)?4:te(e)?2:0;return K(e,t,r,n,s,o,i,!0)}function Eg(e){return e?ia(e)||qu(e)?Le({},e):e:null}function Er(e,t,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?gi(s||{},t):s,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&td(c),ref:t&&t.ref?r&&i?H(i)?i.concat($s(t)):[i,$s(t)]:$s(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==je?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Er(e.ssContent),ssFallback:e.ssFallback&&Er(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&zn(u,l.clone(u)),u}function Be(e=" ",t=0){return Q(pi,null,e,t)}function Bi(e,t){const r=Q(Ns,null,e);return r.staticCount=t,r}function Xe(e="",t=!1){return t?(q(),Ke(Gt,null,e)):Q(Gt,null,e)}function Ht(e){return e==null||typeof e=="boolean"?Q(Gt):H(e)?Q(je,null,e.slice()):Jn(e)?gr(e):Q(pi,null,String(e))}function gr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Er(e)}function fa(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(H(t))r=16;else if(typeof t=="object")if(n&65){const s=t.default;s&&(s._c&&(s._d=!1),fa(e,s()),s._c&&(s._d=!0));return}else{r=32;const s=t._;!s&&!qu(t)?t._ctx=qe:s===3&&qe&&(qe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:qe},r=32):(t=String(t),n&64?(r=16,t=[Be(t)]):r=8);e.children=t,e.shapeFlag|=r}function gi(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const s in n)if(s==="class")t.class!==n.class&&(t.class=zt([t.class,n.class]));else if(s==="style")t.style=ss([t.style,n.style]);else if(oi(s)){const i=t[s],o=n[s];o&&i!==o&&!(H(i)&&i.includes(o))&&(t[s]=i?[].concat(i,o):o)}else s!==""&&(t[s]=n[s])}return t}function Mt(e,t,r,n=null){kt(e,t,7,[r,n])}const Sg=Mu();let Og=0;function Tg(e,t,r){const n=e.type,s=(t?t.appContext:e.appContext)||Sg,i={uid:Og++,vnode:e,type:n,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ru(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wu(n,s),emitsOptions:Xu(n,s),emit:null,emitted:null,propsDefaults:ye,inheritAttrs:n.inheritAttrs,ctx:ye,data:ye,props:ye,attrs:ye,slots:ye,refs:ye,setupState:ye,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=fg.bind(null,i),e.ce&&e.ce(i),i}let ze=null;const ls=()=>ze||qe;let Ys,yo;{const e=ci(),t=(r,n)=>{let s;return(s=e[r])||(s=e[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Ys=t("__VUE_INSTANCE_SETTERS__",r=>ze=r),yo=t("__VUE_SSR_SETTERS__",r=>Qn=r)}const cs=e=>{const t=ze;return Ys(e),e.scope.on(),()=>{e.scope.off(),Ys(t)}},sl=()=>{ze&&ze.scope.off(),Ys(null)};function rd(e){return e.vnode.shapeFlag&4}let Qn=!1;function Ag(e,t=!1,r=!1){t&&yo(t);const{props:n,children:s}=e.vnode,i=rd(e);Zp(e,n,i,t),ng(e,s,r||t);const o=i?Rg(e,t):void 0;return t&&yo(!1),o}function Rg(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Hp);const{setup:n}=r;if(n){sr();const s=e.setupContext=n.length>1?xg(e):null,i=cs(e),o=os(n,e,0,[e.props,s]),a=Jc(o);if(ir(),i(),(a||e.sp)&&!un(e)&&xu(e),a){if(o.then(sl,sl),t)return o.then(l=>{il(e,l)}).catch(l=>{di(l,e,0)});e.asyncDep=o}else il(e,o)}else nd(e)}function il(e,t,r){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ve(t)&&(e.setupState=bu(t)),nd(e)}function nd(e,t,r){const n=e.type;e.render||(e.render=n.render||Wt);{const s=cs(e);sr();try{Wp(e)}finally{ir(),s()}}}const Cg={get(e,t){return We(e,"get",""),e[t]}};function xg(e){const t=r=>{e.exposed=r||{}};return{attrs:new Proxy(e.attrs,Cg),slots:e.slots,emit:e.emit,expose:t}}function mi(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(bu(oa(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Ln)return Ln[r](e)},has(t,r){return r in t||r in Ln}})):e.proxy}function Pg(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function kg(e){return te(e)&&"__vccOpts"in e}const xe=(e,t)=>bp(e,t,Qn);function pa(e,t,r){try{Qs(-1);const n=arguments.length;return n===2?ve(t)&&!H(t)?Jn(t)?Q(e,null,[t]):Q(e,t):Q(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Jn(r)&&(r=[r]),Q(e,t,r))}finally{Qs(1)}}const Ig="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wo;const ol=typeof window<"u"&&window.trustedTypes;if(ol)try{wo=ol.createPolicy("vue",{createHTML:e=>e})}catch{}const sd=wo?e=>wo.createHTML(e):e=>e,jg="http://www.w3.org/2000/svg",Ng="http://www.w3.org/1998/Math/MathML",Yt=typeof document<"u"?document:null,al=Yt&&Yt.createElement("template"),$g={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const s=t==="svg"?Yt.createElementNS(jg,e):t==="mathml"?Yt.createElementNS(Ng,e):r?Yt.createElement(e,{is:r}):Yt.createElement(e);return e==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:e=>Yt.createTextNode(e),createComment:e=>Yt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,s,i){const o=r?r.previousSibling:t.lastChild;if(s&&(s===i||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{al.innerHTML=sd(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=al.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}},ar="transition",Cn="animation",fn=Symbol("_vtc"),id={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Dg=Le({},Pp,id),Cr=(e,t=[])=>{H(e)?e.forEach(r=>r(...t)):e&&e(...t)},ll=e=>e?H(e)?e.some(t=>t.length>1):e.length>1:!1;function Lg(e){const t={};for(const $ in e)$ in id||(t[$]=e[$]);if(e.css===!1)return t;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:d=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:f=`${r}-leave-to`}=e,p=Ug(s),m=p&&p[0],y=p&&p[1],{onBeforeEnter:b,onEnter:S,onEnterCancelled:w,onLeave:O,onLeaveCancelled:P,onBeforeAppear:x=b,onAppear:U=S,onAppearCancelled:V=w}=t,I=($,ne,me,Ue)=>{$._enterCancelled=Ue,ur($,ne?u:a),ur($,ne?c:o),me&&me()},Y=($,ne)=>{$._isLeaving=!1,ur($,d),ur($,f),ur($,h),ne&&ne()},le=$=>(ne,me)=>{const Ue=$?U:S,ie=()=>I(ne,$,me);Cr(Ue,[ne,ie]),cl(()=>{ur(ne,$?l:i),Vt(ne,$?u:a),ll(Ue)||ul(ne,n,m,ie)})};return Le(t,{onBeforeEnter($){Cr(b,[$]),Vt($,i),Vt($,o)},onBeforeAppear($){Cr(x,[$]),Vt($,l),Vt($,c)},onEnter:le(!1),onAppear:le(!0),onLeave($,ne){$._isLeaving=!0;const me=()=>Y($,ne);Vt($,d),$._enterCancelled?(Vt($,h),_o($)):(_o($),Vt($,h)),cl(()=>{$._isLeaving&&(ur($,d),Vt($,f),ll(O)||ul($,n,y,me))}),Cr(O,[$,me])},onEnterCancelled($){I($,!1,void 0,!0),Cr(w,[$])},onAppearCancelled($){I($,!0,void 0,!0),Cr(V,[$])},onLeaveCancelled($){Y($),Cr(P,[$])}})}function Ug(e){if(e==null)return null;if(ve(e))return[Mi(e.enter),Mi(e.leave)];{const t=Mi(e);return[t,t]}}function Mi(e){return Mf(e)}function Vt(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e[fn]||(e[fn]=new Set)).add(t)}function ur(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const r=e[fn];r&&(r.delete(t),r.size||(e[fn]=void 0))}function cl(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Bg=0;function ul(e,t,r,n){const s=e._endId=++Bg,i=()=>{s===e._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=od(e,t);if(!o)return n();const c=o+"end";let u=0;const d=()=>{e.removeEventListener(c,h),i()},h=f=>{f.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,h)}function od(e,t){const r=window.getComputedStyle(e),n=p=>(r[p]||"").split(", "),s=n(`${ar}Delay`),i=n(`${ar}Duration`),o=dl(s,i),a=n(`${Cn}Delay`),l=n(`${Cn}Duration`),c=dl(a,l);let u=null,d=0,h=0;t===ar?o>0&&(u=ar,d=o,h=i.length):t===Cn?c>0&&(u=Cn,d=c,h=l.length):(d=Math.max(o,c),u=d>0?o>c?ar:Cn:null,h=u?u===ar?i.length:l.length:0);const f=u===ar&&/\b(?:transform|all)(?:,|$)/.test(n(`${ar}Property`).toString());return{type:u,timeout:d,propCount:h,hasTransform:f}}function dl(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>hl(r)+hl(e[n])))}function hl(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function _o(e){return(e?e.ownerDocument:document).body.offsetHeight}function Mg(e,t,r){const n=e[fn];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}const fl=Symbol("_vod"),Fg=Symbol("_vsh"),Vg=Symbol(""),qg=/(?:^|;)\s*display\s*:/;function Hg(e,t,r){const n=e.style,s=Ae(r);let i=!1;if(r&&!s){if(t)if(Ae(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Ds(n,a,"")}else for(const o in t)r[o]==null&&Ds(n,o,"");for(const o in r)o==="display"&&(i=!0),Ds(n,o,r[o])}else if(s){if(t!==r){const o=n[Vg];o&&(r+=";"+o),n.cssText=r,i=qg.test(r)}}else t&&e.removeAttribute("style");fl in e&&(e[fl]=i?n.display:"",e[Fg]&&(n.display="none"))}const pl=/\s*!important$/;function Ds(e,t,r){if(H(r))r.forEach(n=>Ds(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Wg(e,t);pl.test(r)?e.setProperty(Or(n),r.replace(pl,""),"important"):e[n]=r}}const gl=["Webkit","Moz","ms"],Fi={};function Wg(e,t){const r=Fi[t];if(r)return r;let n=Et(t);if(n!=="filter"&&n in e)return Fi[t]=n;n=li(n);for(let s=0;s<gl.length;s++){const i=gl[s]+n;if(i in e)return Fi[t]=i}return t}const ml="http://www.w3.org/1999/xlink";function vl(e,t,r,n,s,i=Kf(t)){n&&t.startsWith("xlink:")?r==null?e.removeAttributeNS(ml,t.slice(6,t.length)):e.setAttributeNS(ml,t,r):r==null||i&&!Zc(r)?e.removeAttribute(t):e.setAttribute(t,i?"":Pt(r)?String(r):r)}function yl(e,t,r,n,s){if(t==="innerHTML"||t==="textContent"){r!=null&&(e[t]=t==="innerHTML"?sd(r):r);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=r==null?e.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in e))&&(e.value=l),r==null&&e.removeAttribute(t),e._value=r;return}let o=!1;if(r===""||r==null){const a=typeof e[t];a==="boolean"?r=Zc(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{e[t]=r}catch{}o&&e.removeAttribute(s||t)}function tr(e,t,r,n){e.addEventListener(t,r,n)}function Kg(e,t,r,n){e.removeEventListener(t,r,n)}const wl=Symbol("_vei");function zg(e,t,r,n,s=null){const i=e[wl]||(e[wl]={}),o=i[t];if(n&&o)o.value=n;else{const[a,l]=Gg(t);if(n){const c=i[t]=Yg(n,s);tr(e,a,c,l)}else o&&(Kg(e,a,o,l),i[t]=void 0)}}const _l=/(?:Once|Passive|Capture)$/;function Gg(e){let t;if(_l.test(e)){t={};let n;for(;n=e.match(_l);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Or(e.slice(2)),t]}let Vi=0;const Jg=Promise.resolve(),Qg=()=>Vi||(Jg.then(()=>Vi=0),Vi=Date.now());function Yg(e,t){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;kt(Xg(n,r.value),t,5,[n])};return r.value=e,r.attached=Qg(),r}function Xg(e,t){if(H(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>s=>!s._stopped&&n&&n(s))}else return t}const bl=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Zg=(e,t,r,n,s,i)=>{const o=s==="svg";t==="class"?Mg(e,n,o):t==="style"?Hg(e,r,n):oi(t)?Jo(t)||zg(e,t,r,n,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):em(e,t,n,o))?(yl(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&vl(e,t,n,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ae(n))?yl(e,Et(t),n,i,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),vl(e,t,n,o))};function em(e,t,r,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&bl(t)&&te(r));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return bl(t)&&Ae(r)?!1:t in e}const ad=new WeakMap,ld=new WeakMap,Xs=Symbol("_moveCb"),El=Symbol("_enterCb"),tm=e=>(delete e.props.mode,e),rm=tm({name:"TransitionGroup",props:Le({},Dg,{tag:String,moveClass:String}),setup(e,{slots:t}){const r=ls(),n=xp();let s,i;return Iu(()=>{if(!s.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!am(s[0].el,r.vnode.el,o)){s=[];return}s.forEach(sm),s.forEach(im);const a=s.filter(om);_o(r.vnode.el),a.forEach(l=>{const c=l.el,u=c.style;Vt(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const d=c[Xs]=h=>{h&&h.target!==c||(!h||h.propertyName.endsWith("transform"))&&(c.removeEventListener("transitionend",d),c[Xs]=null,ur(c,o))};c.addEventListener("transitionend",d)}),s=[]}),()=>{const o=de(e),a=Lg(o);let l=o.tag||je;if(s=[],i)for(let c=0;c<i.length;c++){const u=i[c];u.el&&u.el instanceof Element&&(s.push(u),zn(u,fo(u,a,n,r)),ad.set(u,u.el.getBoundingClientRect()))}i=t.default?Cu(t.default()):[];for(let c=0;c<i.length;c++){const u=i[c];u.key!=null&&zn(u,fo(u,a,n,r))}return Q(l,null,i)}}}),nm=rm;function sm(e){const t=e.el;t[Xs]&&t[Xs](),t[El]&&t[El]()}function im(e){ld.set(e,e.el.getBoundingClientRect())}function om(e){const t=ad.get(e),r=ld.get(e),n=t.left-r.left,s=t.top-r.top;if(n||s){const i=e.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",e}}function am(e,t,r){const n=e.cloneNode(),s=e[fn];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(n);const{hasTransform:o}=od(n);return i.removeChild(n),o}const Sr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return H(t)?r=>js(t,r):t};function lm(e){e.target.composing=!0}function Sl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const bt=Symbol("_assign"),cd={created(e,{modifiers:{lazy:t,trim:r,number:n}},s){e[bt]=Sr(s);const i=n||s.props&&s.props.type==="number";tr(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;r&&(a=a.trim()),i&&(a=Fs(a)),e[bt](a)}),r&&tr(e,"change",()=>{e.value=e.value.trim()}),t||(tr(e,"compositionstart",lm),tr(e,"compositionend",Sl),tr(e,"change",Sl))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(e[bt]=Sr(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Fs(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===r||s&&e.value.trim()===l)||(e.value=l))}},iS={deep:!0,created(e,t,r){e[bt]=Sr(r),tr(e,"change",()=>{const n=e._modelValue,s=pn(e),i=e.checked,o=e[bt];if(H(n)){const a=Xo(n,s),l=a!==-1;if(i&&!l)o(n.concat(s));else if(!i&&l){const c=[...n];c.splice(a,1),o(c)}}else if(_n(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(ud(e,i))})},mounted:Ol,beforeUpdate(e,t,r){e[bt]=Sr(r),Ol(e,t,r)}};function Ol(e,{value:t,oldValue:r},n){e._modelValue=t;let s;if(H(t))s=Xo(t,n.props.value)>-1;else if(_n(t))s=t.has(n.props.value);else{if(t===r)return;s=qr(t,ud(e,!0))}e.checked!==s&&(e.checked=s)}const oS={created(e,{value:t},r){e.checked=qr(t,r.props.value),e[bt]=Sr(r),tr(e,"change",()=>{e[bt](pn(e))})},beforeUpdate(e,{value:t,oldValue:r},n){e[bt]=Sr(n),t!==r&&(e.checked=qr(t,n.props.value))}},aS={deep:!0,created(e,{value:t,modifiers:{number:r}},n){const s=_n(t);tr(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>r?Fs(pn(o)):pn(o));e[bt](e.multiple?s?new Set(i):i:i[0]),e._assigning=!0,_t(()=>{e._assigning=!1})}),e[bt]=Sr(n)},mounted(e,{value:t}){Tl(e,t)},beforeUpdate(e,t,r){e[bt]=Sr(r)},updated(e,{value:t}){e._assigning||Tl(e,t)}};function Tl(e,t){const r=e.multiple,n=H(t);if(!(r&&!n&&!_n(t))){for(let s=0,i=e.options.length;s<i;s++){const o=e.options[s],a=pn(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=Xo(t,a)>-1}else o.selected=t.has(a);else if(qr(pn(o),t)){e.selectedIndex!==s&&(e.selectedIndex=s);return}}!r&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function pn(e){return"_value"in e?e._value:e.value}function ud(e,t){const r=t?"_trueValue":"_falseValue";return r in e?e[r]:t}const cm=["ctrl","shift","alt","meta"],um={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>cm.some(r=>e[`${r}Key`]&&!t.includes(r))},dd=(e,t)=>{const r=e._withMods||(e._withMods={}),n=t.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<t.length;o++){const a=um[t[o]];if(a&&a(s,t))return}return e(s,...i)})},dm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Al=(e,t)=>{const r=e._withKeys||(e._withKeys={}),n=t.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=Or(s.key);if(t.some(o=>o===i||dm[o]===i))return e(s)})},hm=Le({patchProp:Zg},$g);let Rl;function fm(){return Rl||(Rl=ig(hm))}const hd=(...e)=>{const t=fm().createApp(...e),{mount:r}=t;return t.mount=n=>{const s=gm(n);if(!s)return;const i=t._component;!te(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,pm(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function pm(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function gm(e){return Ae(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let fd;const vi=e=>fd=e,pd=Symbol();function bo(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bn;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bn||(Bn={}));function mm(){const e=nu(!0),t=e.run(()=>Ee({}));let r=[],n=[];const s=oa({install(i){vi(s),s._a=i,i.provide(pd,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return s}const gd=()=>{};function Cl(e,t,r,n=gd){e.push(t);const s=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),n())};return!r&&su()&&Gf(s),s}function Gr(e,...t){e.slice().forEach(r=>{r(...t)})}const vm=e=>e(),xl=Symbol(),qi=Symbol();function Eo(e,t){e instanceof Map&&t instanceof Map?t.forEach((r,n)=>e.set(n,r)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const n=t[r],s=e[r];bo(s)&&bo(n)&&e.hasOwnProperty(r)&&!Pe(n)&&!wr(n)?e[r]=Eo(s,n):e[r]=n}return e}const ym=Symbol();function wm(e){return!bo(e)||!e.hasOwnProperty(ym)}const{assign:dr}=Object;function _m(e){return!!(Pe(e)&&e.effect)}function bm(e,t,r,n){const{state:s,actions:i,getters:o}=t,a=r.state.value[e];let l;function c(){a||(r.state.value[e]=s?s():{});const u=vp(r.state.value[e]);return dr(u,i,Object.keys(o||{}).reduce((d,h)=>(d[h]=oa(xe(()=>{vi(r);const f=r._s.get(e);return o[h].call(f,f)})),d),{}))}return l=md(e,c,t,r,n,!0),l}function md(e,t,r={},n,s,i){let o;const a=dr({actions:{}},r),l={deep:!0};let c,u,d=[],h=[],f;const p=n.state.value[e];!i&&!p&&(n.state.value[e]={}),Ee({});let m;function y(V){let I;c=u=!1,typeof V=="function"?(V(n.state.value[e]),I={type:Bn.patchFunction,storeId:e,events:f}):(Eo(n.state.value[e],V),I={type:Bn.patchObject,payload:V,storeId:e,events:f});const Y=m=Symbol();_t().then(()=>{m===Y&&(c=!0)}),u=!0,Gr(d,I,n.state.value[e])}const b=i?function(){const{state:I}=r,Y=I?I():{};this.$patch(le=>{dr(le,Y)})}:gd;function S(){o.stop(),d=[],h=[],n._s.delete(e)}const w=(V,I="")=>{if(xl in V)return V[qi]=I,V;const Y=function(){vi(n);const le=Array.from(arguments),$=[],ne=[];function me(Z){$.push(Z)}function Ue(Z){ne.push(Z)}Gr(h,{args:le,name:Y[qi],store:P,after:me,onError:Ue});let ie;try{ie=V.apply(this&&this.$id===e?this:P,le)}catch(Z){throw Gr(ne,Z),Z}return ie instanceof Promise?ie.then(Z=>(Gr($,Z),Z)).catch(Z=>(Gr(ne,Z),Promise.reject(Z))):(Gr($,ie),ie)};return Y[xl]=!0,Y[qi]=I,Y},O={_p:n,$id:e,$onAction:Cl.bind(null,h),$patch:y,$reset:b,$subscribe(V,I={}){const Y=Cl(d,V,I.detached,()=>le()),le=o.run(()=>_r(()=>n.state.value[e],$=>{(I.flush==="sync"?u:c)&&V({storeId:e,type:Bn.direct,events:f},$)},dr({},l,I)));return Y},$dispose:S},P=is(O);n._s.set(e,P);const U=(n._a&&n._a.runWithContext||vm)(()=>n._e.run(()=>(o=nu()).run(()=>t({action:w}))));for(const V in U){const I=U[V];if(Pe(I)&&!_m(I)||wr(I))i||(p&&wm(I)&&(Pe(I)?I.value=p[V]:Eo(I,p[V])),n.state.value[e][V]=I);else if(typeof I=="function"){const Y=w(I,V);U[V]=Y,a.actions[V]=I}}return dr(P,U),dr(de(P),U),Object.defineProperty(P,"$state",{get:()=>n.state.value[e],set:V=>{y(I=>{dr(I,V)})}}),n._p.forEach(V=>{dr(P,o.run(()=>V({store:P,app:n._a,pinia:n,options:a})))}),p&&i&&r.hydrate&&r.hydrate(P.$state,p),c=!0,u=!0,P}/*! #__NO_SIDE_EFFECTS__ */function ga(e,t,r){let n,s;const i=typeof t=="function";typeof e=="string"?(n=e,s=i?r:t):(s=e,n=e.id);function o(a,l){const c=Xp();return a=a||(c?Je(pd,null):null),a&&vi(a),a=fd,a._s.has(n)||(i?md(n,t,s,a):bm(n,s,a)),a._s.get(n)}return o.$id=n,o}const Em="modulepreload",Sm=function(e){return"/"+e},Pl={},Se=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=Sm(l),l in Pl)return;Pl[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Em,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const nn=typeof document<"u";function vd(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Om(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&vd(e.default)}const fe=Object.assign;function Hi(e,t){const r={};for(const n in t){const s=t[n];r[n]=It(s)?s.map(e):e(s)}return r}const Mn=()=>{},It=Array.isArray;function kl(e,t){const r={};for(const n in e)r[n]=n in t?t[n]:e[n];return r}const yd=/#/g,Tm=/&/g,Am=/\//g,Rm=/=/g,Cm=/\?/g,wd=/\+/g,xm=/%5B/g,Pm=/%5D/g,_d=/%5E/g,km=/%60/g,bd=/%7B/g,Im=/%7C/g,Ed=/%7D/g,jm=/%20/g;function ma(e){return e==null?"":encodeURI(""+e).replace(Im,"|").replace(xm,"[").replace(Pm,"]")}function Nm(e){return ma(e).replace(bd,"{").replace(Ed,"}").replace(_d,"^")}function So(e){return ma(e).replace(wd,"%2B").replace(jm,"+").replace(yd,"%23").replace(Tm,"%26").replace(km,"`").replace(bd,"{").replace(Ed,"}").replace(_d,"^")}function $m(e){return So(e).replace(Rm,"%3D")}function Dm(e){return ma(e).replace(yd,"%23").replace(Cm,"%3F")}function Lm(e){return Dm(e).replace(Am,"%2F")}function Yn(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const Um=/\/$/,Bm=e=>e.replace(Um,"");function Wi(e,t,r="/"){let n,s={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=t.slice(0,l),i=t.slice(l,a>0?a:t.length),s=e(i.slice(1))),a>=0&&(n=n||t.slice(0,a),o=t.slice(a,t.length)),n=qm(n??t,r),{fullPath:n+i+o,path:n,query:s,hash:Yn(o)}}function Mm(e,t){const r=t.query?e(t.query):"";return t.path+(r&&"?")+r+(t.hash||"")}function Il(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Fm(e,t,r){const n=t.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&gn(t.matched[n],r.matched[s])&&Sd(t.params,r.params)&&e(t.query)===e(r.query)&&t.hash===r.hash}function gn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Sd(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(!Vm(e[r],t[r]))return!1;return!0}function Vm(e,t){return It(e)?jl(e,t):It(t)?jl(t,e):e===t}function jl(e,t){return It(t)?e.length===t.length&&e.every((r,n)=>r===t[n]):e.length===1&&e[0]===t}function qm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const r=t.split("/"),n=e.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const lr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Oo=function(e){return e.pop="pop",e.push="push",e}({}),Ki=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function Hm(e){if(!e)if(nn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Bm(e)}const Wm=/^[^#]+#/;function Km(e,t){return e.replace(Wm,"#")+t}function zm(e,t){const r=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-r.left-(t.left||0),top:n.top-r.top-(t.top||0)}}const yi=()=>({left:window.scrollX,top:window.scrollY});function Gm(e){let t;if("el"in e){const r=e.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;t=zm(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Nl(e,t){return(history.state?history.state.position-t:-1)+e}const To=new Map;function Jm(e,t){To.set(e,t)}function Qm(e){const t=To.get(e);return To.delete(e),t}function Ym(e){return typeof e=="string"||e&&typeof e=="object"}function Od(e){return typeof e=="string"||typeof e=="symbol"}let Te=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Td=Symbol("");Te.MATCHER_NOT_FOUND+"",Te.NAVIGATION_GUARD_REDIRECT+"",Te.NAVIGATION_ABORTED+"",Te.NAVIGATION_CANCELLED+"",Te.NAVIGATION_DUPLICATED+"";function mn(e,t){return fe(new Error,{type:e,[Td]:!0},t)}function Qt(e,t){return e instanceof Error&&Td in e&&(t==null||!!(e.type&t))}const Xm=["params","query","hash"];function Zm(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const t={};for(const r of Xm)r in e&&(t[r]=e[r]);return JSON.stringify(t,null,2)}function ev(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(wd," "),i=s.indexOf("="),o=Yn(i<0?s:s.slice(0,i)),a=i<0?null:Yn(s.slice(i+1));if(o in t){let l=t[o];It(l)||(l=t[o]=[l]),l.push(a)}else t[o]=a}return t}function $l(e){let t="";for(let r in e){const n=e[r];if(r=$m(r),n==null){n!==void 0&&(t+=(t.length?"&":"")+r);continue}(It(n)?n.map(s=>s&&So(s)):[n&&So(n)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+r,s!=null&&(t+="="+s))})}return t}function tv(e){const t={};for(const r in e){const n=e[r];n!==void 0&&(t[r]=It(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return t}const rv=Symbol(""),Dl=Symbol(""),wi=Symbol(""),va=Symbol(""),Ao=Symbol("");function xn(){let e=[];function t(n){return e.push(n),()=>{const s=e.indexOf(n);s>-1&&e.splice(s,1)}}function r(){e=[]}return{add:t,list:()=>e.slice(),reset:r}}function mr(e,t,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(mn(Te.NAVIGATION_ABORTED,{from:r,to:t})):h instanceof Error?l(h):Ym(h)?l(mn(Te.NAVIGATION_GUARD_REDIRECT,{from:t,to:h})):(o&&n.enterCallbacks[s]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>e.call(n&&n.instances[s],t,r,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(h=>l(h))})}function zi(e,t,r,n,s=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(vd(l)){const c=(l.__vccOpts||l)[t];c&&i.push(mr(c,r,n,o,a,s))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const d=Om(u)?u.default:u;o.mods[a]=u,o.components[a]=d;const h=(d.__vccOpts||d)[t];return h&&mr(h,r,n,o,a,s)()}))}}return i}function nv(e,t){const r=[],n=[],s=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>gn(c,a))?n.push(a):r.push(a));const l=e.matched[o];l&&(t.matched.find(c=>gn(c,l))||s.push(l))}return[r,n,s]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sv=()=>location.protocol+"//"+location.host;function Ad(e,t){const{pathname:r,search:n,hash:s}=t,i=e.indexOf("#");if(i>-1){let o=s.includes(e.slice(i))?e.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),Il(a,"")}return Il(r,e)+n+s}function iv(e,t,r,n){let s=[],i=[],o=null;const a=({state:h})=>{const f=Ad(e,location),p=r.value,m=t.value;let y=0;if(h){if(r.value=f,t.value=h,o&&o===p){o=null;return}y=m?h.position-m.position:0}else n(f);s.forEach(b=>{b(r.value,p,{delta:y,type:Oo.pop,direction:y?y>0?Ki.forward:Ki.back:Ki.unknown})})};function l(){o=r.value}function c(h){s.push(h);const f=()=>{const p=s.indexOf(h);p>-1&&s.splice(p,1)};return i.push(f),f}function u(){if(document.visibilityState==="hidden"){const{history:h}=window;if(!h.state)return;h.replaceState(fe({},h.state,{scroll:yi()}),"")}}function d(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",u),document.removeEventListener("visibilitychange",u)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",u),document.addEventListener("visibilitychange",u),{pauseListeners:l,listen:c,destroy:d}}function Ll(e,t,r,n=!1,s=!1){return{back:e,current:t,forward:r,replaced:n,position:window.history.length,scroll:s?yi():null}}function ov(e){const{history:t,location:r}=window,n={value:Ad(e,r)},s={value:t.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const d=e.indexOf("#"),h=d>-1?(r.host&&document.querySelector("base")?e:e.slice(d))+l:sv()+e+l;try{t[u?"replaceState":"pushState"](c,"",h),s.value=c}catch(f){console.error(f),r[u?"replace":"assign"](h)}}function o(l,c){i(l,fe({},t.state,Ll(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),n.value=l}function a(l,c){const u=fe({},s.value,t.state,{forward:l,scroll:yi()});i(u.current,u,!0),i(l,fe({},Ll(n.value,l,null),{position:u.position+1},c),!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function av(e){e=Hm(e);const t=ov(e),r=iv(e,t.state,t.location,t.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=fe({location:"",base:e,go:n,createHref:Km.bind(null,e)},t,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}let Dr=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var $e=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}($e||{});const lv={type:Dr.Static,value:""},cv=/[a-zA-Z0-9_]/;function uv(e){if(!e)return[[]];if(e==="/")return[[lv]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${r})/"${c}": ${f}`)}let r=$e.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",u="";function d(){c&&(r===$e.Static?i.push({type:Dr.Static,value:c}):r===$e.Param||r===$e.ParamRegExp||r===$e.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Dr.Param,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&r!==$e.ParamRegExp){n=r,r=$e.EscapeNext;continue}switch(r){case $e.Static:l==="/"?(c&&d(),o()):l===":"?(d(),r=$e.Param):h();break;case $e.EscapeNext:h(),r=n;break;case $e.Param:l==="("?r=$e.ParamRegExp:cv.test(l)?h():(d(),r=$e.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case $e.ParamRegExp:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:r=$e.ParamRegExpEnd:u+=l;break;case $e.ParamRegExpEnd:d(),r=$e.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return r===$e.ParamRegExp&&t(`Unfinished custom RegExp for param "${c}"`),d(),o(),s}const Ul="[^/]+?",dv={sensitive:!1,strict:!1,start:!0,end:!0};var Ye=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Ye||{});const hv=/[.+*?^${}()[\]/\\]/g;function fv(e,t){const r=fe({},dv,t),n=[];let s=r.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[Ye.Root];r.strict&&!c.length&&(s+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=Ye.Segment+(r.sensitive?Ye.BonusCaseSensitive:0);if(h.type===Dr.Static)d||(s+="/"),s+=h.value.replace(hv,"\\$&"),f+=Ye.Static;else if(h.type===Dr.Param){const{value:p,repeatable:m,optional:y,regexp:b}=h;i.push({name:p,repeatable:m,optional:y});const S=b||Ul;if(S!==Ul){f+=Ye.BonusCustomRegExp;try{`${S}`}catch(O){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+O.message)}}let w=m?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;d||(w=y&&c.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),s+=w,f+=Ye.Dynamic,y&&(f+=Ye.BonusOptional),m&&(f+=Ye.BonusRepeatable),S===".*"&&(f+=Ye.BonusWildcard)}u.push(f)}n.push(u)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=Ye.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=i[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const h of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===Dr.Static)u+=f.value;else if(f.type===Dr.Param){const{value:p,repeatable:m,optional:y}=f,b=p in c?c[p]:"";if(It(b)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=It(b)?b.join("/"):b;if(!S)if(y)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=S}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function pv(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=t[r]-e[r];if(n)return n;r++}return e.length<t.length?e.length===1&&e[0]===Ye.Static+Ye.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Ye.Static+Ye.Segment?1:-1:0}function Rd(e,t){let r=0;const n=e.score,s=t.score;for(;r<n.length&&r<s.length;){const i=pv(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(Bl(n))return 1;if(Bl(s))return-1}return s.length-n.length}function Bl(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const gv={strict:!1,end:!0,sensitive:!1};function mv(e,t,r){const n=fv(uv(e.path),r),s=fe(n,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function vv(e,t){const r=[],n=new Map;t=kl(gv,t);function s(d){return n.get(d)}function i(d,h,f){const p=!f,m=Fl(d);m.aliasOf=f&&f.record;const y=kl(t,d),b=[m];if("alias"in d){const O=typeof d.alias=="string"?[d.alias]:d.alias;for(const P of O)b.push(Fl(fe({},m,{components:f?f.record.components:m.components,path:P,aliasOf:f?f.record:m})))}let S,w;for(const O of b){const{path:P}=O;if(h&&P[0]!=="/"){const x=h.record.path,U=x[x.length-1]==="/"?"":"/";O.path=h.record.path+(P&&U+P)}if(S=mv(O,h,y),f?f.alias.push(S):(w=w||S,w!==S&&w.alias.push(S),p&&d.name&&!Vl(S)&&o(d.name)),Cd(S)&&l(S),m.children){const x=m.children;for(let U=0;U<x.length;U++)i(x[U],S,f&&f.children[U])}f=f||S}return w?()=>{o(w)}:Mn}function o(d){if(Od(d)){const h=n.get(d);h&&(n.delete(d),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(d);h>-1&&(r.splice(h,1),d.record.name&&n.delete(d.record.name),d.children.forEach(o),d.alias.forEach(o))}}function a(){return r}function l(d){const h=_v(d,r);r.splice(h,0,d),d.record.name&&!Vl(d)&&n.set(d.record.name,d)}function c(d,h){let f,p={},m,y;if("name"in d&&d.name){if(f=n.get(d.name),!f)throw mn(Te.MATCHER_NOT_FOUND,{location:d});y=f.record.name,p=fe(Ml(h.params,f.keys.filter(w=>!w.optional).concat(f.parent?f.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),d.params&&Ml(d.params,f.keys.map(w=>w.name))),m=f.stringify(p)}else if(d.path!=null)m=d.path,f=r.find(w=>w.re.test(m)),f&&(p=f.parse(m),y=f.record.name);else{if(f=h.name?n.get(h.name):r.find(w=>w.re.test(h.path)),!f)throw mn(Te.MATCHER_NOT_FOUND,{location:d,currentLocation:h});y=f.record.name,p=fe({},h.params,d.params),m=f.stringify(p)}const b=[];let S=f;for(;S;)b.unshift(S.record),S=S.parent;return{name:y,path:m,params:p,matched:b,meta:wv(b)}}e.forEach(d=>i(d));function u(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:s}}function Ml(e,t){const r={};for(const n of t)n in e&&(r[n]=e[n]);return r}function Fl(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:yv(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function yv(e){const t={},r=e.props||!1;if("component"in e)t.default=r;else for(const n in e.components)t[n]=typeof r=="object"?r[n]:r;return t}function Vl(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wv(e){return e.reduce((t,r)=>fe(t,r.meta),{})}function _v(e,t){let r=0,n=t.length;for(;r!==n;){const i=r+n>>1;Rd(e,t[i])<0?n=i:r=i+1}const s=bv(e);return s&&(n=t.lastIndexOf(s,n-1)),n}function bv(e){let t=e;for(;t=t.parent;)if(Cd(t)&&Rd(e,t)===0)return t}function Cd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function ql(e){const t=Je(wi),r=Je(va),n=xe(()=>{const l=ae(e.to);return t.resolve(l)}),s=xe(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=r.matched;if(!u||!d.length)return-1;const h=d.findIndex(gn.bind(null,u));if(h>-1)return h;const f=Hl(l[c-2]);return c>1&&Hl(u)===f&&d[d.length-1].path!==f?d.findIndex(gn.bind(null,l[c-2])):h}),i=xe(()=>s.value>-1&&Av(r.params,n.value.params)),o=xe(()=>s.value>-1&&s.value===r.matched.length-1&&Sd(r.params,n.value.params));function a(l={}){if(Tv(l)){const c=t[ae(e.replace)?"replace":"push"](ae(e.to)).catch(Mn);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:xe(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function Ev(e){return e.length===1?e[0]:e}const Sv=gt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ql,setup(e,{slots:t}){const r=is(ql(e)),{options:n}=Je(wi),s=xe(()=>({[Wl(e.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Wl(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=t.default&&Ev(t.default(r));return e.custom?i:pa("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),Ov=Sv;function Tv(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Av(e,t){for(const r in t){const n=t[r],s=e[r];if(typeof n=="string"){if(n!==s)return!1}else if(!It(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Hl(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wl=(e,t,r)=>e??t??r,Rv=gt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:r}){const n=Je(Ao),s=xe(()=>e.route||n.value),i=Je(Dl,0),o=xe(()=>{let c=ae(i);const{matched:u}=s.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=xe(()=>s.value.matched[o.value]);dn(Dl,xe(()=>o.value+1)),dn(rv,a),dn(Ao,s);const l=Ee();return _r(()=>[l.value,a.value,e.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!gn(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,d=a.value,h=d&&d.components[u];if(!h)return Kl(r.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,y=pa(h,fe({},p,t,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Kl(r.default,{Component:y,route:c})||y}}});function Kl(e,t){if(!e)return null;const r=e(t);return r.length===1?r[0]:r}const Cv=Rv;function xv(e){const t=vv(e.routes,e),r=e.parseQuery||ev,n=e.stringifyQuery||$l,s=e.history,i=xn(),o=xn(),a=xn(),l=pp(lr);let c=lr;nn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Hi.bind(null,R=>""+R),d=Hi.bind(null,Lm),h=Hi.bind(null,Yn);function f(R,M){let L,W;return Od(R)?(L=t.getRecordMatcher(R),W=M):W=R,t.addRoute(W,L)}function p(R){const M=t.getRecordMatcher(R);M&&t.removeRoute(M)}function m(){return t.getRoutes().map(R=>R.record)}function y(R){return!!t.getRecordMatcher(R)}function b(R,M){if(M=fe({},M||l.value),typeof R=="string"){const _=Wi(r,R,M.path),A=t.resolve({path:_.path},M),C=s.createHref(_.fullPath);return fe(_,A,{params:h(A.params),hash:Yn(_.hash),redirectedFrom:void 0,href:C})}let L;if(R.path!=null)L=fe({},R,{path:Wi(r,R.path,M.path).path});else{const _=fe({},R.params);for(const A in _)_[A]==null&&delete _[A];L=fe({},R,{params:d(_)}),M.params=d(M.params)}const W=t.resolve(L,M),ce=R.hash||"";W.params=u(h(W.params));const g=Mm(n,fe({},R,{hash:Nm(ce),path:W.path})),v=s.createHref(g);return fe({fullPath:g,hash:ce,query:n===$l?tv(R.query):R.query||{}},W,{redirectedFrom:void 0,href:v})}function S(R){return typeof R=="string"?Wi(r,R,l.value.path):fe({},R)}function w(R,M){if(c!==R)return mn(Te.NAVIGATION_CANCELLED,{from:M,to:R})}function O(R){return U(R)}function P(R){return O(fe(S(R),{replace:!0}))}function x(R,M){const L=R.matched[R.matched.length-1];if(L&&L.redirect){const{redirect:W}=L;let ce=typeof W=="function"?W(R,M):W;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=S(ce):{path:ce},ce.params={}),fe({query:R.query,hash:R.hash,params:ce.path!=null?{}:R.params},ce)}}function U(R,M){const L=c=b(R),W=l.value,ce=R.state,g=R.force,v=R.replace===!0,_=x(L,W);if(_)return U(fe(S(_),{state:typeof _=="object"?fe({},ce,_.state):ce,force:g,replace:v}),M||L);const A=L;A.redirectedFrom=M;let C;return!g&&Fm(n,W,L)&&(C=mn(Te.NAVIGATION_DUPLICATED,{to:A,from:W}),Ne(W,W,!0,!1)),(C?Promise.resolve(C):Y(A,W)).catch(T=>Qt(T)?Qt(T,Te.NAVIGATION_GUARD_REDIRECT)?T:Nt(T):se(T,A,W)).then(T=>{if(T){if(Qt(T,Te.NAVIGATION_GUARD_REDIRECT))return U(fe({replace:v},S(T.to),{state:typeof T.to=="object"?fe({},ce,T.to.state):ce,force:g}),M||A)}else T=$(A,W,!0,v,ce);return le(A,W,T),T})}function V(R,M){const L=w(R,M);return L?Promise.reject(L):Promise.resolve()}function I(R){const M=St.values().next().value;return M&&typeof M.runWithContext=="function"?M.runWithContext(R):R()}function Y(R,M){let L;const[W,ce,g]=nv(R,M);L=zi(W.reverse(),"beforeRouteLeave",R,M);for(const _ of W)_.leaveGuards.forEach(A=>{L.push(mr(A,R,M))});const v=V.bind(null,R,M);return L.push(v),vt(L).then(()=>{L=[];for(const _ of i.list())L.push(mr(_,R,M));return L.push(v),vt(L)}).then(()=>{L=zi(ce,"beforeRouteUpdate",R,M);for(const _ of ce)_.updateGuards.forEach(A=>{L.push(mr(A,R,M))});return L.push(v),vt(L)}).then(()=>{L=[];for(const _ of g)if(_.beforeEnter)if(It(_.beforeEnter))for(const A of _.beforeEnter)L.push(mr(A,R,M));else L.push(mr(_.beforeEnter,R,M));return L.push(v),vt(L)}).then(()=>(R.matched.forEach(_=>_.enterCallbacks={}),L=zi(g,"beforeRouteEnter",R,M,I),L.push(v),vt(L))).then(()=>{L=[];for(const _ of o.list())L.push(mr(_,R,M));return L.push(v),vt(L)}).catch(_=>Qt(_,Te.NAVIGATION_CANCELLED)?_:Promise.reject(_))}function le(R,M,L){a.list().forEach(W=>I(()=>W(R,M,L)))}function $(R,M,L,W,ce){const g=w(R,M);if(g)return g;const v=M===lr,_=nn?history.state:{};L&&(W||v?s.replace(R.fullPath,fe({scroll:v&&_&&_.scroll},ce)):s.push(R.fullPath,ce)),l.value=R,Ne(R,M,L,v),Nt()}let ne;function me(){ne||(ne=s.listen((R,M,L)=>{if(!Dt.listening)return;const W=b(R),ce=x(W,Dt.currentRoute.value);if(ce){U(fe(ce,{replace:!0,force:!0}),W).catch(Mn);return}c=W;const g=l.value;nn&&Jm(Nl(g.fullPath,L.delta),yi()),Y(W,g).catch(v=>Qt(v,Te.NAVIGATION_ABORTED|Te.NAVIGATION_CANCELLED)?v:Qt(v,Te.NAVIGATION_GUARD_REDIRECT)?(U(fe(S(v.to),{force:!0}),W).then(_=>{Qt(_,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&!L.delta&&L.type===Oo.pop&&s.go(-1,!1)}).catch(Mn),Promise.reject()):(L.delta&&s.go(-L.delta,!1),se(v,W,g))).then(v=>{v=v||$(W,g,!1),v&&(L.delta&&!Qt(v,Te.NAVIGATION_CANCELLED)?s.go(-L.delta,!1):L.type===Oo.pop&&Qt(v,Te.NAVIGATION_ABORTED|Te.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),le(W,g,v)}).catch(Mn)}))}let Ue=xn(),ie=xn(),Z;function se(R,M,L){Nt(R);const W=ie.list();return W.length?W.forEach(ce=>ce(R,M,L)):console.error(R),Promise.reject(R)}function mt(){return Z&&l.value!==lr?Promise.resolve():new Promise((R,M)=>{Ue.add([R,M])})}function Nt(R){return Z||(Z=!R,me(),Ue.list().forEach(([M,L])=>R?L(R):M()),Ue.reset()),R}function Ne(R,M,L,W){const{scrollBehavior:ce}=e;if(!nn||!ce)return Promise.resolve();const g=!L&&Qm(Nl(R.fullPath,0))||(W||!L)&&history.state&&history.state.scroll||null;return _t().then(()=>ce(R,M,g)).then(v=>v&&Gm(v)).catch(v=>se(v,R,M))}const Re=R=>s.go(R);let $t;const St=new Set,Dt={currentRoute:l,listening:!0,addRoute:f,removeRoute:p,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:m,resolve:b,options:e,push:O,replace:P,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:mt,install(R){R.component("RouterLink",Ov),R.component("RouterView",Cv),R.config.globalProperties.$router=Dt,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),nn&&!$t&&l.value===lr&&($t=!0,O(s.location).catch(W=>{}));const M={};for(const W in lr)Object.defineProperty(M,W,{get:()=>l.value[W],enumerable:!0});R.provide(wi,Dt),R.provide(va,wu(M)),R.provide(Ao,l);const L=R.unmount;St.add(R),R.unmount=function(){St.delete(R),St.size<1&&(c=lr,ne&&ne(),ne=null,l.value=lr,$t=!1,Z=!1),L()}}};function vt(R){return R.reduce((M,L)=>M.then(()=>I(L)),Promise.resolve())}return Dt}function xd(){return Je(wi)}function lS(e){return Je(va)}var Ro=function(e,t){return Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ro(e,t)};function Pd(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Ro(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zs=function(){return Zs=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Zs.apply(this,arguments)};function bn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function kd(e,t,r,n){var s=arguments.length,i=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i}function Id(e,t){return function(r,n){t(r,n,e)}}function jd(e,t,r,n,s,i){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",c=!t&&e?n.static?e:e.prototype:null,u=t||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),d,h=!1,f=r.length-1;f>=0;f--){var p={};for(var m in n)p[m]=m==="access"?{}:n[m];for(var m in n.access)p.access[m]=n.access[m];p.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(b||null))};var y=(0,r[f])(a==="accessor"?{get:u.get,set:u.set}:u[l],p);if(a==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(d=o(y.get))&&(u.get=d),(d=o(y.set))&&(u.set=d),(d=o(y.init))&&s.unshift(d)}else(d=o(y))&&(a==="field"?s.unshift(d):u[l]=d)}c&&Object.defineProperty(c,n.name,u),h=!0}function Nd(e,t,r){for(var n=arguments.length>2,s=0;s<t.length;s++)r=n?t[s].call(e,r):t[s].call(e);return n?r:void 0}function $d(e){return typeof e=="symbol"?e:"".concat(e)}function Dd(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Ld(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function F(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(d){o(d)}}function l(u){try{c(n.throw(u))}catch(d){o(d)}}function c(u){u.done?i(u.value):s(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})}function Ud(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=c[0]&2?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(u){c=[6,u],s=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var _i=Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function Bd(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_i(t,e,r)}function ei(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ya(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,i=[],o;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Md(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ya(arguments[t]));return e}function Fd(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var i=arguments[t],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Vd(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function qd(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(f){return function(p){return Promise.resolve(p).then(f,d)}}function a(f,p){n[f]&&(s[f]=function(m){return new Promise(function(y,b){i.push([f,m,y,b])>1||l(f,m)})},p&&(s[f]=p(s[f])))}function l(f,p){try{c(n[f](p))}catch(m){h(i[0][3],m)}}function c(f){f.value instanceof vn?Promise.resolve(f.value.v).then(u,d):h(i[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Hd(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,i){t[s]=e[s]?function(o){return(r=!r)?{value:vn(e[s](o)),done:!1}:i?i(o):o}:i}}function Wd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ei=="function"?ei(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(a,l){o=e[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},o)}}function Kd(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var Pv=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Co=function(e){return Co=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Co(e)};function zd(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Co(e),n=0;n<r.length;n++)r[n]!=="default"&&_i(t,e,r[n]);return Pv(t,e),t}function Gd(e){return e&&e.__esModule?e:{default:e}}function Jd(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Qd(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}function Yd(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Xd(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var kv=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Zd(e){function t(i){e.error=e.hasError?new kv(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function s(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return t(o),s()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function eh(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?t?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):e}const Iv={__extends:Pd,__assign:Zs,__rest:bn,__decorate:kd,__param:Id,__esDecorate:jd,__runInitializers:Nd,__propKey:$d,__setFunctionName:Dd,__metadata:Ld,__awaiter:F,__generator:Ud,__createBinding:_i,__exportStar:Bd,__values:ei,__read:ya,__spread:Md,__spreadArrays:Fd,__spreadArray:Vd,__await:vn,__asyncGenerator:qd,__asyncDelegator:Hd,__asyncValues:Wd,__makeTemplateObject:Kd,__importStar:zd,__importDefault:Gd,__classPrivateFieldGet:Jd,__classPrivateFieldSet:Qd,__classPrivateFieldIn:Yd,__addDisposableResource:Xd,__disposeResources:Zd,__rewriteRelativeImportExtension:eh},jv=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Xd,get __assign(){return Zs},__asyncDelegator:Hd,__asyncGenerator:qd,__asyncValues:Wd,__await:vn,__awaiter:F,__classPrivateFieldGet:Jd,__classPrivateFieldIn:Yd,__classPrivateFieldSet:Qd,__createBinding:_i,__decorate:kd,__disposeResources:Zd,__esDecorate:jd,__exportStar:Bd,__extends:Pd,__generator:Ud,__importDefault:Gd,__importStar:zd,__makeTemplateObject:Kd,__metadata:Ld,__param:Id,__propKey:$d,__read:ya,__rest:bn,__rewriteRelativeImportExtension:eh,__runInitializers:Nd,__setFunctionName:Dd,__spread:Md,__spreadArray:Vd,__spreadArrays:Fd,__values:ei,default:Iv},Symbol.toStringTag,{value:"Module"})),Nv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Se(async()=>{const{default:n}=await Promise.resolve().then(()=>Kr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class wa extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zl extends wa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gl extends wa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Jl extends wa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xo||(xo={}));class $v{constructor(t,{headers:r={},customFetch:n,region:s=xo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Nv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return F(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:i,method:o,body:a,signal:l}=n;let c={},{region:u}=n;u||(u=this.region);const d=new URL(`${this.url}/${r}`);u&&u!=="any"&&(c["x-region"]=u,d.searchParams.set("forceFunctionRegion",u));let h;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=a):typeof a=="string"?(c["Content-Type"]="text/plain",h=a):typeof FormData<"u"&&a instanceof FormData?h=a:(c["Content-Type"]="application/json",h=JSON.stringify(a)):h=a;const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:l}).catch(b=>{throw b.name==="AbortError"?b:new zl(b)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new Gl(f);if(!f.ok)throw new Jl(f);let m=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return m==="application/json"?y=yield f.json():m==="application/octet-stream"||m==="application/pdf"?y=yield f.blob():m==="text/event-stream"?y=f:m==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new zl(i)}:{data:null,error:i,response:i instanceof Jl||i instanceof Gl?i.context:void 0}}})}}var cS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var et={};const En=th(jv);var bs={},Es={},Ss={},Os={},Ts={},Dv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yn=Dv();const Lv=yn.fetch,rh=yn.fetch.bind(yn),nh=yn.Headers,Uv=yn.Request,Bv=yn.Response,Kr=Object.freeze(Object.defineProperty({__proto__:null,Headers:nh,Request:Uv,Response:Bv,default:rh,fetch:Lv},Symbol.toStringTag,{value:"Module"})),Mv=th(Kr);var As={},Ql;function sh(){if(Ql)return As;Ql=1,Object.defineProperty(As,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return As.default=e,As}var Yl;function ih(){if(Yl)return Ts;Yl=1,Object.defineProperty(Ts,"__esModule",{value:!0});const e=En,t=e.__importDefault(Mv),r=e.__importDefault(sh());class n{constructor(i){var o,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,f;let p=null,m=null,y=null,b=c.status,S=c.statusText;if(c.ok){if(this.method!=="HEAD"){const x=await c.text();x===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?m=x:m=JSON.parse(x))}const O=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),P=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");O&&P&&P.length>1&&(y=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,y=null,b=406,S="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const O=await c.text();try{p=JSON.parse(O),Array.isArray(p)&&c.status===404&&(m=[],p=null,b=200,S="OK")}catch{c.status===404&&O===""?(b=204,S="No Content"):p={message:O}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,b=200,S="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:m,count:y,status:b,statusText:S}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(d=c==null?void 0:c.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=c==null?void 0:c.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ts.default=n,Ts}var Xl;function oh(){if(Xl)return Os;Xl=1,Object.defineProperty(Os,"__esModule",{value:!0});const t=En.__importDefault(ih());class r extends t.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(c,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const d=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${h}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Os.default=r,Os}var Zl;function _a(){if(Zl)return Ss;Zl=1,Object.defineProperty(Ss,"__esModule",{value:!0});const t=En.__importDefault(oh()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${c}fts${u}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Ss.default=n,Ss}var ec;function ah(){if(ec)return Es;ec=1,Object.defineProperty(Es,"__esModule",{value:!0});const t=En.__importDefault(_a());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const c=s.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const d=s.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(d.length>0){const h=[...new Set(d)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Es.default=r,Es}var tc;function Fv(){if(tc)return bs;tc=1,Object.defineProperty(bs,"__esModule",{value:!0});const e=En,t=e.__importDefault(ah()),r=e.__importDefault(_a());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:c}={}){var u;let d;const h=new URL(`${this.url}/rpc/${i}`);let f;a||l?(d=a?"HEAD":"GET",Object.entries(o).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{h.searchParams.append(m,y)})):(d="POST",f=o);const p=new Headers(this.headers);return c&&p.set("Prefer",`count=${c}`),new r.default({method:d,url:h,headers:p,schema:this.schemaName,body:f,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return bs.default=n,bs}Object.defineProperty(et,"__esModule",{value:!0});var lh=et.PostgrestError=yh=et.PostgrestBuilder=mh=et.PostgrestTransformBuilder=ph=et.PostgrestFilterBuilder=hh=et.PostgrestQueryBuilder=uh=et.PostgrestClient=void 0;const Sn=En,ch=Sn.__importDefault(Fv());var uh=et.PostgrestClient=ch.default;const dh=Sn.__importDefault(ah());var hh=et.PostgrestQueryBuilder=dh.default;const fh=Sn.__importDefault(_a());var ph=et.PostgrestFilterBuilder=fh.default;const gh=Sn.__importDefault(oh());var mh=et.PostgrestTransformBuilder=gh.default;const vh=Sn.__importDefault(ih());var yh=et.PostgrestBuilder=vh.default;const wh=Sn.__importDefault(sh());lh=et.PostgrestError=wh.default;var _h=et.default={PostgrestClient:ch.default,PostgrestQueryBuilder:dh.default,PostgrestFilterBuilder:fh.default,PostgrestTransformBuilder:gh.default,PostgrestBuilder:vh.default,PostgrestError:wh.default};const Vv=$f({__proto__:null,get PostgrestBuilder(){return yh},get PostgrestClient(){return uh},get PostgrestError(){return lh},get PostgrestFilterBuilder(){return ph},get PostgrestQueryBuilder(){return hh},get PostgrestTransformBuilder(){return mh},default:_h},[et]),{PostgrestClient:qv,PostgrestQueryBuilder:uS,PostgrestFilterBuilder:dS,PostgrestTransformBuilder:hS,PostgrestBuilder:fS,PostgrestError:pS}=_h||Vv;class Hv{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Wv="2.77.0",Kv=`realtime-js/${Wv}`,zv="1.0.0",Po=1e4,Gv=1e3,Jv=100;var Fn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Fn||(Fn={}));var De;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(De||(De={}));var At;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(At||(At={}));var ko;(function(e){e.websocket="websocket"})(ko||(ko={}));var Nr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Nr||(Nr={}));class Qv{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const l=n.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class bh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const rc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=Yv(o,e,t,s),i),{}):{}},Yv=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?Eh(i,o):Io(o)},Eh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ty(t,r)}switch(e){case _e.bool:return Xv(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return Zv(t);case _e.json:case _e.jsonb:return ey(t);case _e.timestamp:return ry(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return Io(t);default:return Io(t)}},Io=e=>e,Xv=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Zv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ey=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ty=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Eh(t,a))}return e},ry=e=>typeof e=="string"?e.replace(" ","T"):e,Sh=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gi{constructor(t,r,n={},s=Po){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nc||(nc={}));class Vn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Vn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Vn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=i[c];if(d){const h=u.map(y=>y.presence_ref),f=d.map(y=>y.presence_ref),p=u.filter(y=>f.indexOf(y.presence_ref)<0),m=d.filter(y=>h.indexOf(y.presence_ref)<0);p.length>0&&(a[c]=p),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);t[a].unshift(...h)}n(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(sc||(sc={}));var qn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(qn||(qn={}));var Xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class ba{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=De.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gi(this,At.join,this.params,this.timeout),this.rejoinTimer=new bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=De.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=De.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=De.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Vn(this),this.broadcastEndpointURL=Sh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==De.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[qn.PRESENCE]&&this.bindings[qn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},h={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Xt.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t==null||t(Xt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,y=(p=m==null?void 0:m.length)!==null&&p!==void 0?p:0,b=[];for(let S=0;S<y;S++){const w=m[S],{filter:{event:O,schema:P,table:x,filter:U}}=w,V=f&&f[S];if(V&&V.event===O&&V.schema===P&&V.table===x&&V.filter===U)b.push(Object.assign(Object.assign({},w),{id:V.id}));else{this.unsubscribe(),this.state=De.errored,t==null||t(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Xt.SUBSCRIBED);return}}).receive("error",f=>{this.state=De.errored,t==null||t(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===De.joined&&t===qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=De.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Gi(this,At.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=De.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Gi(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Jv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=At;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var p,m,y;return((p=f.filter)===null||p===void 0?void 0:p.event)==="*"||((y=(m=f.filter)===null||m===void 0?void 0:m.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var p,m,y,b,S,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const O=f.id,P=(p=f.filter)===null||p===void 0?void 0:p.event;return O&&((m=r.ids)===null||m===void 0?void 0:m.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const O=(S=(b=f==null?void 0:f.filter)===null||b===void 0?void 0:b.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return O==="*"||O===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:m,table:y,commit_timestamp:b,type:S,errors:w}=p;h=Object.assign(Object.assign({},{schema:m,table:y,commit_timestamp:b,eventType:S,new:{},old:{},errors:w}),this._getPayloadRecords(p))}f.callback(h,n)})}_isClosed(){return this.state===De.closed}_isJoined(){return this.state===De.joined}_isJoining(){return this.state===De.joining}_isLeaving(){return this.state===De.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ba.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(At.close,{},t)}_onError(t){this._on(At.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=De.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rc(t.columns,t.old_record)),r}}const Ji=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ny=[1e3,2e3,5e3,1e4],sy=1e4,iy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class oy{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Po,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ji,this.ref=0,this.reconnectTimer=null,this.logger=Ji,this.conn=null,this.sendBuffer=[],this.serializer=new Qv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Se(async()=>{const{default:a}=await Promise.resolve().then(()=>Kr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ko.websocket}`,this.httpEndpoint=Sh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Hv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zv}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Fn.connecting:return Nr.Connecting;case Fn.open:return Nr.Open;case Fn.closing:return Nr.Closing;default:return Nr.Closed}}isConnected(){return this.connectionState()===Nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ba(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Gv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(At.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([iy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Kv};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(At.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,a,l,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Po,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Rs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:Ji,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t==null?void 0:t.reconnectAfterMs)!==null&&l!==void 0?l:d=>ny[d-1]||sy,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Ea extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class ay extends Ea{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jo extends Ea{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Sa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Se(async()=>{const{default:n}=await Promise.resolve().then(()=>Kr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ly=()=>F(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Se(()=>Promise.resolve().then(()=>Kr),void 0)).Response:Response}),No=e=>{if(Array.isArray(e))return e.map(r=>No(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=No(n)}),t},cy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uy=(e,t,r)=>F(void 0,void 0,void 0,function*(){const n=yield ly();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,o=(s==null?void 0:s.statusCode)||i+"";t(new ay(Qi(s),i,o))}).catch(s=>{t(new jo(Qi(s),s))}):t(new jo(Qi(e),e))}),dy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(cy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function us(e,t,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,dy(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>uy(l,a,n))})})}function Xn(e,t,r,n){return F(this,void 0,void 0,function*(){return us(e,"GET",t,r,n)})}function Tt(e,t,r,n,s){return F(this,void 0,void 0,function*(){return us(e,"POST",t,n,s,r)})}function $o(e,t,r,n,s){return F(this,void 0,void 0,function*(){return us(e,"PUT",t,n,s,r)})}function hy(e,t,r,n){return F(this,void 0,void 0,function*(){return us(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Oa(e,t,r,n,s){return F(this,void 0,void 0,function*(){return us(e,"DELETE",t,n,s,r)})}class fy{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return F(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}})}}var Oh;class py{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Oh]="BlobDownloadBuilder",this.promise=null}asStream(){return new fy(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return F(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Oe(t))return{data:null,error:t};throw t}})}}Oh=Symbol.toStringTag;const gy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ic={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class my{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Sa(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return F(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ic),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),u=this._getFinalPath(c),d=yield(t=="PUT"?$o:Tt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Oe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return F(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:ic.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield $o(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Oe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return F(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ea("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}update(t,r,n){return F(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}copy(t,r,n){return F(this,void 0,void 0,function*(){try{return{data:{path:(yield Tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return F(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return F(this,void 0,void 0,function*(){try{const s=yield Tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}download(t,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(t),l=()=>Xn(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new py(l,this.shouldThrowOnError)}info(t){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Xn(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:No(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}exists(t){return F(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield hy(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n)&&n instanceof jo){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return F(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}list(t,r,n){return F(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gy),r),{prefix:t||""});return{data:yield Tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}listV2(t,r){return F(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Th="2.77.0",Ah={"X-Client-Info":`storage-js/${Th}`};class vy{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ah),r),this.fetch=Sa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return F(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Xn(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}getBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}createBucket(t){return F(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Oe(s))return{data:null,error:s};throw s}})}updateBucket(t,r){return F(this,void 0,void 0,function*(){try{return{data:yield $o(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Oe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class yy{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ah),r),this.fetch=Sa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield Tt(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}listBuckets(t){return F(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Xn(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield Oa(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Oe(r))return{data:null,error:r};throw r}})}}const Ta={"X-Client-Info":`storage-js/${Th}`,"Content-Type":"application/json"};class Rh extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ct(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Yi extends Rh{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wy extends Rh{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var oc;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oc||(oc={}));const Aa=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Se(async()=>{const{default:n}=await Promise.resolve().then(()=>Kr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_y=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ac=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),by=(e,t,r)=>F(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";t(new Yi(ac(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Yi(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;t(new Yi(a,s,o))}}else t(new wy(ac(e),e))}),Ey=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_y(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Sy(e,t,r,n,s,i){return F(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,Ey(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>by(l,a,n))})})}function ut(e,t,r,n,s){return F(this,void 0,void 0,function*(){return Sy(e,"POST",t,n,s,r)})}class Oy{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),r),this.fetch=Aa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return F(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getIndex(t,r){return F(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}listIndexes(t){return F(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return F(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ct(n))return{data:null,error:n};throw n}})}}class Ty{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),r),this.fetch=Aa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return F(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getVectors(t){return F(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listVectors(t){return F(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield ut(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}queryVectors(t){return F(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteVectors(t){return F(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ut(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class Ay{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ta),r),this.fetch=Aa(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return F(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}getBucket(t){return F(this,void 0,void 0,function*(){try{return{data:yield ut(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}listBuckets(){return F(this,arguments,void 0,function*(t={}){try{return{data:yield ut(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(t){return F(this,void 0,void 0,function*(){try{return{data:(yield ut(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ct(r))return{data:null,error:r};throw r}})}}class Ry extends Ay{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new Cy(this.url,this.headers,t,this.fetch)}}class Cy extends Oy{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return F(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return F(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return F(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return F(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new xy(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class xy extends Ty{constructor(t,r,n,s,i){super(t,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return F(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return F(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return F(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return F(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return F(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Py extends vy{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new my(this.url,this.headers,t,this.fetch)}get vectors(){return new Ry(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yy(this.url+"/iceberg",this.headers,this.fetch)}}const ky="2.77.0";let In="";typeof Deno<"u"?In="deno":typeof document<"u"?In="web":typeof navigator<"u"&&navigator.product==="ReactNative"?In="react-native":In="node";const Iy={"X-Client-Info":`supabase-js-${In}/${ky}`},jy={headers:Iy},Ny={schema:"public"},$y={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dy={},Ly=e=>{let t;return e?t=e:typeof fetch>"u"?t=rh:t=fetch,(...r)=>t(...r)},Uy=()=>typeof Headers>"u"?nh:Headers,By=(e,t,r)=>{const n=Ly(r),s=Uy();return async(i,o)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))}};function My(e){return e.endsWith("/")?e:e+"/"}function Fy(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Vy(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(My(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ch="2.77.0",sn=30*1e3,Do=3,Xi=Do*sn,qy="http://localhost:9999",Hy="supabase.auth.token",Wy={"X-Client-Info":`gotrue-js/${Ch}`},Lo="X-Supabase-Api-Version",xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ky=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zy=10*60*1e3;class Zn extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gy extends Zn{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jy(e){return G(e)&&e.name==="AuthApiError"}class $r extends Zn{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tr extends Zn{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class hr extends Tr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qy(e){return G(e)&&e.name==="AuthSessionMissingError"}class Jr extends Tr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cs extends Tr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xs extends Tr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yy(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class lc extends Tr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uo extends Tr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Zi(e){return G(e)&&e.name==="AuthRetryableFetchError"}class cc extends Tr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bo extends Tr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ti="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uc=` 	
\r=`.split(""),Xy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<uc.length;t+=1)e[uc[t].charCodeAt(0)]=-2;for(let t=0;t<ti.length;t+=1)e[ti[t].charCodeAt(0)]=t;return e})();function dc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ti[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ti[n]),t.queuedBits-=6}}function Ph(e,t,r){const n=Xy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function hc(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{tw(o,n,r)};for(let o=0;o<e.length;o+=1)Ph(e.charCodeAt(o),s,i);return t.join("")}function Zy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ew(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Zy(n,t)}}function tw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function hn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ph(e.charCodeAt(s),r,n);return new Uint8Array(t)}function rw(e){const t=[];return ew(e,r=>t.push(r)),new Uint8Array(t)}function Lr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>dc(s,r,n)),dc(null,r,n),t.join("")}function nw(e){return Math.round(Date.now()/1e3)+e}function sw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lt=()=>typeof window<"u"&&typeof document<"u",xr={tested:!1,writable:!1},kh=()=>{if(!lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xr.tested)return xr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xr.tested=!0,xr.writable=!0}catch{xr.tested=!0,xr.writable=!1}return xr.writable};function iw(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ih=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Se(async()=>{const{default:n}=await Promise.resolve().then(()=>Kr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ow=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",on=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Pr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cr=async(e,t)=>{await e.removeItem(t)};class bi{constructor(){this.promise=new bi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bi.promiseConstructor=Promise;function eo(e){const t=e.split(".");if(t.length!==3)throw new Bo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ky.test(t[n]))throw new Bo("JWT not in base64url format");return{header:JSON.parse(hc(t[0])),payload:JSON.parse(hc(t[1])),signature:hn(t[2]),raw:{header:t[0],payload:t[1]}}}async function aw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lw(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function cw(e){return("0"+e.toString(16)).substr(-2)}function uw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,cw).join("")}async function dw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Qr(e,t,r=!1){const n=uw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await on(e,`${t}-code-verifier`,s);const i=await hw(n);return[i,n===i?"plain":"s256"]}const fw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pw(e){const t=e.headers.get(Lo);if(!t||!t.match(fw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yr(e){if(!vw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function to(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function fc(e){return JSON.parse(JSON.stringify(e))}const jr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yw=[502,503,504];async function pc(e){var t;if(!ow(e))throw new Uo(jr(e),0);if(yw.includes(e.status))throw new Uo(jr(e),e.status);let r;try{r=await e.json()}catch(i){throw new $r(jr(i),i)}let n;const s=pw(e);if(s&&s.getTime()>=xh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new cc(jr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new hr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new cc(jr(r),e.status,r.weak_password.reasons);throw new Gy(jr(r),e.status||500,n)}const ww=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Lo]||(i[Lo]=xh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await _w(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _w(e,t,r,n,s,i){const o=ww(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(l){throw console.error(l),new Uo(jr(l),0)}if(a.ok||await pc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await pc(l)}}function Ot(e){var t;let r=null;Sw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function gc(e){const t=Ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bw(e){return{data:e,error:null}}function Ew(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=bn(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function mc(e){return e}function Sw(e){return e.access_token&&e.refresh_token&&e.expires_in}const ro=["global","local","others"];class Ow{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ih(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ro[0]){if(ro.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ro.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:vr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=bn(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ew,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(G(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mc});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(G(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Yr(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vr})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yr(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:vr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yr(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:vr})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yr(t.userId);try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yr(t.userId),Yr(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mc});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(p=>{const m=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(p.split(";")[1].split("=")[1]);c[`${y}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(G(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}}function vc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xr={debug:!!(globalThis&&kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tw extends jh{}async function Aw(e,t,r){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Rw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Nh(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Cw(e){return parseInt(e,16)}function xw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Pw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:u,uri:d,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Nh(e.address),p=u?`${u}://${n}`:n,m=e.statement?`${e.statement}
`:"",y=`${p} wants you to sign in with your Ethereum account:
${f}

${m}`;let b=`URI: ${d}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),a&&(b+=`
Not Before: ${a.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let S=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);S+=`
- ${w}`}b+=S}return`${y}
${b}`}class Ie extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class ri extends Ie{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function kw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if($h(o)){if(i.rp.id!==o)return new Ie({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Iw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ie({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if($h(n)){if(r.rpId!==n)return new Ie({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class jw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nw=new jw;function $w(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=bn(e,["challenge","user","excludeCredentials"]),i=hn(t).buffer,o=Object.assign(Object.assign({},r),{id:hn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:hn(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function Dw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=bn(e,["challenge","allowCredentials"]),s=hn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:hn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Lw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Lr(new Uint8Array(e.response.attestationObject)),clientDataJSON:Lr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Uw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Lr(new Uint8Array(s.authenticatorData)),clientDataJSON:Lr(new Uint8Array(s.clientDataJSON)),signature:Lr(new Uint8Array(s.signature)),userHandle:s.userHandle?Lr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $h(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function yc(){var e,t;return!!(lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Bw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ri("Browser returned unexpected credential type",t)}:{data:null,error:new ri("Empty credential response",t)}}catch(t){return{data:null,error:kw({error:t,options:e})}}}async function Mw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ri("Browser returned unexpected credential type",t)}:{data:null,error:new ri("Empty credential response",t)}}catch(t){return{data:null,error:Iw({error:t,options:e})}}}const Fw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Vw={userVerification:"preferred",hints:["security-key"]};function ni(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const a=n[i];t(a)?n[i]=ni(a,o):n[i]=ni(o)}else n[i]=o}return n}function qw(e,t){return ni(Fw,e,t||{})}function Hw(e,t){return ni(Vw,e,t||{})}class Ww{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:a};const l=s??Nw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=qw(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:u,error:d}=await Bw({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=Hw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:u,error:d}=await Mw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new $r("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},i){if(!r)return{data:null,error:new Zn("rpId is required for WebAuthn authentication")};try{if(!yc())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new $r("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},i){if(!r)return{data:null,error:new Zn("rpId is required for WebAuthn registration")};try{if(!yc())return{data:null,error:new $r("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return G(o)?{data:null,error:o}:{data:null,error:new $r("Unexpected error in register",o)}}}}Rw();const Kw={url:qy,storageKey:Hy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wc(e,t,r){return await r()}const Zr={};class es{get jwks(){var t,r;return(r=(t=Zr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zr[this.storageKey]=Object.assign(Object.assign({},Zr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=es.nextInstanceID,es.nextInstanceID+=1,this.instanceID>0&&lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Kw),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ow({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ih(s.fetch),this.lock=s.lock||wc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Aw:this.lock=wc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ww(this)},this.persistSession?(s.storage?this.storage=s.storage:kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vc(this.memoryStorage)),lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=iw(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Yy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return G(r)?{error:r}:{error:new $r("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ot}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:u,password:d,options:h}=t;let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Qr(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:p},xform:Ot})}else if("phone"in t){const{phone:u,password:d,options:h}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ot})}else throw new Cs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(G(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gc})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:gc})}else throw new Cs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,a,l,c,u,d,h;let f,p;if("message"in t)f=t.message,p=t.signature;else{const{chain:m,wallet:y,statement:b,options:S}=t;let w;if(lt())if(typeof y=="object")w=y;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")w=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const O=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),P=await w.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const x=Nh(P[0]);let U=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!U){const I=await w.request({method:"eth_chainId"});U=Cw(I)}const V={domain:O.host,address:x,statement:b,uri:O.href,version:"1",chainId:U,nonce:(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.resources};f=Pw(V),p=await w.request({method:"personal_sign",params:[xw(f),x]})}try{const{data:m,error:y}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ot});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Jr}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(G(m))return{data:{user:null,session:null},error:m};throw m}}async signInWithSolana(t){var r,n,s,i,o,a,l,c,u,d,h,f;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:y,wallet:b,statement:S,options:w}=t;let O;if(lt())if(typeof b=="object")O=b;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))O=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=b}const P=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const x=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),S?{statement:S}:null));let U;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")U=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)U=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)p=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),m=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((d=(u=w==null?void 0:w.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...w.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const x=await O.signMessage(new TextEncoder().encode(p),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=x}}try{const{data:y,error:b}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:Lr(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ot});if(b)throw b;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Jr}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:b})}catch(y){if(G(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ot});if(await cr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Jr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(G(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ot}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Qr(this.storage,this.storageKey));const{error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Cs("You must provide either an email or phone number.")}catch(a){if(G(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ot});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Qr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:bw})}catch(i){if(G(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new hr;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Cs("You must provide either an email or phone number and a type")}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Xi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Pr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=to()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vr}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:vr})})}catch(r){if(G(r))return Qy(r)&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new hr;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await Qr(this.storage,this.storageKey));const{data:c,error:u}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:vr});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=eo(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(G(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new hr;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(G(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lt())throw new xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new lc("No code detected.");const{data:S,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new xs("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=sn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const p=h-d;u-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,u):u-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,u);const{data:m,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(n){if(G(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(Jy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await cr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=sw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Qr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(G(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,u;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(G(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:u}=t,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ot}),{data:h,error:f}=d;return f?{data:{user:null,session:null},error:f}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Jr}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:f})}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lw(async s=>(s>0&&await aw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ot})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Zi(i)&&Date.now()+o-n<sn})}catch(n){if(this._debug(r,"error",n),G(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Pr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await on(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:to()}else if(s&&!s.user&&!s.user){const o=await Pr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await cr(this.storage,this.storageKey+"-user"),await on(this.storage,this.storageKey,s)):s.user=to()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xi;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Xi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Zi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new hr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new hr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),G(i)){const o={data:null,error:i};return Zi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await on(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=fc(s);await on(this.storage,this.storageKey,i)}else{const s=fc(r);await on(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await cr(this.storage,this.storageKey),await cr(this.storage,this.storageKey+"-code-verifier"),await cr(this.storage,this.storageKey+"-user"),this.userStorage&&await cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/sn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${sn}ms, refresh threshold is ${Do} ticks`),s<=Do&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Qr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(G(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Lw(t.webauthn.credential_response):Uw(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const o=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$w(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Dw(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(G(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=eo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+zy>s)return n;const{data:i,error:o}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:p}=await this.getSession();if(p||!f.session)return{data:null,error:p};n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=eo(n);r!=null&&r.allowExpired||gw(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const u=mw(s.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,rw(`${a}.${l}`)))throw new Bo("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}es.nextInstanceID=0;const zw=es;class Gw extends zw{constructor(t){super(t)}}class Jw{constructor(t,r,n){var s,i,o;this.supabaseUrl=t,this.supabaseKey=r;const a=Vy(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Ny,realtime:Dy,auth:Object.assign(Object.assign({},$y),{storageKey:l}),global:jy},u=Fy(n??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=By(r,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new qv(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Py(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new $v(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new oy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qw=(e,t,r)=>new Jw(e,t,r);function Yw(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Yw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xw="https://kcglwrdyjfurkazcbuip.supabase.co",Zw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtjZ2x3cmR5amZ1cmthemNidWlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyOTg0NDksImV4cCI6MjA3MDg3NDQ0OX0.mpx00INYd54n5VSp_oyHgP6EO0ivYcYu7yHLqJ0W6rs",fr=Qw(Xw,Zw);function Dh(e,t){return function(){return e.apply(t,arguments)}}const{toString:e_}=Object.prototype,{getPrototypeOf:Ra}=Object,{iterator:Ei,toStringTag:Lh}=Symbol,Si=(e=>t=>{const r=e_.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>Si(t)===e),Oi=e=>t=>typeof t===e,{isArray:On}=Array,wn=Oi("undefined");function ds(e){return e!==null&&!wn(e)&&e.constructor!==null&&!wn(e.constructor)&&st(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Uh=jt("ArrayBuffer");function t_(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Uh(e.buffer),t}const r_=Oi("string"),st=Oi("function"),Bh=Oi("number"),hs=e=>e!==null&&typeof e=="object",n_=e=>e===!0||e===!1,Ls=e=>{if(Si(e)!=="object")return!1;const t=Ra(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Lh in e)&&!(Ei in e)},s_=e=>{if(!hs(e)||ds(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},i_=jt("Date"),o_=jt("File"),a_=jt("Blob"),l_=jt("FileList"),c_=e=>hs(e)&&st(e.pipe),u_=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||st(e.append)&&((t=Si(e))==="formdata"||t==="object"&&st(e.toString)&&e.toString()==="[object FormData]"))},d_=jt("URLSearchParams"),[h_,f_,p_,g_]=["ReadableStream","Request","Response","Headers"].map(jt),m_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fs(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,s;if(typeof e!="object"&&(e=[e]),On(e))for(n=0,s=e.length;n<s;n++)t.call(null,e[n],n,e);else{if(ds(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(n=0;n<o;n++)a=i[n],t.call(null,e[a],a,e)}}function Mh(e,t){if(ds(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,s;for(;n-- >0;)if(s=r[n],t===s.toLowerCase())return s;return null}const Ur=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Fh=e=>!wn(e)&&e!==Ur;function Mo(){const{caseless:e,skipUndefined:t}=Fh(this)&&this||{},r={},n=(s,i)=>{const o=e&&Mh(r,i)||i;Ls(r[o])&&Ls(s)?r[o]=Mo(r[o],s):Ls(s)?r[o]=Mo({},s):On(s)?r[o]=s.slice():(!t||!wn(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&fs(arguments[s],n);return r}const v_=(e,t,r,{allOwnKeys:n}={})=>(fs(t,(s,i)=>{r&&st(s)?e[i]=Dh(s,r):e[i]=s},{allOwnKeys:n}),e),y_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),w_=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},__=(e,t,r,n)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!n||n(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=r!==!1&&Ra(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},b_=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},E_=e=>{if(!e)return null;if(On(e))return e;let t=e.length;if(!Bh(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},S_=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ra(Uint8Array)),O_=(e,t)=>{const n=(e&&e[Ei]).call(e);let s;for(;(s=n.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},T_=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},A_=jt("HTMLFormElement"),R_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),_c=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),C_=jt("RegExp"),Vh=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};fs(r,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(n[i]=o||s)}),Object.defineProperties(e,n)},x_=e=>{Vh(e,(t,r)=>{if(st(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(st(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},P_=(e,t)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return On(e)?n(e):n(String(e).split(t)),r},k_=()=>{},I_=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function j_(e){return!!(e&&st(e.append)&&e[Lh]==="FormData"&&e[Ei])}const N_=e=>{const t=new Array(10),r=(n,s)=>{if(hs(n)){if(t.indexOf(n)>=0)return;if(ds(n))return n;if(!("toJSON"in n)){t[s]=n;const i=On(n)?[]:{};return fs(n,(o,a)=>{const l=r(o,s+1);!wn(l)&&(i[a]=l)}),t[s]=void 0,i}}return n};return r(e,0)},$_=jt("AsyncFunction"),D_=e=>e&&(hs(e)||st(e))&&st(e.then)&&st(e.catch),qh=((e,t)=>e?setImmediate:t?((r,n)=>(Ur.addEventListener("message",({source:s,data:i})=>{s===Ur&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ur.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",st(Ur.postMessage)),L_=typeof queueMicrotask<"u"?queueMicrotask.bind(Ur):typeof process<"u"&&process.nextTick||qh,U_=e=>e!=null&&st(e[Ei]),E={isArray:On,isArrayBuffer:Uh,isBuffer:ds,isFormData:u_,isArrayBufferView:t_,isString:r_,isNumber:Bh,isBoolean:n_,isObject:hs,isPlainObject:Ls,isEmptyObject:s_,isReadableStream:h_,isRequest:f_,isResponse:p_,isHeaders:g_,isUndefined:wn,isDate:i_,isFile:o_,isBlob:a_,isRegExp:C_,isFunction:st,isStream:c_,isURLSearchParams:d_,isTypedArray:S_,isFileList:l_,forEach:fs,merge:Mo,extend:v_,trim:m_,stripBOM:y_,inherits:w_,toFlatObject:__,kindOf:Si,kindOfTest:jt,endsWith:b_,toArray:E_,forEachEntry:O_,matchAll:T_,isHTMLForm:A_,hasOwnProperty:_c,hasOwnProp:_c,reduceDescriptors:Vh,freezeMethods:x_,toObjectSet:P_,toCamelCase:R_,noop:k_,toFiniteNumber:I_,findKey:Mh,global:Ur,isContextDefined:Fh,isSpecCompliantForm:j_,toJSONObject:N_,isAsyncFn:$_,isThenable:D_,setImmediate:qh,asap:L_,isIterable:U_};function re(e,t,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}E.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const Hh=re.prototype,Wh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Wh[e]={value:e}});Object.defineProperties(re,Wh);Object.defineProperty(Hh,"isAxiosError",{value:!0});re.from=(e,t,r,n,s,i)=>{const o=Object.create(Hh);E.toFlatObject(e,o,function(u){return u!==Error.prototype},c=>c!=="isAxiosError");const a=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return re.call(o,a,l,r,n,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const B_=null;function Fo(e){return E.isPlainObject(e)||E.isArray(e)}function Kh(e){return E.endsWith(e,"[]")?e.slice(0,-2):e}function bc(e,t,r){return e?e.concat(t).map(function(s,i){return s=Kh(s),!r&&i?"["+s+"]":s}).join(r?".":""):t}function M_(e){return E.isArray(e)&&!e.some(Fo)}const F_=E.toFlatObject(E,{},null,function(t){return/^is[A-Z]/.test(t)});function Ti(e,t,r){if(!E.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=E.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,y){return!E.isUndefined(y[m])});const n=r.metaTokens,s=r.visitor||u,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(t);if(!E.isFunction(s))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(E.isDate(p))return p.toISOString();if(E.isBoolean(p))return p.toString();if(!l&&E.isBlob(p))throw new re("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(p)||E.isTypedArray(p)?l&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,m,y){let b=p;if(p&&!y&&typeof p=="object"){if(E.endsWith(m,"{}"))m=n?m:m.slice(0,-2),p=JSON.stringify(p);else if(E.isArray(p)&&M_(p)||(E.isFileList(p)||E.endsWith(m,"[]"))&&(b=E.toArray(p)))return m=Kh(m),b.forEach(function(w,O){!(E.isUndefined(w)||w===null)&&t.append(o===!0?bc([m],O,i):o===null?m:m+"[]",c(w))}),!1}return Fo(p)?!0:(t.append(bc(y,m,i),c(p)),!1)}const d=[],h=Object.assign(F_,{defaultVisitor:u,convertValue:c,isVisitable:Fo});function f(p,m){if(!E.isUndefined(p)){if(d.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(p),E.forEach(p,function(b,S){(!(E.isUndefined(b)||b===null)&&s.call(t,b,E.isString(S)?S.trim():S,m,h))===!0&&f(b,m?m.concat(S):[S])}),d.pop()}}if(!E.isObject(e))throw new TypeError("data must be an object");return f(e),t}function Ec(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Ca(e,t){this._pairs=[],e&&Ti(e,this,t)}const zh=Ca.prototype;zh.append=function(t,r){this._pairs.push([t,r])};zh.toString=function(t){const r=t?function(n){return t.call(this,n,Ec)}:Ec;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function V_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Gh(e,t,r){if(!t)return e;const n=r&&r.encode||V_;E.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(t,r):i=E.isURLSearchParams(t)?t.toString():new Ca(t,r).toString(n),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Sc{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){E.forEach(this.handlers,function(n){n!==null&&t(n)})}}const Jh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},q_=typeof URLSearchParams<"u"?URLSearchParams:Ca,H_=typeof FormData<"u"?FormData:null,W_=typeof Blob<"u"?Blob:null,K_={isBrowser:!0,classes:{URLSearchParams:q_,FormData:H_,Blob:W_},protocols:["http","https","file","blob","url","data"]},xa=typeof window<"u"&&typeof document<"u",Vo=typeof navigator=="object"&&navigator||void 0,z_=xa&&(!Vo||["ReactNative","NativeScript","NS"].indexOf(Vo.product)<0),G_=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J_=xa&&window.location.href||"http://localhost",Q_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xa,hasStandardBrowserEnv:z_,hasStandardBrowserWebWorkerEnv:G_,navigator:Vo,origin:J_},Symbol.toStringTag,{value:"Module"})),Ge={...Q_,...K_};function Y_(e,t){return Ti(e,new Ge.classes.URLSearchParams,{visitor:function(r,n,s,i){return Ge.isNode&&E.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function X_(e){return E.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Z_(e){const t={},r=Object.keys(e);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],t[i]=e[i];return t}function Qh(e){function t(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=r.length;return o=!o&&E.isArray(s)?s.length:o,l?(E.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!E.isObject(s[o]))&&(s[o]=[]),t(r,n,s[o],i)&&E.isArray(s[o])&&(s[o]=Z_(s[o])),!a)}if(E.isFormData(e)&&E.isFunction(e.entries)){const r={};return E.forEachEntry(e,(n,s)=>{t(X_(n),s,r,0)}),r}return null}function eb(e,t,r){if(E.isString(e))try{return(t||JSON.parse)(e),E.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ps={transitional:Jh,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=E.isObject(t);if(i&&E.isHTMLForm(t)&&(t=new FormData(t)),E.isFormData(t))return s?JSON.stringify(Qh(t)):t;if(E.isArrayBuffer(t)||E.isBuffer(t)||E.isStream(t)||E.isFile(t)||E.isBlob(t)||E.isReadableStream(t))return t;if(E.isArrayBufferView(t))return t.buffer;if(E.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Y_(t,this.formSerializer).toString();if((a=E.isFileList(t))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ti(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),eb(t)):t}],transformResponse:[function(t){const r=this.transitional||ps.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(E.isResponse(t)||E.isReadableStream(t))return t;if(t&&E.isString(t)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?re.from(a,re.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ge.classes.FormData,Blob:Ge.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],e=>{ps.headers[e]={}});const tb=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rb=e=>{const t={};let r,n,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||t[r]&&tb[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Oc=Symbol("internals");function Pn(e){return e&&String(e).trim().toLowerCase()}function Us(e){return e===!1||e==null?e:E.isArray(e)?e.map(Us):String(e)}function nb(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const sb=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function no(e,t,r,n,s){if(E.isFunction(n))return n.call(this,t,r);if(s&&(t=r),!!E.isString(t)){if(E.isString(n))return t.indexOf(n)!==-1;if(E.isRegExp(n))return n.test(t)}}function ib(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function ob(e,t){const r=E.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(s,i,o){return this[n].call(this,t,s,i,o)},configurable:!0})})}let it=class{constructor(t){t&&this.set(t)}set(t,r,n){const s=this;function i(a,l,c){const u=Pn(l);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Us(a))}const o=(a,l)=>E.forEach(a,(c,u)=>i(c,u,l));if(E.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(E.isString(t)&&(t=t.trim())&&!sb(t))o(rb(t),r);else if(E.isObject(t)&&E.isIterable(t)){let a={},l,c;for(const u of t){if(!E.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?E.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=Pn(t),t){const n=E.findKey(this,t);if(n){const s=this[n];if(!r)return s;if(r===!0)return nb(s);if(E.isFunction(r))return r.call(this,s,n);if(E.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Pn(t),t){const n=E.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||no(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let s=!1;function i(o){if(o=Pn(o),o){const a=E.findKey(n,o);a&&(!r||no(n,n[a],a,r))&&(delete n[a],s=!0)}}return E.isArray(t)?t.forEach(i):i(t),s}clear(t){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!t||no(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const r=this,n={};return E.forEach(this,(s,i)=>{const o=E.findKey(n,i);if(o){r[o]=Us(s),delete r[i];return}const a=t?ib(i):String(i).trim();a!==i&&delete r[i],r[a]=Us(s),n[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return E.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=t&&E.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(s=>n.set(s)),n}static accessor(t){const n=(this[Oc]=this[Oc]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Pn(o);n[a]||(ob(s,o),n[a]=!0)}return E.isArray(t)?t.forEach(i):i(t),this}};it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(it.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});E.freezeMethods(it);function so(e,t){const r=this||ps,n=t||r,s=it.from(n.headers);let i=n.data;return E.forEach(e,function(a){i=a.call(r,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function Yh(e){return!!(e&&e.__CANCEL__)}function Tn(e,t,r){re.call(this,e??"canceled",re.ERR_CANCELED,t,r),this.name="CanceledError"}E.inherits(Tn,re,{__CANCEL__:!0});function Xh(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new re("Request failed with status code "+r.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ab(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lb(e,t){e=e||10;const r=new Array(e),n=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=n[i];o||(o=c),r[s]=l,n[s]=c;let d=i,h=0;for(;d!==s;)h+=r[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-o<t)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function cb(e,t){let r=0,n=1e3/t,s,i;const o=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),e(...c)};return[(...c)=>{const u=Date.now(),d=u-r;d>=n?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-d)))},()=>s&&o(s)]}const si=(e,t,r=3)=>{let n=0;const s=lb(50,250);return cb(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,c=s(l),u=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},r)},Tc=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ac=e=>(...t)=>E.asap(()=>e(...t)),ub=Ge.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ge.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ge.origin),Ge.navigator&&/(msie|trident)/i.test(Ge.navigator.userAgent)):()=>!0,db=Ge.hasStandardBrowserEnv?{write(e,t,r,n,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];E.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),E.isString(n)&&a.push(`path=${n}`),E.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),E.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hb(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fb(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zh(e,t,r){let n=!hb(t);return e&&(n||r==!1)?fb(e,t):t}const Rc=e=>e instanceof it?{...e}:e;function Hr(e,t){t=t||{};const r={};function n(c,u,d,h){return E.isPlainObject(c)&&E.isPlainObject(u)?E.merge.call({caseless:h},c,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function s(c,u,d,h){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c,d,h)}else return n(c,u,d,h)}function i(c,u){if(!E.isUndefined(u))return n(void 0,u)}function o(c,u){if(E.isUndefined(u)){if(!E.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,d){if(d in t)return n(c,u);if(d in e)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,d)=>s(Rc(c),Rc(u),d,!0)};return E.forEach(Object.keys({...e,...t}),function(u){const d=l[u]||s,h=d(e[u],t[u],u);E.isUndefined(h)&&d!==a||(r[u]=h)}),r}const ef=e=>{const t=Hr({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=it.from(o),t.url=Gh(Zh(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),E.isFormData(r)){if(Ge.hasStandardBrowserEnv||Ge.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(E.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,d])=>{c.includes(u.toLowerCase())&&o.set(u,d)})}}if(Ge.hasStandardBrowserEnv&&(n&&E.isFunction(n)&&(n=n(t)),n||n!==!1&&ub(t.url))){const l=s&&i&&db.read(i);l&&o.set(s,l)}return t},pb=typeof XMLHttpRequest<"u",gb=pb&&function(e){return new Promise(function(r,n){const s=ef(e);let i=s.data;const o=it.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,h,f,p;function m(){f&&f(),p&&p(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let y=new XMLHttpRequest;y.open(s.method.toUpperCase(),s.url,!0),y.timeout=s.timeout;function b(){if(!y)return;const w=it.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),P={data:!a||a==="text"||a==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:w,config:e,request:y};Xh(function(U){r(U),m()},function(U){n(U),m()},P),y=null}"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(n(new re("Request aborted",re.ECONNABORTED,e,y)),y=null)},y.onerror=function(O){const P=O&&O.message?O.message:"Network Error",x=new re(P,re.ERR_NETWORK,e,y);x.event=O||null,n(x),y=null},y.ontimeout=function(){let O=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const P=s.transitional||Jh;s.timeoutErrorMessage&&(O=s.timeoutErrorMessage),n(new re(O,P.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,y)),y=null},i===void 0&&o.setContentType(null),"setRequestHeader"in y&&E.forEach(o.toJSON(),function(O,P){y.setRequestHeader(P,O)}),E.isUndefined(s.withCredentials)||(y.withCredentials=!!s.withCredentials),a&&a!=="json"&&(y.responseType=s.responseType),c&&([h,p]=si(c,!0),y.addEventListener("progress",h)),l&&y.upload&&([d,f]=si(l),y.upload.addEventListener("progress",d),y.upload.addEventListener("loadend",f)),(s.cancelToken||s.signal)&&(u=w=>{y&&(n(!w||w.type?new Tn(null,e,y):w),y.abort(),y=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const S=ab(s.url);if(S&&Ge.protocols.indexOf(S)===-1){n(new re("Unsupported protocol "+S+":",re.ERR_BAD_REQUEST,e));return}y.send(i||null)})},mb=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof re?u:new Tn(u instanceof Error?u.message:u))}};let o=t&&setTimeout(()=>{o=null,i(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),e=null)};e.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>E.asap(a),l}},vb=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,s;for(;n<r;)s=n+t,yield e.slice(n,s),n=s},yb=async function*(e,t){for await(const r of wb(e))yield*vb(r,t)},wb=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Cc=(e,t,r,n)=>{const s=yb(e,t);let i=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(r){let h=i+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},xc=64*1024,{isFunction:Ps}=E,_b=(({Request:e,Response:t})=>({Request:e,Response:t}))(E.global),{ReadableStream:Pc,TextEncoder:kc}=E.global,Ic=(e,...t)=>{try{return!!e(...t)}catch{return!1}},bb=e=>{e=E.merge.call({skipUndefined:!0},_b,e);const{fetch:t,Request:r,Response:n}=e,s=t?Ps(t):typeof fetch=="function",i=Ps(r),o=Ps(n);if(!s)return!1;const a=s&&Ps(Pc),l=s&&(typeof kc=="function"?(p=>m=>p.encode(m))(new kc):async p=>new Uint8Array(await new r(p).arrayBuffer())),c=i&&a&&Ic(()=>{let p=!1;const m=new r(Ge.origin,{body:new Pc,method:"POST",get duplex(){return p=!0,"half"}}).headers.has("Content-Type");return p&&!m}),u=o&&a&&Ic(()=>E.isReadableStream(new n("").body)),d={stream:u&&(p=>p.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(p=>{!d[p]&&(d[p]=(m,y)=>{let b=m&&m[p];if(b)return b.call(m);throw new re(`Response type '${p}' is not supported`,re.ERR_NOT_SUPPORT,y)})});const h=async p=>{if(p==null)return 0;if(E.isBlob(p))return p.size;if(E.isSpecCompliantForm(p))return(await new r(Ge.origin,{method:"POST",body:p}).arrayBuffer()).byteLength;if(E.isArrayBufferView(p)||E.isArrayBuffer(p))return p.byteLength;if(E.isURLSearchParams(p)&&(p=p+""),E.isString(p))return(await l(p)).byteLength},f=async(p,m)=>{const y=E.toFiniteNumber(p.getContentLength());return y??h(m)};return async p=>{let{url:m,method:y,data:b,signal:S,cancelToken:w,timeout:O,onDownloadProgress:P,onUploadProgress:x,responseType:U,headers:V,withCredentials:I="same-origin",fetchOptions:Y}=ef(p),le=t||fetch;U=U?(U+"").toLowerCase():"text";let $=mb([S,w&&w.toAbortSignal()],O),ne=null;const me=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let Ue;try{if(x&&c&&y!=="get"&&y!=="head"&&(Ue=await f(V,b))!==0){let Ne=new r(m,{method:"POST",body:b,duplex:"half"}),Re;if(E.isFormData(b)&&(Re=Ne.headers.get("content-type"))&&V.setContentType(Re),Ne.body){const[$t,St]=Tc(Ue,si(Ac(x)));b=Cc(Ne.body,xc,$t,St)}}E.isString(I)||(I=I?"include":"omit");const ie=i&&"credentials"in r.prototype,Z={...Y,signal:$,method:y.toUpperCase(),headers:V.normalize().toJSON(),body:b,duplex:"half",credentials:ie?I:void 0};ne=i&&new r(m,Z);let se=await(i?le(ne,Y):le(m,Z));const mt=u&&(U==="stream"||U==="response");if(u&&(P||mt&&me)){const Ne={};["status","statusText","headers"].forEach(Dt=>{Ne[Dt]=se[Dt]});const Re=E.toFiniteNumber(se.headers.get("content-length")),[$t,St]=P&&Tc(Re,si(Ac(P),!0))||[];se=new n(Cc(se.body,xc,$t,()=>{St&&St(),me&&me()}),Ne)}U=U||"text";let Nt=await d[E.findKey(d,U)||"text"](se,p);return!mt&&me&&me(),await new Promise((Ne,Re)=>{Xh(Ne,Re,{data:Nt,headers:it.from(se.headers),status:se.status,statusText:se.statusText,config:p,request:ne})})}catch(ie){throw me&&me(),ie&&ie.name==="TypeError"&&/Load failed|fetch/i.test(ie.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,p,ne),{cause:ie.cause||ie}):re.from(ie,ie&&ie.code,p,ne)}}},Eb=new Map,tf=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:s}=t,i=[n,s,r];let o=i.length,a=o,l,c,u=Eb;for(;a--;)l=i[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:bb(t)),u=c;return c};tf();const Pa={http:B_,xhr:gb,fetch:{get:tf}};E.forEach(Pa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jc=e=>`- ${e}`,Sb=e=>E.isFunction(e)||e===null||e===!1;function Ob(e,t){e=E.isArray(e)?e:[e];const{length:r}=e;let n,s;const i={};for(let o=0;o<r;o++){n=e[o];let a;if(s=n,!Sb(n)&&(s=Pa[(a=String(n)).toLowerCase()],s===void 0))throw new re(`Unknown adapter '${a}'`);if(s&&(E.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(jc).join(`
`):" "+jc(o[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const rf={getAdapter:Ob,adapters:Pa};function io(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tn(null,e)}function Nc(e){return io(e),e.headers=it.from(e.headers),e.data=so.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rf.getAdapter(e.adapter||ps.adapter,e)(e).then(function(n){return io(e),n.data=so.call(e,e.transformResponse,n),n.headers=it.from(n.headers),n},function(n){return Yh(n)||(io(e),n&&n.response&&(n.response.data=so.call(e,e.transformResponse,n.response),n.response.headers=it.from(n.response.headers))),Promise.reject(n)})}const nf="1.13.1",Ai={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ai[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const $c={};Ai.transitional=function(t,r,n){function s(i,o){return"[Axios v"+nf+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(t===!1)throw new re(s(o," has been removed"+(r?" in "+r:"")),re.ERR_DEPRECATED);return r&&!$c[o]&&($c[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,o,a):!0}};Ai.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Tb(e,t,r){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let s=n.length;for(;s-- >0;){const i=n[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new re("option "+i+" must be "+l,re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new re("Unknown option "+i,re.ERR_BAD_OPTION)}}const Bs={assertOptions:Tb,validators:Ai},Ft=Bs.validators;let Vr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Sc,response:new Sc}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Hr(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&Bs.assertOptions(n,{silentJSONParsing:Ft.transitional(Ft.boolean),forcedJSONParsing:Ft.transitional(Ft.boolean),clarifyTimeoutError:Ft.transitional(Ft.boolean)},!1),s!=null&&(E.isFunction(s)?r.paramsSerializer={serialize:s}:Bs.assertOptions(s,{encode:Ft.function,serialize:Ft.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bs.assertOptions(r,{baseUrl:Ft.spelling("baseURL"),withXsrfToken:Ft.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&E.merge(i.common,i[r.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],p=>{delete i[p]}),r.headers=it.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(r)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const p=[Nc.bind(this),void 0];for(p.unshift(...a),p.push(...c),h=p.length,u=Promise.resolve(r);d<h;)u=u.then(p[d++],p[d++]);return u}h=a.length;let f=r;for(;d<h;){const p=a[d++],m=a[d++];try{f=p(f)}catch(y){m.call(this,y);break}}try{u=Nc.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=Hr(this.defaults,t);const r=Zh(t.baseURL,t.url,t.allowAbsoluteUrls);return Gh(r,t.params,t.paramsSerializer)}};E.forEach(["delete","get","head","options"],function(t){Vr.prototype[t]=function(r,n){return this.request(Hr(n||{},{method:t,url:r,data:(n||{}).data}))}});E.forEach(["post","put","patch"],function(t){function r(n){return function(i,o,a){return this.request(Hr(a||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Vr.prototype[t]=r(),Vr.prototype[t+"Form"]=r(!0)});let Ab=class sf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i,o,a){n.reason||(n.reason=new Tn(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new sf(function(s){t=s}),cancel:t}}};function Rb(e){return function(r){return e.apply(null,r)}}function Cb(e){return E.isObject(e)&&e.isAxiosError===!0}const qo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(qo).forEach(([e,t])=>{qo[t]=e});function of(e){const t=new Vr(e),r=Dh(Vr.prototype.request,t);return E.extend(r,Vr.prototype,t,{allOwnKeys:!0}),E.extend(r,t,null,{allOwnKeys:!0}),r.create=function(s){return of(Hr(e,s))},r}const ke=of(ps);ke.Axios=Vr;ke.CanceledError=Tn;ke.CancelToken=Ab;ke.isCancel=Yh;ke.VERSION=nf;ke.toFormData=Ti;ke.AxiosError=re;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=Rb;ke.isAxiosError=Cb;ke.mergeConfig=Hr;ke.AxiosHeaders=it;ke.formToJSON=e=>Qh(E.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=rf.getAdapter;ke.HttpStatusCode=qo;ke.default=ke;const{Axios:vS,AxiosError:yS,CanceledError:wS,isCancel:_S,CancelToken:bS,VERSION:ES,all:SS,Cancel:OS,isAxiosError:TS,spread:AS,toFormData:RS,AxiosHeaders:CS,HttpStatusCode:xS,formToJSON:PS,getAdapter:kS,mergeConfig:IS}=ke,Ve=ke.create({baseURL:"/api"});Ve.interceptors.request.use(async e=>{const{data:{session:t}}=await fr.auth.getSession();return t!=null&&t.access_token&&(e.headers.Authorization=`Bearer ${t.access_token}`),e});const gs=ga("auth",{state:()=>({user:null,profile:null,loading:!1}),getters:{isAuthenticated:e=>!!e.user,isSeller:e=>{var t,r;return((t=e.profile)==null?void 0:t.role)==="seller"||((r=e.profile)==null?void 0:r.role)==="admin"},isApproved:e=>{var t,r,n;return((t=e.profile)==null?void 0:t.role)==="seller"&&((r=e.profile)==null?void 0:r.approved)||((n=e.profile)==null?void 0:n.role)==="admin"},isAdmin:e=>{var t;return((t=e.profile)==null?void 0:t.role)==="admin"}},actions:{async initialize(){this.loading=!0;try{const{data:{user:e}}=await fr.auth.getUser();e&&(this.user=e,await this.fetchProfile())}catch(e){console.error("Auth initialization error:",e)}finally{this.loading=!1}},async fetchProfile(){if(this.user)try{const e=await Ve.get(`auth/profile/${this.user.id}`);this.profile=e.data}catch(e){console.error("Profile fetch error:",e)}},async signUp(e,t,r){try{const{data:n,error:s}=await fr.auth.signUp({email:e,password:t,options:{data:r}});if(s)throw s;return n.user&&(n.user.email_confirmed_at||n.session)&&(this.user=n.user,await this.fetchProfile()),n}catch(n){throw n}},async createProfileAfterConfirmation(e){var t,r;try{await Ve.post("/auth/create-profile",{user_id:e.id,email:e.email,display_name:((t=e.user_metadata)==null?void 0:t.display_name)||e.email.split("@")[0],role:((r=e.user_metadata)==null?void 0:r.role)||"buyer"}),this.user=e,await this.fetchProfile()}catch(n){throw console.error("Profile creation after confirmation error:",n),n}},async signIn(e,t){try{const{data:r,error:n}=await fr.auth.signInWithPassword({email:e,password:t});if(n)throw n;return this.user=r.user,await this.fetchProfile(),r}catch(r){throw r}},async signOut(){try{await fr.auth.signOut(),this.user=null,this.profile=null}catch(e){throw e}},async resetPassword(e){try{const{error:t}=await fr.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});if(t)throw t}catch(t){throw t}},async updatePassword(e){try{const{error:t}=await fr.auth.updateUser({password:e});if(t)throw t}catch(t){throw t}},async validateResetSession(){try{const{data:{user:e},error:t}=await fr.auth.getUser();if(t||!e)throw new Error("Invalid session");return this.user=e,e}catch(e){throw e}}}}),ka=ga("wishlist",{state:()=>({items:[],loading:!1,initialized:!1,wishlistIds:new Set,error:null}),getters:{itemCount:e=>e.items.length,totalValue:e=>e.items.reduce((t,r)=>{var n;return t+parseFloat(((n=r.cards)==null?void 0:n.market_price)||0)},0).toFixed(2),isInWishlist:e=>t=>e.wishlistIds.has(t),isReady:e=>e.initialized&&!e.loading},actions:{async fetchWishlist(){if(this.initialized&&!this.error)return this.items;if(this.loading)return new Promise((e,t)=>{const r=()=>{this.loading?setTimeout(r,50):this.error?t(this.error):e(this.items)};r()});this.loading=!0,this.error=null;try{const e=await Ve.get("/wishlist");return this.items=e.data||[],this.wishlistIds=new Set(this.items.map(t=>t.card_id)),this.initialized=!0,console.log("✅ Wishlist fetched successfully:",this.items.length,"items"),this.items}catch(e){return console.error("❌ Error fetching wishlist:",e),this.error=e,this.items=[],this.wishlistIds=new Set,this.initialized=!0,this.items}finally{this.loading=!1}},async refresh(){return this.initialized=!1,this.error=null,await this.fetchWishlist()},reset(){this.items=[],this.wishlistIds=new Set,this.loading=!1,this.initialized=!1,this.error=null},async safeAddToWishlist(e,t={}){var r;try{if(this.initialized||await this.initialize(),this.isInWishlist(e))return{success:!1,alreadyExists:!0,message:"Card is already in your wishlist"};const n=await Ve.post("/wishlist",{card_id:e,max_price:t.maxPrice||null,condition_preference:t.conditionPreference||null});return this.items.push(n.data),this.wishlistIds.add(e),{success:!0,data:n.data,message:"Added to wishlist"}}catch(n){return console.error("Error adding to wishlist:",n),((r=n.response)==null?void 0:r.status)===409?{success:!1,alreadyExists:!0,message:"Card is already in your wishlist"}:{success:!1,error:n.message,message:"Failed to add to wishlist"}}},async addToWishlist(e,t={}){const r=await this.safeAddToWishlist(e,t);if(!r.success&&!r.alreadyExists)throw new Error(r.message);return r.data},async removeFromWishlist(e){try{await Ve.delete(`/wishlist/${e}`),this.items=this.items.filter(t=>t.card_id!==e),this.wishlistIds.delete(e)}catch(t){throw console.error("Error removing from wishlist:",t),t}},async updateWishlistItem(e,t){try{const r=await Ve.put(`/wishlist/${e}`,t),n=this.items.findIndex(s=>s.card_id===e);return n!==-1&&(this.items[n]={...this.items[n],...r.data}),r.data}catch(r){throw console.error("Error updating wishlist item:",r),r}},async clearWishlist(){try{await Ve.delete("/wishlist"),this.items=[],this.wishlistIds.clear()}catch(e){throw console.error("Error clearing wishlist:",e),e}},async addItemToCart(e,t=1){try{const n=(await Ve.get(`/cards/${e}/listings`)).data;if(n.length===0)throw new Error("No listings available for this card");const s=n.find(a=>a.quantity>=t&&a.status==="active");if(!s)throw new Error("No listings with sufficient quantity available");const{useCartStore:i}=await Se(async()=>{const{useCartStore:a}=await Promise.resolve().then(()=>A0);return{useCartStore:a}},void 0);return await i().addItem(s.id,t),s}catch(r){throw console.error("Error adding wishlist item to cart:",r),r}},async addAllToCart(){const e=[];let t=0,r=0;for(const n of this.items)try{await this.addItemToCart(n.card_id,1),e.push({cardId:n.card_id,success:!0}),t++}catch(s){e.push({cardId:n.card_id,success:!1,error:s.message}),r++}return{results:e,successCount:t,failCount:r,totalItems:this.items.length}}}}),xb=[{path:"/",name:"Home",component:()=>Se(()=>import("./Home-C9LfyXy1.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/cards",name:"Cards",component:()=>Se(()=>import("./Cards-ByMpxt0a.js"),__vite__mapDeps([6,1,2,3,4,7,8]))},{path:"/card/:id",name:"CardDetail",component:()=>Se(()=>import("./CardDetail-Bf7cz8O_.js"),__vite__mapDeps([9,10,2,3,4,11]))},{path:"/auth",name:"Auth",component:()=>Se(()=>import("./Auth-0KiwMJ6O.js"),__vite__mapDeps([12,13,14]))},{path:"/reset-password",name:"ResetPassword",component:()=>Se(()=>import("./ResetPassword-B2HfPj1g.js"),__vite__mapDeps([15,13,14]))},{path:"/dashboard",name:"Dashboard",component:()=>Se(()=>import("./Dashboard-BFuEogei.js"),__vite__mapDeps([16,17,18,5])),meta:{requiresAuth:!0}},{path:"/wishlist",name:"Wishlist",component:()=>Se(()=>import("./Wishlist-CcKjUOEz.js"),__vite__mapDeps([19,14,20,13])),meta:{requiresAuth:!0,preloadWishlist:!0}},{path:"/wishlist/shared/:id",name:"SharedWishlist",component:()=>Se(()=>import("./SharedWishlist-DWsOCKQd.js"),__vite__mapDeps([21,1,2,3,4]))},{path:"/seller/:id",name:"SellerProfile",component:()=>Se(()=>import("./SellerProfile-ZQM4aM_-.js"),[])},{path:"/seller-dashboard",name:"SellerDashboard",component:()=>Se(()=>import("./SellerDashboard-DH99VaPq.js"),__vite__mapDeps([22,23,10,18,13,5,7,8,24,25])),meta:{requiresAuth:!0,requiresSeller:!0}},{path:"/admin",name:"AdminDashboard",component:()=>Se(()=>import("./AdminDashboard-nuS_MQCw.js"),__vite__mapDeps([26,23,14,13,7,8,17,18,27])),meta:{requiresAuth:!0,requiresAdmin:!0}},{path:"/deck-builder",name:"DeckBuilder",component:()=>Se(()=>import("./DeckBuilder-PK7kSq3N.js"),__vite__mapDeps([28,20])),meta:{requiresAuth:!0}},{path:"/cart",name:"Cart",component:()=>Se(()=>import("./Cart-Cm-Bs9-p.js"),__vite__mapDeps([29,24,20]))},{path:"/profile",name:"Profile",component:()=>Se(()=>import("./Profile-CPbBS-pI.js"),__vite__mapDeps([30,31])),meta:{requiresAuth:!0}},{path:"/orders",name:"Orders",component:()=>Se(()=>import("./Orders-B73mhK5q.js"),__vite__mapDeps([32,3,4])),meta:{requiresAuth:!0}},{path:"/scryfall-admin",name:"ScryfallAdmin",component:()=>Se(()=>import("./ScryfallAdmin-BbG04sex.js"),__vite__mapDeps([33,14,13,34])),meta:{requiresAuth:!0}},{path:"/checkout",name:"Checkout",component:()=>Se(()=>import("./Checkout-c_ip0YCU.js"),__vite__mapDeps([35,36])),meta:{requiresAuth:!0,title:"Checkout - MTG Marketplace"}},{path:"/orders/:id",name:"OrderConfirmation",component:()=>Se(()=>import("./OrderConfirmation-kgKdi9Dy.js"),__vite__mapDeps([37,38])),meta:{requiresAuth:!0,title:"Order Confirmation - MTG Marketplace"}}],af=xv({history:av(),routes:xb});af.beforeEach(async(e,t,r)=>{const n=gs();if(e.meta.requiresAuth&&!n.isAuthenticated){r({name:"Auth",query:{redirect:e.fullPath}});return}if(e.meta.requiresSeller&&!n.isSeller){r("/dashboard");return}if(e.meta.requiresAdmin&&!n.isAdmin){r("/dashboard");return}if(e.meta.preloadWishlist&&n.isAuthenticated){const s=ka();if(!s.initialized)try{await s.initialize()}catch(i){console.error("Failed to preload wishlist:",i)}}r()});var Pb=Object.defineProperty,Dc=Object.getOwnPropertySymbols,kb=Object.prototype.hasOwnProperty,Ib=Object.prototype.propertyIsEnumerable,Lc=(e,t,r)=>t in e?Pb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lf=(e,t)=>{for(var r in t||(t={}))kb.call(t,r)&&Lc(e,r,t[r]);if(Dc)for(var r of Dc(t))Ib.call(t,r)&&Lc(e,r,t[r]);return e},Ri=e=>typeof e=="function",Ci=e=>typeof e=="string",cf=e=>Ci(e)&&e.trim().length>0,jb=e=>typeof e=="number",Br=e=>typeof e>"u",ts=e=>typeof e=="object"&&e!==null,Nb=e=>Kt(e,"tag")&&cf(e.tag),uf=e=>window.TouchEvent&&e instanceof TouchEvent,df=e=>Kt(e,"component")&&hf(e.component),$b=e=>Ri(e)||ts(e),hf=e=>!Br(e)&&(Ci(e)||$b(e)||df(e)),Uc=e=>ts(e)&&["height","width","right","left","top","bottom"].every(t=>jb(e[t])),Kt=(e,t)=>(ts(e)||Ri(e))&&t in e,Db=(e=>()=>e++)(0);function oo(e){return uf(e)?e.targetTouches[0].clientX:e.clientX}function Bc(e){return uf(e)?e.targetTouches[0].clientY:e.clientY}var Lb=e=>{Br(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},ms=e=>df(e)?ms(e.component):Nb(e)?gt({render(){return e}}):typeof e=="string"?e:de(ae(e)),Ub=e=>{if(typeof e=="string")return e;const t=Kt(e,"props")&&ts(e.props)?e.props:{},r=Kt(e,"listeners")&&ts(e.listeners)?e.listeners:{};return{component:ms(e),props:t,listeners:r}},Bb=()=>typeof window<"u",Ia=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){this.getHandlers(e).forEach(n=>n(t))}},Mb=e=>["on","off","emit"].every(t=>Kt(e,t)&&Ri(e[t])),dt;(function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info",e.DEFAULT="default"})(dt||(dt={}));var ii;(function(e){e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"})(ii||(ii={}));var ht;(function(e){e.ADD="add",e.DISMISS="dismiss",e.UPDATE="update",e.CLEAR="clear",e.UPDATE_DEFAULTS="update_defaults"})(ht||(ht={}));var Ct="Vue-Toastification",Rt={type:{type:String,default:dt.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},ff={type:Rt.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Ms={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Rt.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Ho={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},pf={transition:{type:[Object,String],default:`${Ct}__bounce`}},Fb={position:{type:String,default:ii.TOP_RIGHT},draggable:Rt.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Rt.trueBoolean,pauseOnHover:Rt.trueBoolean,closeOnClick:Rt.trueBoolean,timeout:Ho.timeout,hideProgressBar:Ho.hideProgressBar,toastClassName:Rt.classNames,bodyClassName:Rt.classNames,icon:ff.customIcon,closeButton:Ms.component,closeButtonClassName:Ms.classNames,showCloseButtonOnHover:Ms.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Ia}},Vb={id:{type:[String,Number],required:!0,default:0},type:Rt.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},qb={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Rt.trueBoolean,maxToasts:{type:Number,default:20},transition:pf.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Rt.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},nr={CORE_TOAST:Fb,TOAST:Vb,CONTAINER:qb,PROGRESS_BAR:Ho,ICON:ff,TRANSITION:pf,CLOSE_BUTTON:Ms},gf=gt({name:"VtProgressBar",props:nr.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:`${this.timeout}ms`,animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?`${Ct}__progress-bar`:""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Hb(e,t){return q(),oe("div",{style:ss(e.style),class:zt(e.cpClass)},null,6)}gf.render=Hb;var Wb=gf,mf=gt({name:"VtCloseButton",props:nr.CLOSE_BUTTON,computed:{buttonComponent(){return this.component!==!1?ms(this.component):"button"},classes(){const e=[`${Ct}__close-button`];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Kb=Be(" × ");function zb(e,t){return q(),Ke(ca(e.buttonComponent),gi({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:he(()=>[Kb]),_:1},16,["aria-label","class"])}mf.render=zb;var Gb=mf,vf={},Jb={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Qb=K("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Yb=[Qb];function Xb(e,t){return q(),oe("svg",Jb,Yb)}vf.render=Xb;var Zb=vf,yf={},e0={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},t0=K("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),r0=[t0];function n0(e,t){return q(),oe("svg",e0,r0)}yf.render=n0;var Mc=yf,wf={},s0={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i0=K("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),o0=[i0];function a0(e,t){return q(),oe("svg",s0,o0)}wf.render=a0;var l0=wf,_f={},c0={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},u0=K("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),d0=[u0];function h0(e,t){return q(),oe("svg",c0,d0)}_f.render=h0;var f0=_f,bf=gt({name:"VtIcon",props:nr.ICON,computed:{customIconChildren(){return Kt(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Ci(this.customIcon)?this.trimValue(this.customIcon):Kt(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Kt(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:hf(this.customIcon)?ms(this.customIcon):this.iconTypeComponent},iconTypeComponent(){return{[dt.DEFAULT]:Mc,[dt.INFO]:Mc,[dt.SUCCESS]:Zb,[dt.ERROR]:f0,[dt.WARNING]:l0}[this.type]},iconClasses(){const e=[`${Ct}__icon`];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return cf(e)?e.trim():t}}});function p0(e,t){return q(),Ke(ca(e.component),{class:zt(e.iconClasses)},{default:he(()=>[Be(nt(e.customIconChildren),1)]),_:1},8,["class"])}bf.render=p0;var g0=bf,Ef=gt({name:"VtToast",components:{ProgressBar:Wb,CloseButton:Gb,Icon:g0},inheritAttrs:!1,props:Object.assign({},nr.CORE_TOAST,nr.TOAST),data(){return{isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}}},computed:{classes(){const e=[`${Ct}__toast`,`${Ct}__toast--${this.type}`,`${this.position}`].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(`${Ct}__toast--rtl`),e},bodyClasses(){return[`${Ct}__toast-${Ci(this.content)?"body":"component-body"}`].concat(this.bodyClassName)},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Uc(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Kt,getVueComponentFromObj:ms,closeToast(){this.eventBus.emit(ht.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(!this.beingDragged||this.dragStart===this.dragPos.x)&&this.closeToast()},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:oo(e),y:Bc(e)},this.dragStart=oo(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:oo(e),y:Bc(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Uc(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),m0=["role"];function v0(e,t){const r=rr("Icon"),n=rr("CloseButton"),s=rr("ProgressBar");return q(),oe("div",{class:zt(e.classes),style:ss(e.draggableStyle),onClick:t[0]||(t[0]=(...i)=>e.clickHandler&&e.clickHandler(...i)),onMouseenter:t[1]||(t[1]=(...i)=>e.hoverPause&&e.hoverPause(...i)),onMouseleave:t[2]||(t[2]=(...i)=>e.hoverPlay&&e.hoverPlay(...i))},[e.icon?(q(),Ke(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Xe("v-if",!0),K("div",{role:e.accessibility.toastRole||"alert",class:zt(e.bodyClasses)},[typeof e.content=="string"?(q(),oe(je,{key:0},[Be(nt(e.content),1)],2112)):(q(),Ke(ca(e.getVueComponentFromObj(e.content)),gi({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},qp(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,m0),e.closeButton?(q(),Ke(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:dd(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Xe("v-if",!0),e.timeout?(q(),Ke(s,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Xe("v-if",!0)],38)}Ef.render=v0;var y0=Ef,Sf=gt({name:"VtTransition",props:nr.TRANSITION,emits:["leave"],methods:{hasProp:Kt,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function w0(e,t){return q(),Ke(nm,{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:`${e.transition}-enter-active`,"move-class":e.transition.move?e.transition.move:`${e.transition}-move`,"leave-active-class":e.transition.leave?e.transition.leave:`${e.transition}-leave-active`,onLeave:e.leave},{default:he(()=>[Vp(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Sf.render=w0;var _0=Sf,Of=gt({name:"VueToastification",devtools:{hide:!0},components:{Toast:y0,VtTransition:_0},props:Object.assign({},nr.CORE_TOAST,nr.CONTAINER,nr.TRANSITION),data(){return{count:0,positions:Object.values(ii),toasts:{},defaults:{}}},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(ht.ADD,this.addToast),e.on(ht.CLEAR,this.clearToasts),e.on(ht.DISMISS,this.dismissToast),e.on(ht.UPDATE,this.updateToast),e.on(ht.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Ri(e)&&(e=await e()),Lb(this.$el),e.appendChild(this.$el)},setToast(e){Br(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Ub(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];!Br(t)&&!Br(t.onClose)&&t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(r=>r.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Br(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){return[`${Ct}__container`,e].concat(this.defaults.containerClassName)}}});function b0(e,t){const r=rr("Toast"),n=rr("VtTransition");return q(),oe("div",null,[(q(!0),oe(je,null,Gs(e.positions,s=>(q(),oe("div",{key:s},[Q(n,{transition:e.defaults.transition,class:zt(e.getClasses(s))},{default:he(()=>[(q(!0),oe(je,null,Gs(e.getPositionToasts(s),i=>(q(),Ke(r,gi({key:i.id},i),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Of.render=b0;var E0=Of,Fc=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new Ia;t&&_t(()=>{const i=hd(E0,lf({},e)),o=i.mount(document.createElement("div")),a=e.onMounted;if(Br(a)||a(o,i),e.shareAppContext){const l=e.shareAppContext;l===!0?console.warn(`[${Ct}] App to share context with was not provided.`):(i._context.components=l._context.components,i._context.directives=l._context.directives,i._context.mixins=l._context.mixins,i._context.provides=l._context.provides,i.config.globalProperties=l.config.globalProperties)}});const n=(i,o)=>{const a=Object.assign({},{id:Db(),type:dt.DEFAULT},o,{content:i});return r.emit(ht.ADD,a),a.id};n.clear=()=>r.emit(ht.CLEAR,void 0),n.updateDefaults=i=>{r.emit(ht.UPDATE_DEFAULTS,i)},n.dismiss=i=>{r.emit(ht.DISMISS,i)};function s(i,{content:o,options:a},l=!1){const c=Object.assign({},a,{content:o});r.emit(ht.UPDATE,{id:i,options:c,create:l})}return n.update=s,n.success=(i,o)=>n(i,Object.assign({},o,{type:dt.SUCCESS})),n.info=(i,o)=>n(i,Object.assign({},o,{type:dt.INFO})),n.error=(i,o)=>n(i,Object.assign({},o,{type:dt.ERROR})),n.warning=(i,o)=>n(i,Object.assign({},o,{type:dt.WARNING})),n},S0=()=>{const e=()=>console.warn(`[${Ct}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Tf(e){return Bb()?Mb(e)?Fc({eventBus:e},!1):Fc(e,!0):S0()}var Af=Symbol("VueToastification"),Rf=new Ia,O0=(e,t)=>{(t==null?void 0:t.shareAppContext)===!0&&(t.shareAppContext=e);const r=Tf(lf({eventBus:Rf},t));e.provide(Af,r)},ja=e=>{const t=ls()?Je(Af,void 0):void 0;return t||Tf(Rf)},T0=O0;const Na=ga("cart",{state:()=>({items:[],summary:{itemCount:0,subtotal:"0.00",estimatedShipping:"0.00",tax:"0.00",total:"0.00",uniqueSellers:0},loading:!1}),getters:{itemCount:e=>e.items.length,totalPrice:e=>parseFloat(e.summary.total),isInCart:e=>t=>e.items.some(r=>r.listing_id===t)},actions:{async fetchCart(){var e;this.loading=!0;try{const[t,r]=await Promise.all([Ve.get("/cart"),Ve.get("/cart/summary")]);this.items=t.data,this.summary=r.data}catch(t){if(console.error("Error fetching cart:",t),((e=t.response)==null?void 0:e.status)!==401)throw t}finally{this.loading=!1}},async addItem(e,t=1){try{await Ve.post("/cart/add",{listing_id:e,quantity:t}),await this.fetchCart()}catch(r){throw r}},async updateQuantity(e,t){try{t<=0?await this.removeItem(e):(await Ve.put(`/cart/${e}`,{quantity:t}),await this.fetchCart())}catch(r){throw r}},async removeItem(e){try{await Ve.delete(`/cart/${e}`),await this.fetchCart()}catch(t){throw t}},async clearCart(){try{await Ve.delete("/cart"),this.resetState()}catch(e){throw e}},resetState(){this.items=[],this.summary={itemCount:0,subtotal:"0.00",estimatedShipping:"0.00",tax:"0.00",total:"0.00",uniqueSellers:0},this.loading=!1},$reset(){this.resetState()}}}),A0=Object.freeze(Object.defineProperty({__proto__:null,useCartStore:Na},Symbol.toStringTag,{value:"Module"}));var Vc;let R0=Symbol("headlessui.useid"),C0=0;const $a=(Vc=Ip)!=null?Vc:function(){return Je(R0,()=>`${++C0}`)()};function Ce(e){var t;if(e==null||e.value==null)return null;let r=(t=e.value.$el)!=null?t:e.value;return r instanceof Node?r:null}function xi(e,t,...r){if(e in t){let s=t[e];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xi),n}var x0=Object.defineProperty,P0=(e,t,r)=>t in e?x0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qc=(e,t,r)=>(P0(e,typeof t!="symbol"?t+"":t,r),r);let k0=class{constructor(){qc(this,"current",this.detect()),qc(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},Da=new k0;function La(e){if(Da.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=Ce(e);if(t)return t.ownerDocument}return document}let Wo=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Ko=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Ko||{}),I0=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(I0||{}),j0=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(j0||{});function Cf(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Wo)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Ua=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Ua||{});function Ba(e,t=0){var r;return e===((r=La(e))==null?void 0:r.body)?!1:xi(t,{0(){return e.matches(Wo)},1(){let n=e;for(;n!==null;){if(n.matches(Wo))return!0;n=n.parentElement}return!1}})}function xf(e){let t=La(e);_t(()=>{t&&!Ba(t.activeElement,0)&&$0(e)})}var N0=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(N0||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function $0(e){e==null||e.focus({preventScroll:!0})}let D0=["textarea","input"].join(",");function L0(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,D0))!=null?r:!1}function Pf(e,t=r=>r){return e.slice().sort((r,n)=>{let s=t(r),i=t(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function U0(e,t){return B0(Cf(),t,{relativeTo:e})}function B0(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){var i;let o=(i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?i:document,a=Array.isArray(e)?r?Pf(e):e:Cf(e);s.length>0&&a.length>1&&(a=a.filter(p=>!s.includes(p))),n=n??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(n))-1;if(t&4)return Math.max(0,a.indexOf(n))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,h=a.length,f;do{if(d>=h||d+h<=0)return 0;let p=c+d;if(t&16)p=(p+h)%h;else{if(p<0)return 3;if(p>=h)return 1}f=a[p],f==null||f.focus(u),d+=l}while(f!==o.activeElement);return t&6&&L0(f)&&f.select(),2}function M0(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function F0(){return/Android/gi.test(window.navigator.userAgent)}function V0(){return M0()||F0()}function ks(e,t,r){Da.isServer||as(n=>{document.addEventListener(e,t,r),n(()=>document.removeEventListener(e,t,r))})}function q0(e,t,r){Da.isServer||as(n=>{window.addEventListener(e,t,r),n(()=>window.removeEventListener(e,t,r))})}function H0(e,t,r=xe(()=>!0)){function n(i,o){if(!r.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function c(u){return typeof u=="function"?c(u()):Array.isArray(u)||u instanceof Set?u:[u]}(e);for(let c of l){if(c===null)continue;let u=c instanceof HTMLElement?c:Ce(c);if(u!=null&&u.contains(a)||i.composed&&i.composedPath().includes(u))return}return!Ba(a,Ua.Loose)&&a.tabIndex!==-1&&i.preventDefault(),t(i,a)}let s=Ee(null);ks("pointerdown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),ks("mousedown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),ks("click",i=>{V0()||s.value&&(n(i,()=>s.value),s.value=null)},!0),ks("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),q0("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Hc(e,t){if(e)return e;let r=t??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function W0(e,t){let r=Ee(Hc(e.value.type,e.value.as));return Wr(()=>{r.value=Hc(e.value.type,e.value.as)}),as(()=>{var n;r.value||Ce(t)&&Ce(t)instanceof HTMLButtonElement&&!((n=Ce(t))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}function Wc(e){return[e.screenX,e.screenY]}function K0(){let e=Ee([-1,-1]);return{wasMoved(t){let r=Wc(t);return e.value[0]===r[0]&&e.value[1]===r[1]?!1:(e.value=r,!0)},update(t){e.value=Wc(t)}}}function z0({container:e,accept:t,walk:r,enabled:n}){as(()=>{let s=e.value;if(!s||n!==void 0&&!n.value)return;let i=La(e);if(!i)return;let o=Object.assign(l=>t(l),{acceptNode:t}),a=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)r(a.currentNode)})}var zo=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(zo||{}),G0=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(G0||{});function Pi({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...s}){var i;let o=If(n,r),a=Object.assign(s,{props:o});if(e||t&2&&o.static)return ao(a);if(t&1){let l=(i=o.unmount)==null||i?0:1;return xi(l,{0(){return null},1(){return ao({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return ao(a)}function ao({props:e,attrs:t,slots:r,slot:n,name:s}){var i,o;let{as:a,...l}=J0(e,["unmount","static"]),c=(i=r.default)==null?void 0:i.call(r,n),u={};if(n){let d=!1,h=[];for(let[f,p]of Object.entries(n))typeof p=="boolean"&&(d=!0),p===!0&&h.push(f);d&&(u["data-headlessui-state"]=h.join(" "))}if(a==="template"){if(c=kf(c??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[d,...h]=c??[];if(!Q0(d)||h.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(m=>m.trim()).filter((m,y,b)=>b.indexOf(m)===y).sort((m,y)=>m.localeCompare(y)).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`));let f=If((o=d.props)!=null?o:{},l,u),p=Er(d,f,!0);for(let m in f)m.startsWith("on")&&(p.props||(p.props={}),p.props[m]=f[m]);return p}return Array.isArray(c)&&c.length===1?c[0]:c}return pa(a,Object.assign({},l,u),{default:()=>c})}function kf(e){return e.flatMap(t=>t.type===je?kf(t.children):[t])}function If(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):t[s]=n[s];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](s,...i){let o=r[n];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...i)}}});return t}function J0(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function Q0(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let jf=Symbol("Context");var rs=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(rs||{});function Y0(){return Je(jf,null)}function X0(e){dn(jf,e)}var Me=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Me||{});function Z0(e){throw new Error("Unexpected object: "+e)}var pt=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(pt||{});function eE(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),s=n??-1;switch(e.focus){case 0:{for(let i=0;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 1:{s===-1&&(s=r.length);for(let i=s-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!t.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(t.resolveId(r[i],i,r)===e.id)return i;return n}case 5:return null;default:Z0(e)}}let Kc=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function zc(e){var t,r;let n=(t=e.innerText)!=null?t:"",s=e.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(r=s.innerText)!=null?r:"":n;return Kc.test(o)&&(o=o.replace(Kc,"")),o}function tE(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():zc(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return zc(e).trim()}function rE(e){let t=Ee(""),r=Ee("");return()=>{let n=Ce(e);if(!n)return"";let s=n.innerText;if(t.value===s)return r.value;let i=tE(n).trim().toLowerCase();return t.value=s,r.value=i,i}}var nE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(nE||{}),sE=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(sE||{});function iE(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Nf=Symbol("MenuContext");function ki(e){let t=Je(Nf,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ki),r}return t}let oE=gt({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=Ee(1),s=Ee(null),i=Ee(null),o=Ee([]),a=Ee(""),l=Ee(null),c=Ee(1);function u(h=f=>f){let f=l.value!==null?o.value[l.value]:null,p=Pf(h(o.value.slice()),y=>Ce(y.dataRef.domRef)),m=f?p.indexOf(f):null;return m===-1&&(m=null),{items:p,activeItemIndex:m}}let d={menuState:n,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:c,closeMenu:()=>{n.value=1,l.value=null},openMenu:()=>n.value=0,goToItem(h,f,p){let m=u(),y=eE(h===pt.Specific?{focus:pt.Specific,id:f}:{focus:h},{resolveItems:()=>m.items,resolveActiveIndex:()=>m.activeItemIndex,resolveId:b=>b.id,resolveDisabled:b=>b.dataRef.disabled});a.value="",l.value=y,c.value=p??1,o.value=m.items},search(h){let f=a.value!==""?0:1;a.value+=h.toLowerCase();let p=(l.value!==null?o.value.slice(l.value+f).concat(o.value.slice(0,l.value+f)):o.value).find(y=>y.dataRef.textValue.startsWith(a.value)&&!y.dataRef.disabled),m=p?o.value.indexOf(p):-1;m===-1||m===l.value||(l.value=m,c.value=1)},clearSearch(){a.value=""},registerItem(h,f){let p=u(m=>[...m,{id:h,dataRef:f}]);o.value=p.items,l.value=p.activeItemIndex,c.value=1},unregisterItem(h){let f=u(p=>{let m=p.findIndex(y=>y.id===h);return m!==-1&&p.splice(m,1),p});o.value=f.items,l.value=f.activeItemIndex,c.value=1}};return H0([s,i],(h,f)=>{var p;d.closeMenu(),Ba(f,Ua.Loose)||(h.preventDefault(),(p=Ce(s))==null||p.focus())},xe(()=>n.value===0)),dn(Nf,d),X0(xe(()=>xi(n.value,{0:rs.Open,1:rs.Closed}))),()=>{let h={open:n.value===0,close:d.closeMenu};return Pi({ourProps:{},theirProps:e,slot:h,slots:t,attrs:r,name:"Menu"})}}}),aE=gt({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:t,slots:r,expose:n}){var s;let i=(s=e.id)!=null?s:`headlessui-menu-button-${$a()}`,o=ki("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(d){switch(d.key){case Me.Space:case Me.Enter:case Me.ArrowDown:d.preventDefault(),d.stopPropagation(),o.openMenu(),_t(()=>{var h;(h=Ce(o.itemsRef))==null||h.focus({preventScroll:!0}),o.goToItem(pt.First)});break;case Me.ArrowUp:d.preventDefault(),d.stopPropagation(),o.openMenu(),_t(()=>{var h;(h=Ce(o.itemsRef))==null||h.focus({preventScroll:!0}),o.goToItem(pt.Last)});break}}function l(d){switch(d.key){case Me.Space:d.preventDefault();break}}function c(d){e.disabled||(o.menuState.value===0?(o.closeMenu(),_t(()=>{var h;return(h=Ce(o.buttonRef))==null?void 0:h.focus({preventScroll:!0})})):(d.preventDefault(),o.openMenu(),iE(()=>{var h;return(h=Ce(o.itemsRef))==null?void 0:h.focus({preventScroll:!0})})))}let u=W0(xe(()=>({as:e.as,type:t.type})),o.buttonRef);return()=>{var d;let h={open:o.menuState.value===0},{...f}=e,p={ref:o.buttonRef,id:i,type:u.value,"aria-haspopup":"menu","aria-controls":(d=Ce(o.itemsRef))==null?void 0:d.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:l,onClick:c};return Pi({ourProps:p,theirProps:f,slot:h,attrs:t,slots:r,name:"MenuButton"})}}}),lE=gt({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:t,slots:r,expose:n}){var s;let i=(s=e.id)!=null?s:`headlessui-menu-items-${$a()}`,o=ki("MenuItems"),a=Ee(null);n({el:o.itemsRef,$el:o.itemsRef}),z0({container:xe(()=>Ce(o.itemsRef)),enabled:xe(()=>o.menuState.value===0),accept(h){return h.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:h.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(h){h.setAttribute("role","none")}});function l(h){var f;switch(a.value&&clearTimeout(a.value),h.key){case Me.Space:if(o.searchQuery.value!=="")return h.preventDefault(),h.stopPropagation(),o.search(h.key);case Me.Enter:if(h.preventDefault(),h.stopPropagation(),o.activeItemIndex.value!==null){let p=o.items.value[o.activeItemIndex.value];(f=Ce(p.dataRef.domRef))==null||f.click()}o.closeMenu(),xf(Ce(o.buttonRef));break;case Me.ArrowDown:return h.preventDefault(),h.stopPropagation(),o.goToItem(pt.Next);case Me.ArrowUp:return h.preventDefault(),h.stopPropagation(),o.goToItem(pt.Previous);case Me.Home:case Me.PageUp:return h.preventDefault(),h.stopPropagation(),o.goToItem(pt.First);case Me.End:case Me.PageDown:return h.preventDefault(),h.stopPropagation(),o.goToItem(pt.Last);case Me.Escape:h.preventDefault(),h.stopPropagation(),o.closeMenu(),_t(()=>{var p;return(p=Ce(o.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case Me.Tab:h.preventDefault(),h.stopPropagation(),o.closeMenu(),_t(()=>U0(Ce(o.buttonRef),h.shiftKey?Ko.Previous:Ko.Next));break;default:h.key.length===1&&(o.search(h.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function c(h){switch(h.key){case Me.Space:h.preventDefault();break}}let u=Y0(),d=xe(()=>u!==null?(u.value&rs.Open)===rs.Open:o.menuState.value===0);return()=>{var h,f;let p={open:o.menuState.value===0},{...m}=e,y={"aria-activedescendant":o.activeItemIndex.value===null||(h=o.items.value[o.activeItemIndex.value])==null?void 0:h.id,"aria-labelledby":(f=Ce(o.buttonRef))==null?void 0:f.id,id:i,onKeydown:l,onKeyup:c,role:"menu",tabIndex:0,ref:o.itemsRef};return Pi({ourProps:y,theirProps:m,slot:p,attrs:t,slots:r,features:zo.RenderStrategy|zo.Static,visible:d.value,name:"MenuItems"})}}}),en=gt({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:t,attrs:r,expose:n}){var s;let i=(s=e.id)!=null?s:`headlessui-menu-item-${$a()}`,o=ki("MenuItem"),a=Ee(null);n({el:a,$el:a});let l=xe(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),c=rE(a),u=xe(()=>({disabled:e.disabled,get textValue(){return c()},domRef:a}));Wr(()=>o.registerItem(i,u)),la(()=>o.unregisterItem(i)),as(()=>{o.menuState.value===0&&l.value&&o.activationTrigger.value!==0&&_t(()=>{var b,S;return(S=(b=Ce(a))==null?void 0:b.scrollIntoView)==null?void 0:S.call(b,{block:"nearest"})})});function d(b){if(e.disabled)return b.preventDefault();o.closeMenu(),xf(Ce(o.buttonRef))}function h(){if(e.disabled)return o.goToItem(pt.Nothing);o.goToItem(pt.Specific,i)}let f=K0();function p(b){f.update(b)}function m(b){f.wasMoved(b)&&(e.disabled||l.value||o.goToItem(pt.Specific,i,0))}function y(b){f.wasMoved(b)&&(e.disabled||l.value&&o.goToItem(pt.Nothing))}return()=>{let{disabled:b,...S}=e,w={active:l.value,disabled:b,close:o.closeMenu};return Pi({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,onClick:d,onFocus:h,onPointerenter:p,onMouseenter:p,onPointermove:m,onMousemove:m,onPointerleave:y,onMouseleave:y},theirProps:{...r,...S},slot:w,attrs:r,slots:t,name:"MenuItem"})}}});function cE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function uE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"})])}function dE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function hE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"})])}function fE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})])}function pE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function gE(e,t){return q(),oe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[K("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function mE(){const e=gs(),t=ka();return _r(()=>e.isAuthenticated,async(r,n)=>{r&&!n?!t.initialized&&!t.loading&&await t.fetchWishlist():!r&&n&&t.reset()},{immediate:!0}),Wr(async()=>{e.isAuthenticated&&!t.initialized&&!t.loading&&await t.fetchWishlist()}),{wishlistStore:t,isInitialized:()=>t.initialized,refresh:()=>t.fetchWishlist()}}const vE=(e,t)=>{const r=e.__vccOpts||e;for(const[n,s]of t)r[n]=s;return r},yE={class:"relative flex-1 max-w-md"},wE={key:0,class:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border z-50 max-h-96 overflow-y-auto"},_E={key:0,class:"p-4 text-center text-gray-500"},bE={key:1,class:"p-4 text-center text-gray-500"},EE={key:2},SE={key:0,class:"border-b border-gray-100"},OE=["onClick"],TE=["src","alt"],AE={class:"flex-1 min-w-0"},RE=["innerHTML"],CE={class:"text-xs text-gray-600"},xE={key:0,class:"text-xs text-green-600 font-medium"},PE={class:"text-right"},kE={class:"text-xs text-gray-400"},IE={key:1,class:"border-t border-gray-100"},jE={__name:"SearchBar",props:{debounceMs:{type:Number,default:300}},emits:["search-error"],setup(e,{emit:t}){const r=xd(),n=e,s=t,i=Ee(""),o=Ee([]),a=Ee(!1),l=Ee(!1),c=Ee(-1),u=Ee([]);let d=null;Wr(()=>{const w=localStorage.getItem("mtg-recent-searches");if(w)try{u.value=JSON.parse(w)}catch(O){console.warn("Failed to parse recent searches:",O)}});const h=async()=>{d&&clearTimeout(d),d=setTimeout(async()=>{var O;const w=i.value.trim();if(w.length===0){o.value=[];return}if(!(w.length<2)){l.value=!0,c.value=-1;try{let P;try{P=await Ve.get("/search/suggestions",{params:{q:w,limit:10}}),P.data&&Array.isArray(P.data)&&((O=P.data[0])!=null&&O.type)?o.value=P.data.filter(x=>x.type==="card").map(x=>({id:x.id||Math.random().toString(36),name:x.display||x.value,image_url:x.image,set_number:x.set,type_line:x.type_line||"",rarity:x.rarity||"",market_price:x.market_price||null})):o.value=P.data}catch{P=await Ve.get("/cards",{params:{search:w,limit:10}}),o.value=P.data||[]}if(w.length>=2&&!u.value.includes(w)){u.value.unshift(w),u.value=u.value.slice(0,5);try{localStorage.setItem("mtg-recent-searches",JSON.stringify(u.value))}catch(x){console.warn("Failed to save recent searches:",x)}}}catch(P){console.error("Search error:",P),o.value=[],s("search-error",P.message)}finally{l.value=!1}}},n.debounceMs)},f=()=>{setTimeout(()=>{a.value=!1,c.value=-1},150)},p=()=>{f()},m=()=>{if(c.value>=0&&o.value[c.value]){const w=o.value[c.value];r.push(`/card/${w.id}`),f()}else i.value.trim()&&(r.push(`/search?q=${encodeURIComponent(i.value.trim())}`),f())},y=w=>{if(!(!a.value||o.value.length===0))switch(w.key){case"ArrowDown":w.preventDefault(),c.value=Math.min(c.value+1,o.value.length-1);break;case"ArrowUp":w.preventDefault(),c.value=Math.max(c.value-1,-1);break}},b=w=>{if(!i.value)return w;const O=new RegExp(`(${i.value})`,"gi");return w.replace(O,'<mark class="bg-yellow-200">$1</mark>')},S=w=>({common:"Common",uncommon:"Uncommon",rare:"Rare",mythic:"Mythic Rare"})[w]||w;return _r(i,w=>{w.trim().length===0&&(o.value=[],c.value=-1)}),(w,O)=>{const P=rr("router-link");return q(),oe("div",yE,[Ru(K("input",{"onUpdate:modelValue":O[0]||(O[0]=x=>i.value=x),onInput:h,onFocus:O[1]||(O[1]=x=>a.value=!0),onBlur:p,onKeydown:[Al(f,["escape"]),Al(m,["enter"]),y],type:"text",placeholder:"Search cards...",class:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,544),[[cd,i.value]]),Q(ae(dE),{class:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),a.value&&(o.value.length>0||i.value.length>0)?(q(),oe("div",wE,[l.value?(q(),oe("div",_E,[...O[2]||(O[2]=[K("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"},null,-1),K("span",{class:"mt-2 block"},"Searching...",-1)])])):o.value.length===0&&i.value.length>0?(q(),oe("div",bE,[Q(ae(pE),{class:"h-8 w-8 mx-auto mb-2 text-gray-300"}),Be(' No cards found for "'+nt(i.value)+'" ',1)])):(q(),oe("div",EE,[i.value.length===0&&u.value.length>0?(q(),oe("div",SE,[O[3]||(O[3]=K("div",{class:"px-3 py-2 text-xs font-medium text-gray-500 uppercase tracking-wide"}," Recent Searches ",-1)),(q(!0),oe(je,null,Gs(u.value,x=>(q(),oe("button",{key:x,onClick:U=>{i.value=x,h()},class:"w-full text-left px-3 py-2 hover:bg-gray-50 text-sm text-gray-700 flex items-center"},[Q(ae(cE),{class:"h-4 w-4 mr-2 text-gray-400"}),Be(" "+nt(x),1)],8,OE))),128))])):Xe("",!0),(q(!0),oe(je,null,Gs(o.value,(x,U)=>(q(),oe("div",{key:x.id},[Q(P,{to:`/card/${x.id}`,onClick:f,class:zt([U===c.value?"bg-blue-50":"hover:bg-gray-50","flex items-center space-x-3 p-3 border-b last:border-b-0 transition-colors"])},{default:he(()=>[K("img",{src:x.image_url,alt:x.name,class:"w-10 h-14 object-cover rounded shadow-sm",loading:"lazy"},null,8,TE),K("div",AE,[K("div",{class:"font-medium text-sm truncate",innerHTML:b(x.name)},null,8,RE),K("div",CE,nt(x.set_number)+" • "+nt(S(x.rarity)),1),x.market_price?(q(),oe("div",xE," $"+nt(x.market_price)+" CAD ",1)):Xe("",!0)]),K("div",PE,[K("div",kE,nt(x.type_line),1)])]),_:2},1032,["to","class"])]))),128)),o.value.length>=10?(q(),oe("div",IE,[Q(P,{to:`/search?q=${encodeURIComponent(i.value)}`,onClick:f,class:"block w-full text-center py-3 text-blue-600 hover:bg-blue-50 text-sm font-medium"},{default:he(()=>[Be(' View all results for "'+nt(i.value)+'" ',1)]),_:1},8,["to"])])):Xe("",!0)]))])):Xe("",!0)])}}},NE=vE(jE,[["__scopeId","data-v-0456d4cb"]]),$E={class:"bg-white shadow-lg"},DE={class:"container mx-auto px-4"},LE={class:"flex justify-between items-center py-4"},UE={class:"flex-1 max-w-xl mx-8"},BE={class:"flex items-center space-x-4"},ME={key:0,class:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center transition-all duration-200"},FE={key:0,class:"absolute -top-2 -right-2 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center"},VE={key:2},qE={key:3,class:"relative"},HE={__name:"Navbar",setup(e){const t=gs(),{wishlistStore:r}=mE(),n=Na(),s=ja(),i=async()=>{try{await t.signOut()}catch(o){s.error("Failed to sign out"),console.error("Sign out error:",o)}};return(o,a)=>{const l=rr("router-link");return q(),oe("nav",$E,[K("div",DE,[K("div",LE,[Q(l,{to:"/",class:"flex items-center space-x-2"},{default:he(()=>[...a[0]||(a[0]=[K("span",{class:"text-xl font-bold text-gray-800"},"MTG Marketplace",-1)])]),_:1}),K("div",UE,[Q(NE)]),K("div",BE,[Q(l,{to:"/cards",class:"text-gray-700 hover:text-red-700"},{default:he(()=>[...a[1]||(a[1]=[Be(" Browse Cards ",-1)])]),_:1}),ae(t).isAuthenticated?(q(),Ke(l,{key:0,to:"/deck-builder",class:"text-gray-700 hover:text-red-700"},{default:he(()=>[...a[2]||(a[2]=[Be(" Deck Builder ",-1)])]),_:1})):Xe("",!0),ae(t).isAuthenticated?(q(),Ke(l,{key:1,to:"/wishlist",class:zt(["relative text-gray-700 hover:text-red-700 transition-colors",{"animate-pulse":ae(r).loading&&!ae(r).initialized}])},{default:he(()=>[Q(ae(uE),{class:"h-6 w-6"}),ae(r).itemCount>0?(q(),oe("span",ME,nt(ae(r).itemCount>99?"99+":ae(r).itemCount),1)):Xe("",!0)]),_:1},8,["class"])):Xe("",!0),Q(l,{to:"/cart",class:"relative text-gray-700 hover:text-red-700"},{default:he(()=>[Q(ae(hE),{class:"h-6 w-6"}),ae(n).itemCount>0?(q(),oe("span",FE,nt(ae(n).itemCount),1)):Xe("",!0)]),_:1}),ae(t).isAuthenticated?(q(),oe("div",qE,[Q(ae(oE),{as:"div",class:"relative inline-block text-left"},{default:he(()=>[Q(ae(aE),{class:"flex items-center space-x-2 text-gray-700 hover:text-red-700"},{default:he(()=>[Q(ae(fE),{class:"h-6 w-6"}),K("span",null,nt(ae(t).user.email),1)]),_:1}),Q(ae(lE),{class:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg"},{default:he(()=>[Q(ae(en),null,{default:he(()=>[Q(l,{to:"/dashboard",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},{default:he(()=>[...a[4]||(a[4]=[Be(" Dashboard ",-1)])]),_:1})]),_:1}),Q(ae(en),null,{default:he(()=>[Q(l,{to:"/wishlist",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},{default:he(()=>[...a[5]||(a[5]=[Be(" My Wishlist ",-1)])]),_:1})]),_:1}),ae(t).isSeller?(q(),Ke(ae(en),{key:0},{default:he(()=>[Q(l,{to:"/seller-dashboard",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},{default:he(()=>[...a[6]||(a[6]=[Be(" Seller Dashboard ",-1)])]),_:1})]),_:1})):Xe("",!0),ae(t).isAdmin?(q(),Ke(ae(en),{key:1},{default:he(()=>[Q(l,{to:"/admin",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},{default:he(()=>[...a[7]||(a[7]=[Be(" Admin Panel ",-1)])]),_:1})]),_:1})):Xe("",!0),ae(t).isAdmin?(q(),Ke(ae(en),{key:2},{default:he(()=>[Q(l,{to:"/scryfall-admin",class:"block px-4 py-2 text-gray-700 hover:bg-gray-100"},{default:he(()=>[...a[8]||(a[8]=[Be(" Scryfall Admin ",-1)])]),_:1})]),_:1})):Xe("",!0),Q(ae(en),null,{default:he(()=>[K("button",{onClick:i,class:"block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100"}," Sign Out ")]),_:1})]),_:1})]),_:1})])):(q(),oe("div",VE,[Q(l,{to:"/auth",class:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700"},{default:he(()=>[...a[3]||(a[3]=[Be(" Sign In ",-1)])]),_:1})]))])])])])}}},WE={class:"bg-gray-900 text-white mt-16"},KE={class:"container mx-auto px-4 py-12"},zE={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},GE={class:"space-y-4"},JE={class:"space-y-2 text-sm"},QE={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},YE={class:"bg-white rounded-lg p-6 w-full max-w-md"},XE={class:"flex justify-between items-center mb-4"},ZE={class:"flex space-x-4"},eS=["disabled"],tS={__name:"Footer",setup(e){const t=gs(),r=ja(),n=Ee(!1),s=Ee(""),i=Ee(!1),o=async()=>{i.value=!0;try{await t.resetPassword(s.value),r.success("Password reset link sent to your email!"),n.value=!1,s.value=""}catch{r.error("Failed to send reset email. Please try again.")}finally{i.value=!1}};return(a,l)=>{const c=rr("router-link");return q(),oe("footer",WE,[K("div",KE,[K("div",zE,[l[8]||(l[8]=Bi('<div class="space-y-4"><h3 class="text-xl font-bold">MTG Marketplace</h3><p class="text-gray-400 text-sm"> The premier destination for buying and selling Magic: The Gathering cards worldwide. </p><div class="flex space-x-4"><a href="#" class="text-gray-400 hover:text-white"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a><a href="#" class="text-gray-400 hover:text-white"><svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"></path></svg></a></div></div>',1)),K("div",GE,[l[7]||(l[7]=K("h4",{class:"text-lg font-semibold"},"Quick Links",-1)),K("ul",JE,[K("li",null,[Q(c,{to:"/cards",class:"text-gray-400 hover:text-white"},{default:he(()=>[...l[4]||(l[4]=[Be("Browse Cards",-1)])]),_:1})]),K("li",null,[Q(c,{to:"/deck-builder",class:"text-gray-400 hover:text-white"},{default:he(()=>[...l[5]||(l[5]=[Be("Deck Builder",-1)])]),_:1})]),K("li",null,[Q(c,{to:"/auth",class:"text-gray-400 hover:text-white"},{default:he(()=>[...l[6]||(l[6]=[Be("Sign In",-1)])]),_:1})]),K("li",null,[K("a",{href:"#",onClick:l[0]||(l[0]=u=>n.value=!0),class:"text-gray-400 hover:text-white cursor-pointer"},"Reset Password")])])]),l[9]||(l[9]=Bi('<div class="space-y-4"><h4 class="text-lg font-semibold">Support</h4><ul class="space-y-2 text-sm"><li><a href="#" class="text-gray-400 hover:text-white">Help Center</a></li><li><a href="#" class="text-gray-400 hover:text-white">Contact Us</a></li><li><a href="#" class="text-gray-400 hover:text-white">Shipping Info</a></li><li><a href="#" class="text-gray-400 hover:text-white">Returns</a></li></ul></div><div class="space-y-4"><h4 class="text-lg font-semibold">Legal</h4><ul class="space-y-2 text-sm"><li><a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a></li><li><a href="#" class="text-gray-400 hover:text-white">Terms of Service</a></li><li><a href="#" class="text-gray-400 hover:text-white">Seller Agreement</a></li><li><a href="#" class="text-gray-400 hover:text-white">Cookie Policy</a></li></ul></div>',2))]),l[10]||(l[10]=Bi('<div class="border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center"><p class="text-gray-400 text-sm"> © 2024 MTG Marketplace. All rights reserved. </p><div class="flex items-center space-x-4 mt-4 md:mt-0"><span class="text-gray-400 text-sm">Powered by</span><div class="flex items-center space-x-2"></div></div></div>',1))]),n.value?(q(),oe("div",QE,[K("div",YE,[K("div",XE,[l[11]||(l[11]=K("h3",{class:"text-lg font-semibold text-gray-900"},"Reset Password",-1)),K("button",{onClick:l[1]||(l[1]=u=>n.value=!1),class:"text-gray-500 hover:text-gray-700"},[Q(ae(gE),{class:"h-6 w-6"})])]),K("form",{onSubmit:dd(o,["prevent"]),class:"space-y-4"},[K("div",null,[l[12]||(l[12]=K("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),Ru(K("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),type:"email",required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email address"},null,512),[[cd,s.value]])]),K("div",ZE,[K("button",{type:"button",onClick:l[3]||(l[3]=u=>n.value=!1),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-50"}," Cancel "),K("button",{type:"submit",disabled:i.value,class:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 disabled:opacity-50"},nt(i.value?"Sending...":"Send Reset Link"),9,eS)])],32)])])):Xe("",!0)])}}},rS={id:"app",class:"min-h-screen bg-gray-50"},nS={class:"container mx-auto px-2 lg:px-4 py-8"},sS={__name:"App",setup(e){const t=xd(),r=gs(),n=ka(),s=Na(),i=ja();return Wr(async()=>{await r.initialize()}),_r(()=>r.isAuthenticated,async(o,a)=>{if(o&&!a){console.log("🔐 User logged in, initializing stores...");try{const l=performance.now();await Promise.all([n.fetchWishlist(),s.fetchCart()]);const c=performance.now();console.log(`✅ Stores initialized in ${(c-l).toFixed(2)}ms`);const u=t.currentRoute.value;if(u.name==="Auth"){const d=u.query.redirect||"/";t.push(d),i.success("Welcome! You have been signed in.")}}catch(l){console.error("❌ Error initializing user stores:",l)}}else!o&&a&&(console.log("🔐 User logged out, resetting stores..."),n.reset(),s.reset(),t.currentRoute.value.path!=="/"&&(t.push("/"),i.success("You have been signed out")))},{immediate:!1}),(o,a)=>{const l=rr("router-view");return q(),oe("div",rS,[Q(HE),K("main",nS,[Q(l)]),Q(tS)])}}},Ii=hd(sS);Ii.use(mm());Ii.use(af);Ii.use(T0);Ii.mount("#app");export{Ig as A,la as B,de as C,_t as D,ia as E,je as F,ja as G,gE as H,dd as I,cd as J,iS as K,zt as L,ss as M,xd as N,is as O,lS as P,Na as Q,uE as R,ca as S,mE as T,cE as U,oS as V,pE as W,fE as X,cS as Y,Al as Z,vE as _,rr as a,q as b,oe as c,K as d,Xe as e,Q as f,Ke as g,Be as h,ae as i,Gs as j,dE as k,hE as l,Ve as m,xe as n,Wr as o,_r as p,Ru as q,Ee as r,Bi as s,nt as t,gs as u,aS as v,he as w,gt as x,pp as y,pa as z};
