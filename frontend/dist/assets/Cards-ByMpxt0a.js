import{r as o,n as c,p as x,o as b,c as i,b as l,d as r,f as P,q as g,v as f,F as y,j as _,t as k,s as B,g as S,m as V}from"./index-D5lSLxc0.js";import{_ as M}from"./CardPreview-CpBhfHIW.js";import{P as L}from"./Pagination-B_Hi1a5H.js";import"./WishlistButton-X_yWC9gL.js";import"./TreatmentBadge-a7nld0Nr.js";const N={class:"space-y-6"},R={class:"flex justify-between items-center"},U={class:"flex space-x-4"},j=["value"],A={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},d=20,G={__name:"Cards",setup(D){const u=o([]),v=o([]),n=o(1),p=o(!1),s=o({set:"",rarity:"",search:""}),m=c(()=>{let t=u.value;return s.value.set&&(t=t.filter(e=>e.set_number===s.value.set)),s.value.rarity&&(t=t.filter(e=>e.rarity===s.value.rarity)),s.value.search&&(t=t.filter(e=>e.name.toLowerCase().includes(s.value.search.toLowerCase()))),t}),C=c(()=>{const t=(n.value-1)*d,e=t+d;return m.value.slice(t,e)}),h=c(()=>Math.ceil(m.value.length/d)),w=async()=>{p.value=!0;try{const t=await V.get("/cards");u.value=t.data,v.value=[...new Set(u.value.map(e=>e.set_number))]}catch(t){console.error("Error fetching cards:",t)}finally{p.value=!1}};return x(s,()=>{n.value=1},{deep:!0}),b(w),(t,e)=>(l(),i("div",N,[r("div",R,[e[5]||(e[5]=r("h1",{class:"text-3xl font-bold"},"Browse Cards",-1)),r("div",U,[g(r("select",{"onUpdate:modelValue":e[0]||(e[0]=a=>s.value.set=a),class:"rounded border-gray-300"},[e[3]||(e[3]=r("option",{value:""},"All Sets",-1)),(l(!0),i(y,null,_(v.value,a=>(l(),i("option",{key:a,value:a},k(a),9,j))),128))],512),[[f,s.value.set]]),g(r("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.rarity=a),class:"rounded border-gray-300"},[...e[4]||(e[4]=[B('<option value="">All Rarities</option><option value="common">Common</option><option value="uncommon">Uncommon</option><option value="rare">Rare</option><option value="mythic">Mythic Rare</option>',5)])],512),[[f,s.value.rarity]])])]),r("div",A,[(l(!0),i(y,null,_(C.value,a=>(l(),S(M,{key:a.id,card:a},null,8,["card"]))),128))]),P(L,{"current-page":n.value,"total-pages":h.value,onPageChange:e[2]||(e[2]=a=>n.value=a)},null,8,["current-page","total-pages"])]))}};export{G as default};
