import{c as a,b as n,d as e,r as y,f as S,i as w,H as se,e as u,L as W,g as K,S as re,t as l,h as T,X as de,F as E,j as I,I as F,q as k,v as O,J as Z,K as ee,s as te,U as oe,m as V,_ as me,o as ue,n as ge}from"./index-D5lSLxc0.js";import{r as le,l as ve,a as xe}from"./lodash-C4tK62Yr.js";import{r as ce}from"./ExclamationTriangleIcon-qqwZ6LDi.js";import{r as pe}from"./CheckCircleIcon-CPskrV3K.js";import{P as ae}from"./Pagination-B_Hi1a5H.js";import{r as ye}from"./DocumentTextIcon-BaydoBVY.js";import{r as be}from"./CurrencyDollarIcon-B4wsOogc.js";function fe(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})])}function ie(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"})])}function he(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function we(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function _e(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function $e(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})])}function ke(s,A){return n(),a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})])}const Se={class:"flex justify-between items-center mb-6"},Ae={class:"space-y-8"},Ce={class:"flex items-center"},je={class:"font-medium"},qe={class:"text-sm mt-1"},Re={key:0},De={key:0,class:"mt-3 text-sm"},Ue={key:1,class:"mt-3 text-sm"},Me={key:0,class:"flex justify-end space-x-3"},Te={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},Ve={class:"bg-gray-50 rounded-lg p-6"},Pe={class:"space-y-4"},Be={class:"flex items-center space-x-4"},Ee={key:0,class:"flex-shrink-0"},Ie=["src","alt"],Le={key:1,class:"flex-shrink-0"},Ne={class:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center"},Fe={class:"font-medium text-gray-900"},ze={class:"text-sm text-gray-600"},Oe={class:"text-xs text-gray-500"},Ze={class:"grid grid-cols-1 gap-3 text-sm"},He={class:"ml-2 text-gray-900"},Ge={class:"ml-2 text-gray-900 capitalize"},Ke={key:0},Je={class:"ml-2 text-gray-900"},Qe={class:"ml-2 text-gray-900"},Xe={class:"ml-2 text-gray-900"},We={key:0},Ye={class:"text-sm text-gray-900 ml-2"},et={key:1},tt={class:"text-sm text-gray-900 ml-2"},st={key:2},ot={class:"text-sm text-gray-900 ml-2 space-y-1"},lt={class:"bg-gray-50 rounded-lg p-6"},nt={class:"space-y-4"},at={class:"grid grid-cols-2 gap-4"},it={class:"bg-white rounded-lg p-3 text-center"},rt={class:"text-2xl font-bold text-blue-600"},dt={class:"bg-white rounded-lg p-3 text-center"},ut={class:"text-2xl font-bold text-green-600"},ct={key:0},pt={class:"ml-2 text-gray-900 text-sm"},mt={key:1},gt={class:"space-y-1"},vt={class:"text-gray-400"},xt={key:1},yt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},bt={class:"flex items-center justify-between"},ft={class:"font-medium text-gray-900 capitalize"},ht={class:"text-sm text-gray-600"},wt={class:"text-xs text-gray-500"},_t={class:"text-xs text-gray-500"},$t={class:"flex space-x-2"},kt=["onClick"],St=["onClick"],At={key:2},Ct={class:"bg-yellow-50 border border-yellow-200 rounded-lg p-4"},jt={class:"list-disc list-inside space-y-1"},qt={key:3},Rt={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Dt={class:"text-sm text-blue-800"},Ut={key:4,class:"bg-green-50 border border-green-200 rounded-lg p-6"},Mt={class:"flex justify-end space-x-3"},Tt=["disabled"],Vt={key:5,class:"bg-yellow-50 border border-yellow-200 rounded-lg p-6"},Pt={class:"space-y-2"},Bt={class:"flex items-center"},Et={class:"flex items-center"},It={class:"flex items-center"},Lt={class:"flex items-center"},Nt={class:"flex justify-end space-x-3"},Ft=["disabled"],zt={key:6,class:"bg-red-50 border border-red-200 rounded-lg p-6"},Ot={class:"flex justify-end space-x-3"},Zt=["disabled"],Ht={__name:"ApplicationDetailModal",props:{application:{type:Object,required:!0}},emits:["close","approved","rejected","info-requested"],setup(s,{emit:A}){const v=s,q=A,f=y(!1),C=y(!1),_=y(!1),m=y(!1),j=y({seller_tier:"standard",notes:""}),g=y({message:"",required_documents:[]}),R=y({reason:"",notes:""}),D=()=>{q("close")},J=async()=>{var c,t;m.value=!0;try{await V.post(`/admin/seller-applications/${v.application.id}/approve`,j.value),q("approved"),D()}catch(b){console.error("Error approving application:",b),alert("Error approving application: "+(((t=(c=b.response)==null?void 0:c.data)==null?void 0:t.error)||b.message))}finally{m.value=!1}},z=async()=>{var c,t;m.value=!0;try{await V.post(`/admin/seller-applications/${v.application.id}/request-info`,g.value),q("info-requested"),D()}catch(b){console.error("Error requesting info:",b),alert("Error requesting information: "+(((t=(c=b.response)==null?void 0:c.data)==null?void 0:t.error)||b.message))}finally{m.value=!1}},N=async()=>{var c,t;m.value=!0;try{await V.post(`/admin/seller-applications/${v.application.id}/reject`,R.value),q("rejected"),D()}catch(b){console.error("Error rejecting application:",b),alert("Error rejecting application: "+(((t=(c=b.response)==null?void 0:c.data)==null?void 0:t.error)||b.message))}finally{m.value=!1}},U=async c=>{try{const t=await V.get(`/admin/seller-applications/${v.application.id}/documents/${c.id}`,{responseType:"blob"}),b=window.URL.createObjectURL(new Blob([t.data])),P=c.createElement("a");P.href=b,P.setAttribute("download",c.file_name),c.body.appendChild(P),P.click(),P.remove(),window.URL.revokeObjectURL(b)}catch(t){console.error("Error downloading document:",t),alert("Error downloading document")}},Q=c=>{alert("Document viewer would be implemented here")},L=c=>new Date(c).toLocaleDateString(),x=c=>new Date(c).toLocaleString(),o=c=>{if(!c)return"Unknown size";const t=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(c)/Math.log(1024));return Math.round(c/Math.pow(1024,b)*100)/100+" "+t[b]},$=c=>({pending:"bg-yellow-100 border border-yellow-200 text-yellow-800",info_requested:"bg-blue-100 border border-blue-200 text-blue-800",approved:"bg-green-100 border border-green-200 text-green-800",rejected:"bg-red-100 border border-red-200 text-red-800"})[c]||"bg-gray-100 border border-gray-200 text-gray-800",H=c=>({pending:"Application Pending Review",info_requested:"Additional Information Requested",approved:"Application Approved",rejected:"Application Rejected"})[c]||"Application Status",h=c=>({pending:oe,info_requested:le,approved:pe,rejected:ce})[c]||oe;return(c,t)=>{var b,P,Y,G,X,p,r,M;return n(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:D},[e("div",{class:"relative top-10 mx-auto p-5 border w-11/12 md:w-4/5 lg:w-3/4 xl:w-2/3 shadow-lg rounded-lg bg-white max-h-[90vh] overflow-y-auto",onClick:t[15]||(t[15]=F(()=>{},["stop"]))},[e("div",Se,[t[16]||(t[16]=e("h3",{class:"text-xl font-semibold text-gray-900"}," Seller Application Review ",-1)),e("button",{onClick:D,class:"text-gray-400 hover:text-gray-600"},[S(w(se),{class:"h-6 w-6"})])]),e("div",Ae,[e("div",{class:W([$(s.application.status),"rounded-lg p-4"])},[e("div",Ce,[(n(),K(re(h(s.application.status)),{class:"h-6 w-6 mr-3"})),e("div",null,[e("h4",je,l(H(s.application.status)),1),e("p",qe,[T(" Submitted "+l(L(s.application.submitted_at))+" ",1),s.application.reviewed_by&&s.application.status!=="pending"?(n(),a("span",Re," • Reviewed "+l(L(s.application.approved_at||s.application.rejected_at||s.application.info_requested_at)),1)):u("",!0)])])]),s.application.admin_message?(n(),a("div",De,[t[17]||(t[17]=e("strong",null,"Admin Message:",-1)),T(" "+l(s.application.admin_message),1)])):u("",!0),s.application.rejection_reason?(n(),a("div",Ue,[t[18]||(t[18]=e("strong",null,"Rejection Reason:",-1)),T(" "+l(s.application.rejection_reason),1)])):u("",!0)],2),s.application.status==="pending"?(n(),a("div",Me,[e("button",{onClick:t[0]||(t[0]=d=>f.value=!0),class:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 flex items-center"},[S(w(we),{class:"h-4 w-4 mr-2"}),t[19]||(t[19]=T(" Approve ",-1))]),e("button",{onClick:t[1]||(t[1]=d=>C.value=!0),class:"bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 flex items-center"},[S(w(le),{class:"h-4 w-4 mr-2"}),t[20]||(t[20]=T(" Request Info ",-1))]),e("button",{onClick:t[2]||(t[2]=d=>_.value=!0),class:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 flex items-center"},[S(w(se),{class:"h-4 w-4 mr-2"}),t[21]||(t[21]=T(" Reject ",-1))])])):u("",!0),e("div",Te,[e("div",Ve,[t[30]||(t[30]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Applicant Information",-1)),e("div",Pe,[e("div",Be,[(b=s.application.profiles)!=null&&b.avatar_url?(n(),a("div",Ee,[e("img",{src:s.application.profiles.avatar_url,alt:s.application.profiles.display_name,class:"h-12 w-12 rounded-full object-cover"},null,8,Ie)])):(n(),a("div",Le,[e("div",Ne,[S(w(de),{class:"h-6 w-6 text-gray-600"})])])),e("div",null,[e("h5",Fe,l(((P=s.application.profiles)==null?void 0:P.display_name)||"N/A"),1),e("p",ze,l((Y=s.application.profiles)==null?void 0:Y.email),1),e("p",Oe," Member since "+l(L((G=s.application.profiles)==null?void 0:G.created_at)),1)])]),e("div",Ze,[e("div",null,[t[22]||(t[22]=e("span",{class:"font-medium text-gray-700"},"Business Name:",-1)),e("span",He,l(s.application.business_name),1)]),e("div",null,[t[23]||(t[23]=e("span",{class:"font-medium text-gray-700"},"Business Type:",-1)),e("span",Ge,l(s.application.business_type),1)]),s.application.tax_id?(n(),a("div",Ke,[t[24]||(t[24]=e("span",{class:"font-medium text-gray-700"},"Tax ID:",-1)),e("span",Je,l(s.application.tax_id),1)])):u("",!0),e("div",null,[t[25]||(t[25]=e("span",{class:"font-medium text-gray-700"},"Experience:",-1)),e("span",Qe,l(s.application.experience_years)+" years",1)]),e("div",null,[t[26]||(t[26]=e("span",{class:"font-medium text-gray-700"},"Phone:",-1)),e("span",Xe,l(s.application.phone),1)])]),s.application.address?(n(),a("div",We,[t[27]||(t[27]=e("span",{class:"font-medium text-gray-700 block mb-1"},"Address:",-1)),e("div",Ye,[e("div",null,l(s.application.address.street),1),e("div",null,l(s.application.address.city)+", "+l(s.application.address.province),1),e("div",null,l(s.application.address.postal_code)+", "+l(s.application.address.country),1)])])):u("",!0),s.application.description?(n(),a("div",et,[t[28]||(t[28]=e("span",{class:"font-medium text-gray-700 block mb-1"},"Description:",-1)),e("p",tt,l(s.application.description),1)])):u("",!0),s.application.references&&s.application.references.length>0?(n(),a("div",st,[t[29]||(t[29]=e("span",{class:"font-medium text-gray-700 block mb-1"},"References:",-1)),e("ul",ot,[(n(!0),a(E,null,I(s.application.references,(d,i)=>(n(),a("li",{key:i}," • "+l(d),1))),128))])])):u("",!0)])]),e("div",lt,[t[35]||(t[35]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Activity & Statistics",-1)),e("div",nt,[e("div",at,[e("div",it,[e("div",rt,l(((X=s.application.activity_stats)==null?void 0:X.order_count)||0),1),t[31]||(t[31]=e("div",{class:"text-xs text-gray-600"},"Orders Placed",-1))]),e("div",dt,[e("div",ut,l(((p=s.application.seller_reviews)==null?void 0:p.length)||0),1),t[32]||(t[32]=e("div",{class:"text-xs text-gray-600"},"Reviews",-1))])]),(r=s.application.profiles)!=null&&r.last_login_at?(n(),a("div",ct,[t[33]||(t[33]=e("span",{class:"font-medium text-gray-700"},"Last Login:",-1)),e("span",pt,l(x(s.application.profiles.last_login_at)),1)])):u("",!0),(M=s.application.activity_stats)!=null&&M.login_history?(n(),a("div",mt,[t[34]||(t[34]=e("span",{class:"font-medium text-gray-700 block mb-2"},"Recent Logins:",-1)),e("div",gt,[(n(!0),a(E,null,I(s.application.activity_stats.login_history.slice(0,5),d=>(n(),a("div",{key:d.created_at,class:"text-xs text-gray-600 ml-2"},[T(l(x(d.created_at))+" ",1),e("span",vt,"from "+l(d.ip_address),1)]))),128))])])):u("",!0)])])]),s.application.seller_documents&&s.application.seller_documents.length>0?(n(),a("div",xt,[t[36]||(t[36]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Submitted Documents",-1)),e("div",yt,[(n(!0),a(E,null,I(s.application.seller_documents,d=>(n(),a("div",{key:d.id,class:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50"},[e("div",bt,[e("div",null,[e("h5",ft,l(d.document_type.replace("_"," ")),1),e("p",ht,l(d.file_name),1),e("p",wt," Uploaded "+l(L(d.uploaded_at)),1),e("p",_t,l(o(d.file_size)),1)]),e("div",$t,[e("button",{onClick:i=>U(d),class:"text-blue-600 hover:text-blue-800 text-sm"},[S(w(fe),{class:"h-4 w-4"})],8,kt),e("button",{onClick:i=>Q(),class:"text-gray-600 hover:text-gray-800 text-sm"},[S(w($e),{class:"h-4 w-4"})],8,St)])])]))),128))])])):u("",!0),s.application.required_documents&&s.application.required_documents.length>0?(n(),a("div",At,[t[37]||(t[37]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Required Documents",-1)),e("div",Ct,[e("ul",jt,[(n(!0),a(E,null,I(s.application.required_documents,d=>(n(),a("li",{key:d,class:"text-sm text-yellow-800"},l(d),1))),128))])])])):u("",!0),s.application.admin_notes?(n(),a("div",qt,[t[38]||(t[38]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Admin Notes",-1)),e("div",Rt,[e("p",Dt,l(s.application.admin_notes),1)])])):u("",!0),f.value?(n(),a("div",Ut,[t[42]||(t[42]=e("h4",{class:"text-lg font-medium text-green-800 mb-4"},"Approve Application",-1)),e("form",{onSubmit:F(J,["prevent"]),class:"space-y-4"},[e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Seller Tier ",-1)),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=d=>j.value.seller_tier=d),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500"},[...t[39]||(t[39]=[e("option",{value:"standard"},"Standard",-1),e("option",{value:"premium"},"Premium",-1),e("option",{value:"enterprise"},"Enterprise",-1)])],512),[[O,j.value.seller_tier]])]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Notes (Optional) ",-1)),k(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=d=>j.value.notes=d),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",placeholder:"Add any notes for the seller..."},null,512),[[Z,j.value.notes]])]),e("div",Mt,[e("button",{type:"button",onClick:t[5]||(t[5]=d=>f.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:m.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50"},l(m.value?"Approving...":"Approve Application"),9,Tt)])],32)])):u("",!0),C.value?(n(),a("div",Vt,[t[49]||(t[49]=e("h4",{class:"text-lg font-medium text-yellow-800 mb-4"},"Request Additional Information",-1)),e("form",{onSubmit:F(z,["prevent"]),class:"space-y-4"},[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Message to Applicant * ",-1)),k(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=d=>g.value.message=d),rows:"4",required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring-yellow-500",placeholder:"Explain what additional information is needed..."},null,512),[[Z,g.value.message]])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Required Documents ",-1)),e("div",Pt,[e("label",Bt,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=d=>g.value.required_documents=d),value:"Government ID",class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,512),[[ee,g.value.required_documents]]),t[44]||(t[44]=e("span",{class:"ml-2 text-sm"},"Government ID",-1))]),e("label",Et,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=d=>g.value.required_documents=d),value:"Business License",class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,512),[[ee,g.value.required_documents]]),t[45]||(t[45]=e("span",{class:"ml-2 text-sm"},"Business License",-1))]),e("label",It,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[9]||(t[9]=d=>g.value.required_documents=d),value:"Tax Documents",class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,512),[[ee,g.value.required_documents]]),t[46]||(t[46]=e("span",{class:"ml-2 text-sm"},"Tax Documents",-1))]),e("label",Lt,[k(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=d=>g.value.required_documents=d),value:"Bank Statements",class:"rounded border-gray-300 text-yellow-600 focus:ring-yellow-500"},null,512),[[ee,g.value.required_documents]]),t[47]||(t[47]=e("span",{class:"ml-2 text-sm"},"Bank Statements",-1))])])]),e("div",Nt,[e("button",{type:"button",onClick:t[11]||(t[11]=d=>C.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:m.value,class:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50"},l(m.value?"Sending...":"Request Information"),9,Ft)])],32)])):u("",!0),_.value?(n(),a("div",zt,[t[53]||(t[53]=e("h4",{class:"text-lg font-medium text-red-800 mb-4"},"Reject Application",-1)),e("form",{onSubmit:F(N,["prevent"]),class:"space-y-4"},[e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Rejection Reason * ",-1)),k(e("select",{"onUpdate:modelValue":t[12]||(t[12]=d=>R.value.reason=d),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500 mb-2"},[...t[50]||(t[50]=[te('<option value="">Select a reason</option><option value="incomplete_application">Incomplete Application</option><option value="insufficient_documentation">Insufficient Documentation</option><option value="business_verification_failed">Business Verification Failed</option><option value="risk_assessment_failed">Risk Assessment Failed</option><option value="policy_violation">Policy Violation</option><option value="other">Other</option>',7)])],512),[[O,R.value.reason]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Notes ",-1)),k(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=d=>R.value.notes=d),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",placeholder:"Provide specific details about the rejection..."},null,512),[[Z,R.value.notes]])]),e("div",Ot,[e("button",{type:"button",onClick:t[14]||(t[14]=d=>_.value=!1),class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:m.value,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50"},l(m.value?"Rejecting...":"Reject Application"),9,Zt)])],32)])):u("",!0)])])])}}},Gt={class:"flex justify-between items-center mb-6"},Kt={class:"text-xl font-semibold text-gray-900"},Jt={class:"bg-gray-50 rounded-lg p-4 mb-6"},Qt={class:"flex items-center space-x-4"},Xt={key:0,class:"flex-shrink-0"},Wt=["src","alt"],Yt={key:1,class:"flex-shrink-0"},es={class:"h-12 w-12 rounded-full bg-gray-300 flex items-center justify-center"},ts={class:"flex-1"},ss={class:"font-medium text-gray-900"},os={class:"text-sm text-gray-600"},ls={class:"flex items-center space-x-4 mt-1"},ns={class:"text-xs text-gray-500"},as={class:"space-y-6"},is={key:0},rs={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ds={class:"space-y-3"},us={class:"flex justify-between"},cs={class:"text-sm font-medium"},ps={class:"flex justify-between"},ms={class:"text-sm font-medium"},gs={class:"flex justify-between"},vs={class:"text-sm font-medium"},xs={class:"flex justify-between"},ys={class:"text-sm font-medium capitalize"},bs={class:"space-y-3"},fs={class:"flex justify-between"},hs={class:"text-sm font-medium"},ws={class:"flex justify-between"},_s={class:"text-sm font-medium"},$s={class:"flex justify-between"},ks={key:0,class:"flex justify-between"},Ss={class:"text-sm font-medium"},As={key:0},Cs={class:"bg-gray-50 rounded-lg p-4"},js={class:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm"},qs={class:"ml-2 text-gray-900"},Rs={class:"ml-2 text-gray-900 capitalize"},Ds={class:"ml-2 text-gray-900 capitalize"},Us={class:"ml-2 text-gray-900"},Ms={key:1},Ts={class:"bg-gray-50 rounded-lg p-4"},Vs={class:"space-y-2"},Ps={class:"text-gray-900"},Bs={class:"text-gray-500"},Es={key:1},Is={class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},Ls={class:"flex"},Ns={class:"flex justify-end space-x-3"},Fs=["disabled"],zs={key:2},Os={class:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6"},Zs={class:"flex"},Hs={key:0,class:"bg-gray-50 rounded-lg p-4 mb-4"},Gs={class:"text-sm text-gray-600"},Ks={key:0},Js={class:"flex justify-end space-x-3"},Qs=["disabled"],Xs={key:3},Ws={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},Ys={class:"flex"},eo={class:"block text-sm font-medium text-gray-700 mb-1"},to={class:"font-medium capitalize"},so={class:"flex justify-end space-x-3"},oo=["disabled"],lo={__name:"SellerActionModal",props:{seller:{type:Object,required:!0},actionType:{type:String,required:!0,validator:s=>["view","suspend","unsuspend","update_tier"].includes(s)}},emits:["close","completed"],setup(s,{emit:A}){const v=s,q=A,f=y(!1),C=y([]),_=y({reason:"",duration_days:"",notes:""}),m=y({notes:""}),j=y({new_tier:v.seller.seller_tier||"standard",reason:""}),g=()=>{q("close")},R=async()=>{try{C.value=[{id:1,description:"Created new listing",created_at:new Date(Date.now()-2*24*60*60*1e3)},{id:2,description:"Order shipped",created_at:new Date(Date.now()-5*24*60*60*1e3)},{id:3,description:"Payout processed",created_at:new Date(Date.now()-7*24*60*60*1e3)}]}catch(x){console.error("Error loading recent activity:",x)}},D=async()=>{var x,o;f.value=!0;try{await V.post(`/admin/sellers/${v.seller.id}/suspend`,_.value),q("completed"),g()}catch($){console.error("Error suspending seller:",$),alert("Error suspending seller: "+(((o=(x=$.response)==null?void 0:x.data)==null?void 0:o.error)||$.message))}finally{f.value=!1}},J=async()=>{var x,o;f.value=!0;try{await V.post(`/admin/sellers/${v.seller.id}/unsuspend`,m.value),q("completed"),g()}catch($){console.error("Error unsuspending seller:",$),alert("Error unsuspending seller: "+(((o=(x=$.response)==null?void 0:x.data)==null?void 0:o.error)||$.message))}finally{f.value=!1}},z=async()=>{var x,o;f.value=!0;try{await V.patch(`/admin/sellers/${v.seller.id}/tier`,j.value),q("completed"),g()}catch($){console.error("Error updating seller tier:",$),alert("Error updating seller tier: "+(((o=(x=$.response)==null?void 0:x.data)==null?void 0:o.error)||$.message))}finally{f.value=!1}},N=x=>new Date(x).toLocaleDateString(),U=x=>new Date(x).toLocaleString(),Q=()=>({view:"Seller Details",suspend:"Suspend Seller",unsuspend:"Unsuspend Seller",update_tier:"Update Seller Tier"})[v.actionType]||"Seller Action",L=x=>x.suspended?"bg-red-100 text-red-800 font-medium":"bg-green-100 text-green-800 font-medium";return ue(()=>{v.actionType==="view"&&R()}),(x,o)=>{var $,H;return n(),a("div",{class:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",onClick:g},[e("div",{class:"relative top-20 mx-auto p-5 border w-11/12 md:w-2/3 lg:w-1/2 shadow-lg rounded-lg bg-white",onClick:o[6]||(o[6]=F(()=>{},["stop"]))},[e("div",Gt,[e("h3",Kt,l(Q()),1),e("button",{onClick:g,class:"text-gray-400 hover:text-gray-600"},[S(w(se),{class:"h-6 w-6"})])]),e("div",Jt,[e("div",Qt,[s.seller.avatar_url?(n(),a("div",Xt,[e("img",{src:s.seller.avatar_url,alt:s.seller.display_name,class:"h-12 w-12 rounded-full object-cover"},null,8,Wt)])):(n(),a("div",Yt,[e("div",es,[S(w(de),{class:"h-6 w-6 text-gray-600"})])])),e("div",ts,[e("h4",ss,l(s.seller.display_name),1),e("p",os,l(s.seller.email),1),e("div",ls,[e("span",ns,l((($=s.seller.seller_settings)==null?void 0:$.business_name)||"No business name"),1),e("span",{class:W([L(s.seller),"text-xs px-2 py-1 rounded-full"])},l(s.seller.suspended?"Suspended":"Active"),3)])])])]),e("div",as,[s.actionType==="view"?(n(),a("div",is,[e("div",rs,[e("div",null,[o[11]||(o[11]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Performance",-1)),e("div",ds,[e("div",us,[o[7]||(o[7]=e("span",{class:"text-sm text-gray-600"},"Active Listings:",-1)),e("span",cs,l(s.seller._count_listings||0),1)]),e("div",ps,[o[8]||(o[8]=e("span",{class:"text-sm text-gray-600"},"Total Orders:",-1)),e("span",ms,l(s.seller._count_orders||0),1)]),e("div",gs,[o[9]||(o[9]=e("span",{class:"text-sm text-gray-600"},"Average Rating:",-1)),e("span",vs,l(s.seller._avg_rating?s.seller._avg_rating.toFixed(1):"N/A")+"/5 ",1)]),e("div",xs,[o[10]||(o[10]=e("span",{class:"text-sm text-gray-600"},"Seller Tier:",-1)),e("span",ys,l(s.seller.seller_tier||"Standard"),1)])])]),e("div",null,[o[16]||(o[16]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Account Info",-1)),e("div",bs,[e("div",fs,[o[12]||(o[12]=e("span",{class:"text-sm text-gray-600"},"Member Since:",-1)),e("span",hs,l(N(s.seller.created_at)),1)]),e("div",ws,[o[13]||(o[13]=e("span",{class:"text-sm text-gray-600"},"Last Login:",-1)),e("span",_s,l(s.seller.last_login_at?U(s.seller.last_login_at):"Never"),1)]),e("div",$s,[o[14]||(o[14]=e("span",{class:"text-sm text-gray-600"},"Status:",-1)),e("span",{class:W([L(s.seller),"text-sm px-2 py-1 rounded-full"])},l(s.seller.suspended?"Suspended":"Active"),3)]),s.seller.suspended&&s.seller.suspended_until?(n(),a("div",ks,[o[15]||(o[15]=e("span",{class:"text-sm text-gray-600"},"Suspended Until:",-1)),e("span",Ss,l(U(s.seller.suspended_until)),1)])):u("",!0)])])]),s.seller.seller_settings?(n(),a("div",As,[o[21]||(o[21]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Business Information",-1)),e("div",Cs,[e("div",js,[e("div",null,[o[17]||(o[17]=e("span",{class:"font-medium text-gray-700"},"Business Name:",-1)),e("span",qs,l(s.seller.seller_settings.business_name||"N/A"),1)]),e("div",null,[o[18]||(o[18]=e("span",{class:"font-medium text-gray-700"},"Business Type:",-1)),e("span",Rs,l(s.seller.seller_settings.business_type||"N/A"),1)]),e("div",null,[o[19]||(o[19]=e("span",{class:"font-medium text-gray-700"},"Payout Method:",-1)),e("span",Ds,l(((H=s.seller.seller_settings.payout_method)==null?void 0:H.replace("_"," "))||"Not set"),1)]),e("div",null,[o[20]||(o[20]=e("span",{class:"font-medium text-gray-700"},"Auto Payout:",-1)),e("span",Us,l(s.seller.seller_settings.auto_payout?"Enabled":"Disabled"),1)])])])])):u("",!0),C.value.length>0?(n(),a("div",Ms,[o[22]||(o[22]=e("h4",{class:"text-lg font-medium text-gray-900 mb-4"},"Recent Activity",-1)),e("div",Ts,[e("div",Vs,[(n(!0),a(E,null,I(C.value,h=>(n(),a("div",{key:h.id,class:"flex justify-between items-center text-sm"},[e("span",Ps,l(h.description),1),e("span",Bs,l(U(h.created_at)),1)]))),128))])])])):u("",!0)])):u("",!0),s.actionType==="suspend"?(n(),a("div",Es,[e("div",Is,[e("div",Ls,[S(w(ce),{class:"h-5 w-5 text-red-400 mt-0.5"}),o[23]||(o[23]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-red-800"},"Suspend Seller Account"),e("div",{class:"mt-2 text-sm text-red-700"},[e("p",null,"This action will suspend the seller's account and deactivate all their listings. The seller will not be able to create new listings or process orders.")])],-1))])]),e("form",{onSubmit:F(D,["prevent"]),class:"space-y-4"},[e("div",null,[o[25]||(o[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Suspension Reason * ",-1)),k(e("select",{"onUpdate:modelValue":o[0]||(o[0]=h=>_.value.reason=h),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"},[...o[24]||(o[24]=[te('<option value="" data-v-64b39b54>Select a reason</option><option value="policy_violation" data-v-64b39b54>Policy Violation</option><option value="fraud_suspicion" data-v-64b39b54>Fraud Suspicion</option><option value="customer_complaints" data-v-64b39b54>Customer Complaints</option><option value="quality_issues" data-v-64b39b54>Quality Issues</option><option value="non_compliance" data-v-64b39b54>Non-Compliance</option><option value="other" data-v-64b39b54>Other</option>',7)])],512),[[O,_.value.reason]])]),e("div",null,[o[27]||(o[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Suspension Duration ",-1)),k(e("select",{"onUpdate:modelValue":o[1]||(o[1]=h=>_.value.duration_days=h),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500"},[...o[26]||(o[26]=[te('<option value="" data-v-64b39b54>Indefinite</option><option value="7" data-v-64b39b54>7 days</option><option value="14" data-v-64b39b54>14 days</option><option value="30" data-v-64b39b54>30 days</option><option value="90" data-v-64b39b54>90 days</option>',5)])],512),[[O,_.value.duration_days]])]),e("div",null,[o[28]||(o[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Additional Notes ",-1)),k(e("textarea",{"onUpdate:modelValue":o[2]||(o[2]=h=>_.value.notes=h),rows:"4",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-red-500 focus:ring-red-500",placeholder:"Provide details about the suspension reason..."},null,512),[[Z,_.value.notes]])]),e("div",Ns,[e("button",{type:"button",onClick:g,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:f.value,class:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50"},l(f.value?"Suspending...":"Suspend Seller"),9,Fs)])],32)])):u("",!0),s.actionType==="unsuspend"?(n(),a("div",zs,[e("div",Os,[e("div",Zs,[S(w(pe),{class:"h-5 w-5 text-green-400 mt-0.5"}),o[29]||(o[29]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-green-800"},"Unsuspend Seller Account"),e("div",{class:"mt-2 text-sm text-green-700"},[e("p",null,"This action will reactivate the seller's account and restore their ability to create listings and process orders.")])],-1))])]),s.seller.suspension_reason?(n(),a("div",Hs,[o[32]||(o[32]=e("h4",{class:"font-medium text-gray-900 mb-2"},"Current Suspension",-1)),e("div",Gs,[e("p",null,[o[30]||(o[30]=e("strong",null,"Reason:",-1)),T(" "+l(s.seller.suspension_reason),1)]),s.seller.suspended_until?(n(),a("p",Ks,[o[31]||(o[31]=e("strong",null,"Until:",-1)),T(" "+l(U(s.seller.suspended_until)),1)])):u("",!0)])])):u("",!0),e("form",{onSubmit:F(J,["prevent"]),class:"space-y-4"},[e("div",null,[o[33]||(o[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Unsuspension Notes ",-1)),k(e("textarea",{"onUpdate:modelValue":o[3]||(o[3]=h=>m.value.notes=h),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500",placeholder:"Add notes about why the suspension is being lifted..."},null,512),[[Z,m.value.notes]])]),e("div",Js,[e("button",{type:"button",onClick:g,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:f.value,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50"},l(f.value?"Unsuspending...":"Unsuspend Seller"),9,Qs)])],32)])):u("",!0),s.actionType==="update_tier"?(n(),a("div",Xs,[e("div",Ws,[e("div",Ys,[S(w(le),{class:"h-5 w-5 text-blue-400 mt-0.5"}),o[34]||(o[34]=e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-blue-800"},"Update Seller Tier"),e("div",{class:"mt-2 text-sm text-blue-700"},[e("p",null,"Change the seller's tier to adjust their listing limits, commission rates, and available features.")])],-1))])]),e("form",{onSubmit:F(z,["prevent"]),class:"space-y-4"},[e("div",null,[e("label",eo,[o[35]||(o[35]=T(" Current Tier: ",-1)),e("span",to,l(s.seller.seller_tier||"Standard"),1)])]),e("div",null,[o[37]||(o[37]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," New Tier * ",-1)),k(e("select",{"onUpdate:modelValue":o[4]||(o[4]=h=>j.value.new_tier=h),required:"",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"},[...o[36]||(o[36]=[e("option",{value:"standard"},"Standard",-1),e("option",{value:"premium"},"Premium",-1),e("option",{value:"enterprise"},"Enterprise",-1)])],512),[[O,j.value.new_tier]])]),e("div",null,[o[38]||(o[38]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"}," Reason for Change ",-1)),k(e("textarea",{"onUpdate:modelValue":o[5]||(o[5]=h=>j.value.reason=h),rows:"3",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Explain why the tier is being changed..."},null,512),[[Z,j.value.reason]])]),e("div",so,[e("button",{type:"button",onClick:g,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Cancel "),e("button",{type:"submit",disabled:f.value,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50"},l(f.value?"Updating...":"Update Tier"),9,oo)])],32)])):u("",!0)])])])}}},no=me(lo,[["__scopeId","data-v-64b39b54"]]),ao={class:"space-y-6"},io={class:"flex justify-between items-center"},ro={class:"flex space-x-3"},uo={class:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium"},co={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6"},po={class:"bg-white rounded-lg shadow p-6"},mo={class:"flex items-center"},go={class:"p-2 bg-blue-100 rounded-lg"},vo={class:"ml-4"},xo={class:"text-2xl font-bold text-gray-900"},yo={class:"bg-white rounded-lg shadow p-6"},bo={class:"flex items-center"},fo={class:"p-2 bg-green-100 rounded-lg"},ho={class:"ml-4"},wo={class:"text-2xl font-bold text-gray-900"},_o={class:"bg-white rounded-lg shadow p-6"},$o={class:"flex items-center"},ko={class:"p-2 bg-purple-100 rounded-lg"},So={class:"ml-4"},Ao={class:"text-2xl font-bold text-gray-900"},Co={class:"bg-white rounded-lg shadow p-6"},jo={class:"flex items-center"},qo={class:"p-2 bg-yellow-100 rounded-lg"},Ro={class:"ml-4"},Do={class:"text-2xl font-bold text-gray-900"},Uo={class:"bg-white rounded-lg shadow p-6"},Mo={class:"flex items-center"},To={class:"p-2 bg-indigo-100 rounded-lg"},Vo={class:"ml-4"},Po={class:"text-2xl font-bold text-gray-900"},Bo={class:"bg-white rounded-lg shadow"},Eo={class:"border-b border-gray-200"},Io={class:"-mb-px flex space-x-8 px-6"},Lo=["onClick"],No={key:0,class:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-1"},Fo={class:"p-6"},zo={key:0},Oo={class:"flex justify-between items-center mb-6"},Zo={class:"flex space-x-3"},Ho={class:"overflow-x-auto"},Go={class:"min-w-full divide-y divide-gray-200"},Ko={class:"bg-white divide-y divide-gray-200"},Jo={class:"px-6 py-4 whitespace-nowrap"},Qo={class:"flex items-center"},Xo={class:"text-sm font-medium text-gray-900"},Wo={class:"text-sm text-gray-500"},Yo={class:"px-6 py-4 whitespace-nowrap"},el={class:"text-sm text-gray-900"},tl={class:"text-sm text-gray-500"},sl={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},ol={class:"px-6 py-4 whitespace-nowrap"},ll={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},nl=["onClick"],al=["onClick"],il=["onClick"],rl=["onClick"],dl={key:1},ul={class:"flex justify-between items-center mb-6"},cl={class:"flex space-x-3"},pl={class:"overflow-x-auto"},ml={class:"min-w-full divide-y divide-gray-200"},gl={class:"bg-white divide-y divide-gray-200"},vl={class:"px-6 py-4 whitespace-nowrap"},xl={class:"flex items-center"},yl={class:"text-sm font-medium text-gray-900"},bl={class:"text-sm text-gray-500"},fl={class:"px-6 py-4 whitespace-nowrap"},hl={class:"text-sm text-gray-900"},wl={class:"text-sm text-gray-500"},_l={class:"px-6 py-4 whitespace-nowrap"},$l={class:"text-sm text-gray-900"},kl={class:"text-sm text-gray-500"},Sl={class:"px-6 py-4 whitespace-nowrap"},Al={key:0,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800"},Cl={key:1,class:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800"},jl={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2"},ql=["onClick"],Rl=["onClick"],Dl=["onClick"],Ul={key:2},Ml={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Tl={class:"bg-gray-50 rounded-lg p-6"},Vl={class:"space-y-3"},Pl={class:"font-medium"},Bl={class:"text-gray-500"},El={class:"bg-gray-50 rounded-lg p-6"},Il={class:"space-y-3"},Ll={class:"font-medium"},Nl={class:"text-gray-500"},Jl={__name:"AdminDashboard",setup(s){const A=y("applications"),v=y({totalUsers:0,activeSellers:0,totalListings:0,pendingApplications:0,revenue:"0.00",recentActivity:{orders:[],listings:[]}}),q=y([]),f=y([]),C=y(null),_=y(null),m=y(""),j=y({status:"all",page:1}),g=y({status:"all",search:"",page:1}),R=y({page:1,totalPages:1,total:0}),D=y({page:1,totalPages:1,total:0}),J=ge(()=>[{id:"applications",name:"Applications",icon:ye,badge:v.value.pendingApplications>0?v.value.pendingApplications:null},{id:"sellers",name:"Sellers",icon:ie},{id:"stats",name:"Analytics",icon:he},{id:"settings",name:"Settings",icon:_e}]),z=async()=>{try{const p=await V.get("/admin/stats");v.value=p.data}catch(p){console.error("Error loading stats:",p)}},N=async(p=1)=>{try{const r={...j.value,page:p},M=await V.get("/admin/seller-applications",{params:r});q.value=M.data.applications,R.value=M.data.pagination}catch(r){console.error("Error loading applications:",r)}},U=async(p=1)=>{try{const r={...g.value,page:p},M=await V.get("/admin/sellers",{params:r});f.value=M.data.sellers,D.value=M.data.pagination}catch(r){console.error("Error loading sellers:",r)}},Q=async p=>{try{const r=await V.get(`/admin/seller-applications/${p.id}`);C.value=r.data}catch(r){console.error("Error loading application details:",r)}},L=p=>{C.value=p,m.value="approve"},x=p=>{C.value=p,m.value="reject"},o=p=>{C.value=p,m.value="request-info"},$=p=>{_.value=p,m.value="suspend"},H=p=>{_.value=p,m.value="unsuspend"},h=p=>{_.value=p,m.value="view"},c=()=>{_.value=null,m.value=""},t=()=>{C.value=null,N(),z()},b=()=>{c(),U(),z()},P=p=>({pending:"bg-yellow-100 text-yellow-800",info_requested:"bg-blue-100 text-blue-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800"})[p]||"bg-gray-100 text-gray-800",Y=p=>({pending:"Pending",info_requested:"Info Requested",approved:"Approved",rejected:"Rejected"})[p]||p,G=p=>new Date(p).toLocaleDateString(),X=ve.debounce(()=>{U(1)},500);return ue(()=>{z(),N()}),(p,r)=>{var M,d;return n(),a("div",ao,[e("div",io,[r[5]||(r[5]=e("h1",{class:"text-3xl font-bold text-gray-900"},"Admin Dashboard",-1)),e("div",ro,[e("span",uo,l(v.value.pendingApplications)+" Pending Applications ",1)])]),e("div",co,[e("div",po,[e("div",mo,[e("div",go,[S(w(ke),{class:"h-6 w-6 text-blue-600"})]),e("div",vo,[r[6]||(r[6]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Users",-1)),e("p",xo,l(v.value.totalUsers),1)])])]),e("div",yo,[e("div",bo,[e("div",fo,[S(w(ie),{class:"h-6 w-6 text-green-600"})]),e("div",ho,[r[7]||(r[7]=e("p",{class:"text-sm font-medium text-gray-600"},"Active Sellers",-1)),e("p",wo,l(v.value.activeSellers),1)])])]),e("div",_o,[e("div",$o,[e("div",ko,[S(w(xe),{class:"h-6 w-6 text-purple-600"})]),e("div",So,[r[8]||(r[8]=e("p",{class:"text-sm font-medium text-gray-600"},"Total Listings",-1)),e("p",Ao,l(v.value.totalListings),1)])])]),e("div",Co,[e("div",jo,[e("div",qo,[S(w(oe),{class:"h-6 w-6 text-yellow-600"})]),e("div",Ro,[r[9]||(r[9]=e("p",{class:"text-sm font-medium text-gray-600"},"Pending Apps",-1)),e("p",Do,l(v.value.pendingApplications),1)])])]),e("div",Uo,[e("div",Mo,[e("div",To,[S(w(be),{class:"h-6 w-6 text-indigo-600"})]),e("div",Vo,[r[10]||(r[10]=e("p",{class:"text-sm font-medium text-gray-600"},"Platform Revenue",-1)),e("p",Po,"$"+l(v.value.revenue),1)])])])]),e("div",Bo,[e("div",Eo,[e("nav",Io,[(n(!0),a(E,null,I(J.value,i=>(n(),a("button",{key:i.id,onClick:B=>A.value=i.id,class:W(["py-4 px-1 border-b-2 font-medium text-sm flex items-center",A.value===i.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[(n(),K(re(i.icon),{class:"h-5 w-5 mr-2"})),T(" "+l(i.name)+" ",1),i.badge?(n(),a("span",No,l(i.badge),1)):u("",!0)],10,Lo))),128))])]),e("div",Fo,[A.value==="applications"?(n(),a("div",zo,[e("div",Oo,[r[12]||(r[12]=e("h2",{class:"text-lg font-medium"},"Seller Applications",-1)),e("div",Zo,[k(e("select",{"onUpdate:modelValue":r[0]||(r[0]=i=>j.value.status=i),onChange:N,class:"rounded-md border-gray-300 text-sm"},[...r[11]||(r[11]=[te('<option value="all">All Status</option><option value="pending">Pending</option><option value="info_requested">Info Requested</option><option value="approved">Approved</option><option value="rejected">Rejected</option>',5)])],544),[[O,j.value.status]])])]),e("div",Ho,[e("table",Go,[r[13]||(r[13]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Applicant "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Business Info "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Submitted "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Ko,[(n(!0),a(E,null,I(q.value,i=>(n(),a("tr",{key:i.id},[e("td",Jo,[e("div",Qo,[e("div",null,[e("div",Xo,l(i.profiles.display_name),1),e("div",Wo,l(i.profiles.email),1)])])]),e("td",Yo,[e("div",el,l(i.business_name),1),e("div",tl,l(i.business_type),1)]),e("td",sl,l(G(i.submitted_at)),1),e("td",ol,[e("span",{class:W([P(i.status),"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},l(Y(i.status)),3)]),e("td",ll,[e("button",{onClick:B=>Q(i),class:"text-blue-600 hover:text-blue-900"}," View ",8,nl),i.status==="pending"?(n(),a("button",{key:0,onClick:B=>L(i),class:"text-green-600 hover:text-green-900"}," Approve ",8,al)):u("",!0),i.status==="pending"?(n(),a("button",{key:1,onClick:B=>o(i),class:"text-yellow-600 hover:text-yellow-900"}," Request Info ",8,il)):u("",!0),i.status==="pending"?(n(),a("button",{key:2,onClick:B=>x(i),class:"text-red-600 hover:text-red-900"}," Reject ",8,rl)):u("",!0)])]))),128))])])]),R.value.totalPages>1?(n(),K(ae,{key:0,"current-page":R.value.page,"total-pages":R.value.totalPages,onPageChange:N},null,8,["current-page","total-pages"])):u("",!0)])):u("",!0),A.value==="sellers"?(n(),a("div",dl,[e("div",ul,[r[15]||(r[15]=e("h2",{class:"text-lg font-medium"},"Sellers Management",-1)),e("div",cl,[k(e("input",{"onUpdate:modelValue":r[1]||(r[1]=i=>g.value.search=i),onInput:r[2]||(r[2]=(...i)=>w(X)&&w(X)(...i)),placeholder:"Search sellers...",class:"rounded-md border-gray-300 text-sm"},null,544),[[Z,g.value.search]]),k(e("select",{"onUpdate:modelValue":r[3]||(r[3]=i=>g.value.status=i),onChange:U,class:"rounded-md border-gray-300 text-sm"},[...r[14]||(r[14]=[e("option",{value:"all"},"All Status",-1),e("option",{value:"approved"},"Approved",-1),e("option",{value:"suspended"},"Suspended",-1)])],544),[[O,g.value.status]])])]),e("div",pl,[e("table",ml,[r[16]||(r[16]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Seller "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Business "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Performance "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",gl,[(n(!0),a(E,null,I(f.value,i=>{var B;return n(),a("tr",{key:i.id},[e("td",vl,[e("div",xl,[e("div",null,[e("div",yl,l(i.display_name),1),e("div",bl,l(i.email),1)])])]),e("td",fl,[e("div",hl,l(((B=i.seller_settings)==null?void 0:B.business_name)||"N/A"),1),e("div",wl,l(i.seller_tier)+" tier ",1)]),e("td",_l,[e("div",$l,l(i._count_listings)+" listings ",1),e("div",kl,l(i._count_orders)+" orders ",1)]),e("td",Sl,[i.suspended?(n(),a("span",Al," Suspended ")):(n(),a("span",Cl," Active "))]),e("td",jl,[e("button",{onClick:ne=>h(i),class:"text-blue-600 hover:text-blue-900"}," View ",8,ql),i.suspended?u("",!0):(n(),a("button",{key:0,onClick:ne=>$(i),class:"text-red-600 hover:text-red-900"}," Suspend ",8,Rl)),i.suspended?(n(),a("button",{key:1,onClick:ne=>H(i),class:"text-green-600 hover:text-green-900"}," Unsuspend ",8,Dl)):u("",!0)])])}),128))])])]),D.value.totalPages>1?(n(),K(ae,{key:0,"current-page":D.value.page,"total-pages":D.value.totalPages,onPageChange:U},null,8,["current-page","total-pages"])):u("",!0)])):u("",!0),A.value==="stats"?(n(),a("div",Ul,[e("div",Ml,[e("div",Tl,[r[17]||(r[17]=e("h3",{class:"text-lg font-medium mb-4"},"Recent Orders",-1)),e("div",Vl,[(n(!0),a(E,null,I(((M=v.value.recentActivity)==null?void 0:M.orders)||[],i=>(n(),a("div",{key:i.id,class:"flex justify-between items-center text-sm"},[e("span",null,"Order #"+l(i.id),1),e("span",Pl,"$"+l(i.total_amount),1),e("span",Bl,l(G(i.created_at)),1)]))),128))])]),e("div",El,[r[18]||(r[18]=e("h3",{class:"text-lg font-medium mb-4"},"Recent Listings",-1)),e("div",Il,[(n(!0),a(E,null,I(((d=v.value.recentActivity)==null?void 0:d.listings)||[],i=>{var B;return n(),a("div",{key:i.id,class:"flex justify-between items-center text-sm"},[e("span",null,l(((B=i.cards)==null?void 0:B.name)||"Card"),1),e("span",Ll,"$"+l(i.price),1),e("span",Nl,l(G(i.created_at)),1)])}),128))])])])])):u("",!0)])]),C.value?(n(),K(Ht,{key:0,application:C.value,onClose:r[4]||(r[4]=i=>C.value=null),onApproved:t,onRejected:t,onInfoRequested:t},null,8,["application"])):u("",!0),_.value&&m.value?(n(),K(no,{key:1,seller:_.value,"action-type":m.value,onClose:c,onCompleted:b},null,8,["seller","action-type"])):u("",!0)])}}};export{Jl as default};
