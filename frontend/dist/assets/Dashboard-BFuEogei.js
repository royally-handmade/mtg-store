import{c as o,b as r,d as e,n as h,l as R,R as N,t as a,L as _,g as V,S as L,u as U,r as y,o as W,a as Z,i as v,f as l,w as c,h as b,F as S,j as $,e as D,m as A}from"./index-D5lSLxc0.js";import{r as B}from"./DocumentTextIcon-BaydoBVY.js";import{r as E}from"./CurrencyDollarIcon-B4wsOogc.js";import{r as M}from"./TruckIcon-Clij3_1w.js";function F(m,n){return r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})])}const I={class:"bg-white rounded-lg shadow p-6"},z={class:"flex items-center justify-between"},P={class:"text-sm font-medium text-gray-600"},Q={class:"text-2xl font-bold text-gray-900"},j={__name:"StatCard",props:{title:String,value:[String,Number],icon:{type:String,default:"document"}},setup(m){const n=m,x=h(()=>({heart:N,"shopping-cart":R,truck:M,"currency-dollar":E,"user-group":F,document:B})[n.icon]||B),u=h(()=>({heart:"bg-red-100","shopping-cart":"bg-blue-100",truck:"bg-green-100","currency-dollar":"bg-yellow-100","user-group":"bg-purple-100",document:"bg-gray-100"})[n.icon]||"bg-gray-100"),g=h(()=>({heart:"text-red-600","shopping-cart":"text-blue-600",truck:"text-green-600","currency-dollar":"text-yellow-600","user-group":"text-purple-600",document:"text-gray-600"})[n.icon]||"text-gray-600");return(p,f)=>(r(),o("div",I,[e("div",z,[e("div",null,[e("p",P,a(m.title),1),e("p",Q,a(m.value),1)]),e("div",{class:_(["p-3 rounded-full",u.value])},[(r(),V(L(x.value),{class:_(["h-6 w-6",g.value])},null,8,["class"]))],2)])]))}},T={class:"space-y-6"},Y={class:"flex justify-between items-center"},q={class:"text-sm text-gray-600"},G={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},H={class:"card"},J={class:"flex justify-between items-center mb-6"},K={key:0,class:"text-center py-8 text-gray-500"},X={key:1,class:"space-y-4"},ee={class:"flex justify-between items-start"},te={class:"font-medium"},se={class:"text-sm text-gray-600"},re={class:"text-xs text-gray-400"},oe={class:"card"},le={class:"flex justify-between items-center mb-6"},ae={key:0,class:"text-center py-8 text-gray-500"},ne={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},de=["src","alt"],ie={class:"flex-1 min-w-0"},ce={class:"font-medium text-sm truncate"},ue={class:"text-xs text-gray-600"},ge={key:0,class:"text-xs text-green-600"},me={class:"card"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ye={__name:"Dashboard",setup(m){const n=U(),x=y({wishlistCount:0,cartCount:0,orderCount:0,savedAmount:0}),u=y([]),g=y([]),p=async()=>{try{const[d,t]=await Promise.all([A.get("/orders"),A.get("/wishlist?limit=6")]);u.value=d.data.orders||[],g.value=t.data,x.value={wishlistCount:g.value.length,orderCount:u.value.length}}catch(d){console.error("Error fetching dashboard data:",d)}},f=d=>new Date(d).toLocaleDateString(),O=d=>({pending:"bg-yellow-100 text-yellow-800",processing:"bg-blue-100 text-blue-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800"})[d]||"bg-gray-100 text-gray-800";return W(p),(d,t)=>{var w,k;const i=Z("router-link");return r(),o("div",T,[e("div",Y,[t[0]||(t[0]=e("h1",{class:"text-3xl font-bold"},"Dashboard",-1)),e("div",q," Welcome back, "+a(((w=v(n).profile)==null?void 0:w.display_name)||((k=v(n).user)==null?void 0:k.email)),1)]),e("div",G,[l(j,{title:"Wishlist Items",value:x.value.wishlistCount,icon:"heart"},null,8,["value"]),l(j,{title:"Orders",value:x.value.orderCount,icon:"truck"},null,8,["value"])]),e("div",H,[e("div",J,[t[2]||(t[2]=e("h2",{class:"text-xl font-bold"},"Recent Orders",-1)),l(i,{to:"/orders",class:"text-blue-600 hover:text-blue-800"},{default:c(()=>[...t[1]||(t[1]=[b(" View All ‚Üí ",-1)])]),_:1})]),u.value.length===0?(r(),o("div",K,[l(v(M),{class:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t[4]||(t[4]=e("p",null,"No orders yet",-1)),l(i,{to:"/cards",class:"text-blue-600 hover:text-blue-800"},{default:c(()=>[...t[3]||(t[3]=[b(" Start shopping ‚Üí ",-1)])]),_:1})])):(r(),o("div",X,[(r(!0),o(S,null,$(u.value,s=>(r(),o("div",{key:s.id,class:"border rounded-lg p-4 hover:bg-gray-50"},[l(i,{to:"/orders/"+s.id},{default:c(()=>{var C;return[e("div",ee,[e("div",null,[e("div",te,"Order #"+a(s.id.slice(0,8)),1),e("div",se,a(((C=s.order_items)==null?void 0:C.length)||0)+" items ‚Ä¢ $"+a(s.total_amount)+" CAD ",1),e("div",re,a(f(s.created_at)),1)]),e("span",{class:_([O(s.status),"px-2 py-1 rounded-full text-xs font-medium"])},a(s.status),3)])]}),_:2},1032,["to"])]))),128))]))]),e("div",oe,[e("div",le,[t[6]||(t[6]=e("h2",{class:"text-xl font-bold"},"Wishlist",-1)),l(i,{to:"/wishlist",class:"text-blue-600 hover:text-blue-800"},{default:c(()=>[...t[5]||(t[5]=[b(" View All ‚Üí ",-1)])]),_:1})]),g.value.length===0?(r(),o("div",ae,[l(v(N),{class:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t[8]||(t[8]=e("p",null,"Your wishlist is empty",-1)),l(i,{to:"/cards",class:"text-blue-600 hover:text-blue-800"},{default:c(()=>[...t[7]||(t[7]=[b(" Browse cards ‚Üí ",-1)])]),_:1})])):(r(),o("div",ne,[(r(!0),o(S,null,$(g.value.slice(0,6),s=>(r(),o("div",{key:s.id,class:"flex items-center space-x-3 p-3 border rounded hover:bg-gray-50"},[e("img",{src:s.cards.image_url,alt:s.cards.name,class:"w-12 h-16 object-cover rounded"},null,8,de),e("div",ie,[e("div",ce,a(s.cards.name),1),e("div",ue,a(s.cards.set_number.toUpperCase()),1),s.max_price?(r(),o("div",ge," Max: $"+a(s.max_price),1)):D("",!0)])]))),128))]))]),e("div",me,[t[12]||(t[12]=e("h2",{class:"text-xl font-bold mb-6"},"Quick Actions",-1)),e("div",xe,[l(i,{to:"/deck-builder",class:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-blue-500 hover:bg-blue-50"},{default:c(()=>[...t[9]||(t[9]=[e("div",{class:"text-2xl mb-2"},"üÉè",-1),e("div",{class:"font-medium"},"Build a Deck",-1),e("div",{class:"text-sm text-gray-600"},"Upload decklist and find cards",-1)])]),_:1}),v(n).isSeller?D("",!0):(r(),V(i,{key:0,to:"/become-seller",class:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-green-500 hover:bg-green-50"},{default:c(()=>[...t[10]||(t[10]=[e("div",{class:"text-2xl mb-2"},"üí∞",-1),e("div",{class:"font-medium"},"Become a Seller",-1),e("div",{class:"text-sm text-gray-600"},"Start selling your cards",-1)])]),_:1})),l(i,{to:"/profile",class:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center hover:border-purple-500 hover:bg-purple-50"},{default:c(()=>[...t[11]||(t[11]=[e("div",{class:"text-2xl mb-2"},"‚öôÔ∏è",-1),e("div",{class:"font-medium"},"Account Settings",-1),e("div",{class:"text-sm text-gray-600"},"Update your profile",-1)])]),_:1})])])])}}};export{ye as default};
